<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Aprel8</title>
    <link rel="stylesheet" href="/css/bootstrap.css">
    <script src="/js/jquery.js"></script>
</head>

<body>

<div class="ball ball1"><span>0</span></div>

<div class="clearfix"></div>

<div class="ball balla1"><span>1</span></div>
<div class="ball balla2"><span>2</span></div>
<div class="ball balla3"><span>3</span></div>

<div class="clearfix"></div>
<hr>
<div id="jackpot_display"></div>
<hr>
<div class="mybuttons">
    <button id="reset_numbers_btn" class="btn btn-dark">Reset</button>
    <button id="change_numbers_btn" class="btn btn-dark">Start</button>
</div>

<style>
    .ball {
        width: 200px;
        height: 200px;
        display: inline-block;
        float: left;
        margin: 10px;
        text-align: center;
        border-radius: 50%;
        border: 8px double #4f0001;
    }
    .ball1 {
        background-color: red;
    }
    .balla1 {
        background-color: red;
    }
    .balla2 {
        background-color: #2cbf59;
    }
    .balla3 {
        background-color: purple;
    }
    .ball span {
        position: relative;
        top: 8px;
        padding: 5px;
        color: black;
        font-size: 500%;
    }
    #winning_display_image {
        width: 580px;
        position: absolute;
        top: 8%;
        left: 26%;
        z-index: 1000;
        background-color: #ffffeb;
        display: none;
    }
    #winning_display_image img {
        width: 100%;
    }
</style>

<script>
    $(function () {
        let stop = false;
        myTimer();
        let winning_numbers = [1, 2, 3];

        $("#reset_numbers_btn").click(function () {
            //resetNumbers();
            stop = true;
        });

        $("#change_numbers_btn").click(function () {
            stop = false;
            myTimer();
        });
        function resetNumbers() {
            $(".ball1").html("<span> </span>");
            $(".ball2").html("<span> </span>");
            $(".ball3").html("<span> </span>");
        }
        function changeNumber() {
            let number1 = generateRandomNumber();
            let number2 = generateRandomNumber();
            let number3 = generateRandomNumber();

            let jackpot = [];
            for (let n = 0; n < winning_numbers.length; n++) {
                if (winning_numbers[0] == number1) {
                    jackpot[1] = number1;
                }
                if (winning_numbers[1] == number2) {
                    jackpot[2] = number2;
                }
                if (winning_numbers[2] == number3) {
                    jackpot[3] = number3;
                }
            }
            let total_win = 0;
            for (let w = 1; w < jackpot.length + 1; w++) {
                console.log("total win:" + total_win);
                if (w == 1 && jackpot[w] > 0) {
                    total_win++;
                }
                if (w == 2 && jackpot[w] > 0 && total_win >= 1) {
                    total_win++;
                }
                if (w == 3 && jackpot[w] > 0 && total_win >= 2) { //<---- WIP
                    total_win++;
                }
            }
            $(".ball1").html("<span>" + number1 + "</span>");
            $(".ball2").html("<span>" + number2 + "</span>");
            $(".ball3").html("<span>" + number3 + "</span>");
        }
        function generateRandomNumber(maxNumber = 36) {
            return Math.floor((Math.random() * maxNumber) + 1);
        }
        function myTimer() {
            let mycount = 0;
            setInterval(function () {
                if (stop) {
                    return false;
                }
                mycount++;
                changeNumber();
            }, 100);
        }
    })
</script>
</body>
</html>