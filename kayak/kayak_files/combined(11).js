(new R9.logger).time("combined");(function(d,b){d.createComponentClass("common.destinationtiles.ajax.Tile",{useRetina:void 0,options:{isMobile:!0,suppressRetina:void 0},init:function(){this.useRetina=1<window.devicePixelRatio&&!this.options.suppressRetina;setTimeout(this.initTilePhoto.bind(this),1)},initTilePhoto:function(){var c=this,a=this.element.find(".tilePhoto").first();this.options.isMobile?(a.attr("src",this.useRetina?a.data("retina"):a.data("original")),a.on("load",function(){a.closest(".tile").css("background-image","url("+
a.attr("src")+")");b("#"+c.id()).find(".content").addClass("loaded")})):(this.useRetina&&a.data("original",a.data("retina")),b(this.element).lazyLoad({skip_invisible:!0,threshold:150,load:function(){a.closest(".tile").css("background-image","url("+a.attr("src")+")");b("#"+c.id()).find(".content").addClass("loaded")}}))}})})(R9,jQuery);(function(a,b){a.createComponentClass("common.personalization.BestDealsBlock",{options:{title:void 0,orderIndex:void 0},init:function(){},addEventHandlers:function(){this.registerEvent("click",this.element.find(".clickSection"),function(){a.Analytics.api.trackEvent({subPageId:"personalization",category:"travelhacker-bestdeals",action:this.options.orderIndex+"-"+this.options.title.replace(/\s+/g,"")+"-ItemClicked"})}.bind(this))}})})(R9,jQuery);(function(a,b){a.createComponentClass("common.personalization.BestDealsSection",{options:{},init:function(){a.Analytics.api.trackEvent({subPageId:"personalization",category:"travelhacker-bestdeals",action:"shown"})},addEventHandlers:function(){this.registerEvent("click",this.getChildElement("seeAllLink"),function(){a.Analytics.api.trackEvent({subPageId:"personalization",category:"travelhacker-bestdeals",action:"seeAllLinkClicked"})})}})})(R9,jQuery);(function(d,e){function f(a){return function(b,c){d.events.publish(a,c)}}d.createComponentClass("sem.common.carousel.SlickCarousel",{options:{dots:!1,arrows:!1,prevArrow:void 0,nextArrow:void 0,infinite:!0,slidesToShow:3,centerMode:!0,variableWidth:!0,autoplay:!1,autoplaySpeed:3E3,slidesToScroll:1,initialSlide:0,swipeToSlide:!0,adaptiveHeight:!0,fade:!1,edgeFriction:0,speed:300,touchThreshold:50,tileClickEvent:"sem.carousel.tileClicked",responsive:{},hasLazy:!1,loggingPrefix:"",lazyLoadComponent:!1,
lazyLoadComponentThreshold:1E3,lazyLoadSlider:!1,lazyLoad:"ondemand"},slick:null,inlineComponentsReady:function(){var a=this;this.options.lazyLoadComponentThreshold=10;this.options.lazyLoadComponent?this.getChildElement("slick").lazyLoad({skip_invisible:!0,threshold:this.options.lazyLoadComponentThreshold,appear:function(){var b=a.element.find(".lazyLoadPlaceholder");b&&b.remove();a.initCarousel()}}):this.initCarousel()},initCarousel:function(){this.slick=this.getChildElement("slick").on("destroy",
f("sem.slick.destroyed")).slick(this.options).slick("getSlick");if(this.options.hasLazy){var a=this;this.element.find(".slick-arrow").on("click",function(){setTimeout(function(){jq(document.body).trigger("scroll")},a.options.speed+10)})}d.events.publish("sem.slick.initialized");var b=this;this.slick.$prevArrow&&this.registerEvent("click",this.slick.$prevArrow,function(){d.Analytics.api.trackEvent({category:"carousel"+(b.options.loggingPrefix?"/"+b.options.loggingPrefix:""),action:"prev-arrow",label:"click"})});
this.slick.$nextArrow&&this.registerEvent("click",this.slick.$nextArrow,function(){d.Analytics.api.trackEvent({category:"carousel"+(b.options.loggingPrefix?"/"+b.options.loggingPrefix:""),action:"next-arrow",label:"click"})});if(this.options.lazyLoadSlider){var c=this.element.find(".slick-slider");c.on("lazyLoaded",function(a,d,e,f){b.element.css("opacity",1);setTimeout(function(){c.addClass("loaded")},750)})}this.element.on("click",".slick-slide",e.proxy(this,"slickSlideClicked"))},slickSlideClicked:function(a){a=
e(a.currentTarget);var b=this.slick.$slides.length,c=a.data("slick-index");0>c?c+=b:c>b&&(c-=b);0<=c&&c<b&&(a=e(this.slick.$slides[c]));d.events.publish(this.options.tileClickEvent,{id:a.attr("id")||a.data("id"),slide:a})}})})(R9,window.jq||window.jQuery);(new R9.logger).timeEnd("combined");