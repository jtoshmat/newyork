define("default/flights/results/react/utils/FlexMatrixClientBuilder",["exports","moment","common/utils/react/logger","flights/results/react/constants/FlexMatrixConstants","common/react/constants/globals"],function(e,a,t,r,l){"use strict";function i(e,a){return a?a+"_"+e:e}function n(e,a){return _[a]||(_[a]=e.replace(v,function(e,t,r,l){return t+a+l})),_[a]}function d(e){return M[e]?M[e]:(0,F.default)(e,h.default.dateFormats.isoDate)}function u(e){return L[e]?L[e]:d(e).format(r.flexFilterDateFormat)}function s(e){return R[e]||(R[e]=(0,F.default)(e,r.flexFilterDateFormat)),R[e]}function o(e){if(!T[e]){var a=s(e);T[e]=a.format(h.default.dateFormats.dayOfWeek)}return T[e]}function f(){_={},M={},L={},R={},T={}}function c(e,a,t){var l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{checked:t,disabled:!1,_daysFromWeek:"number"==typeof a?a:e.diff(a,"days"),filterValue:e.format(r.flexFilterDateFormat),queryDate:l}}function p(e,a,t,l){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.displayModes.NONE,d=Array.from(arguments).join("_");if(g[d])return g[d];var u={departLabels:[],matrixEntries:{},returnLabels:[],disableNonstopToggle:!1,placeholder:!0,roundTrip:!e||!!a,selectedDateCount:0},o=t||"plusminusthree",f=l,p=!1;if([r.displayModes.FLEX_DATE_PREDICTIONS,r.displayModes.FLEX_FOR_ALL_BANNER].includes(n)){var m="exact"===o&&(!f||"exact"===f);r.displayModes.FLEX_DATE_PREDICTIONS===n?(p=m,o="plusminusthree",f=u.roundTrip?"plusminusthree":f):r.displayModes.FLEX_FOR_ALL_BANNER===n&&m&&(p=!0,u.roundTrip?"exact"===f&&(o="plusminusone",f="plusminusone"):o="plusminustwo")}void 0===f&&(f="plusminusthree");for(var y=babelHelpers.slicedToArray(r.flexDateNumericalRanges[o],2),D=y[0],b=y[1],h=e?(0,F.default)(e):(0,F.default)().add(-1*D,"days"),x=h?(0,F.default)(e).add(D,"days"):(0,F.default)(),v=(0,F.default)(x).startOf("week"),E=void 0,V=D;V<=b;V+=1){var _=!p||h.get("date")===x.get("date");u.departLabels.push(c(x,v,_,h.isSame(x))),x.add(1,"days")}if(u.roundTrip){var M=babelHelpers.slicedToArray(r.flexDateNumericalRanges[f],2),L=M[0],R=M[1],T=a?(0,F.default)(a).add(L,"days"):(0,F.default)().add(b+L,"days");E=a?(0,F.default)(a):(0,F.default)().add(-1*L,"days");for(var C=L;C<=R;C+=1){var k=!p||E.get("date")===T.get("date");u.returnLabels.push(c(T,v,k,E.isSame(T))),T.add(1,"days")}}else u.returnLabels=[{}];return u.departLabels.forEach(function(e){return u.returnLabels.forEach(function(a){var t=void 0===a.daysFromWeek?1:a._daysFromWeek-e._daysFromWeek,r=e.checked&&(!a||a.checked);r&&(u.selectedDateCount+=1),u.matrixEntries[i(e.filterValue,a.filterValue)]=babelHelpers.extends({},A,{departFilterValue:e.filterValue,returnFilterValue:a.filterValue||"",departDaysAway:s(e.filterValue).diff(h,"day"),returnDaysAway:a.filterValue&&E?s(a.filterValue).diff(E,"day"):0,queryDate:e.queryDate&&(!a||a.queryDate),selected:r,disabled:t<0,dateRange:t})})}),g[d]=u,u}function m(e,a){if(!e)return null;var t=window.location,l=t.origin,i=t.pathname,d=(0,F.default)(e,r.flexFilterDateFormat).format(h.default.dateFormats.isoDate),u=void 0;if(a){var s=n(i,d),o=(0,F.default)(a,r.flexFilterDateFormat).format(h.default.dateFormats.isoDate);u=s.replace(V,function(e,a,t){return a+o})}else u=i.replace(E,function(e,a,t){return a+d});return l+u}function y(e,a,t,r){new b.default("FlexMatrixClientBuilder").warnInternal("axis label needed to be backfilled for date "+e+". This shouldn't ever be needed.");var l="exact"!==r||e===t;return c(d(e),a,l)}function D(e,a){var t={},l={},n={},d=a.SearchPoll||{},o=d.depart_date_canon,c=d.flexCategory,p=d.return_date_canon,D=a.FlexMatrix.data||{},F=D.departLabels,b=D.returnLabels;f();var h=s(o),g=!!p&&s(p);return e.forEach(function(e){var a=u(e.startDate),d=e.endDate?u(e.endDate):null,f=i(a,d),D=Math.abs(e.startModifier)+(d?Math.abs(e.endModifier):0),x={},v={};F&&(l[a]||(l[a]=F.find(function(e){return e.filterValue===a})||y(e.startDate,e.startModifier,o,c)),x=l[a],d&&(n[d]||(n[d]=b.find(function(e){return e.filterValue===d})||y(e.endDate,e.endModifier,p,c)),v=n[d])),t[f]=babelHelpers.extends({},A,{allFlights:babelHelpers.extends({},A.allFlights,{displayPrice:R9&&R9.Common?R9.Common.Utils.formatPrice(e.minPrice):""+e.minPrice,price:e.minPrice,priceCategory:r.priceCategories.DEFAULT}),departFilterValue:x.filterValue,returnFilterValue:v.filterValue,departDaysAway:s(x.filterValue).diff(h,"day"),returnDaysAway:v.filterValue&&g?s(v.filterValue).diff(g,"day"):0,queryDate:x.queryDate&&!!v.queryDate,selected:!!x.checked&&!!v.checked,disabled:D<0,prediction:!0,placeholder:!1,searchUrl:m(x.filterValue,v.filterValue),dateRange:D})}),t}Object.defineProperty(e,"__esModule",{value:!0}),e.makeMatrixEntryKey=i,e.isoDateToMoment=d,e.predictionDateToCanonical=u,e.canonicalDateToMoment=s,e.filterDateToDayOfWeek=o,e.buildPlaceholderPollData=p,e.buildPredictedMatrixEntries=D;var F=babelHelpers.interopRequireDefault(a),b=babelHelpers.interopRequireDefault(t),h=babelHelpers.interopRequireDefault(l),g={},x=h.default.dateFormats.isoDate.replace(/\w/g,"\\d")+"[-0-9A-z]{0,}",v=new RegExp("(^.+/)("+x+")(/"+x+")","g"),E=new RegExp("(^.+/)("+x+")","g"),V=new RegExp("(^.+/"+x+"/)("+x+")","g"),_={},M={},L={},R={},T={},A={allFlights:{categoryThresholds:null,cheapestFlight:null,displayPrice:null,price:0,priceCategory:r.priceCategories.DEFAULT,similarFlights:0},departFilterValue:"",returnFilterValue:"",queryDate:!1,selected:!1,disabled:!1,prediction:!1,placeholder:!0,searchUrl:null}});define("default/common/utils/react/logger",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){},o={error:n,warn:n,log:n,info:n,debug:n,profile:n,profileEnd:n,time:n,timeEnd:n},r={errorInternal:n,warnInternal:n,console:n,consoleGroup:n};e.default=function(){return"undefined"!=typeof R9&&R9.logger?R9.logger:"undefined"!=typeof console?function(){return babelHelpers.extends({},console,r)}:function(){return babelHelpers.extends({},o,r)}}()});define("default/common/results/filters/react/FilterStateController",["exports","common/results/filters/react/actions/FilterStateActions","common/results/react/constants/ResultsPageConstants","common/utils/react/events","common/utils/react/question","common/utils/react/logger"],function(e,t,n,r,u,a){"use strict";function l(){var e=S.default.ask(n.RP_QUESTION_FILTER_STATE)||{};return Object.keys(e)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;Object.keys(e).forEach(function(n){y.default.publish("resultspage.filters.sync",{name:n,reset:t,state:e[n],syncPreservedState:!0})}),y.default.publish("filters.changed",{})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={},u=[],a=S.default.ask(n.RP_QUESTION_FILTER_DATA),l={};[].concat(e).forEach(function(e){if(a&&a[e]&&a[e].valueMap){var n={};Object.keys(a[e].valueMap).forEach(function(t){var r=a[e].valueMap[t];n[t]=r.resetState}),l[e]=babelHelpers.extends({},a[e],{isDirty:!1,isFiltering:!1,isUserManipulated:t,valueMap:n})}_[e]?r[e]=null:u.push(e)}),"undefined"!=typeof R9&&R9.redux.dispatch(m.setFilterResetPending(e,l)),i(r,!0),u.forEach(function(e){return y.default.publish("filter.reset",{name:e,userClick:t})})}function c(){s(l())}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[].concat(e);s(Object.keys(l()).filter(function(e){return!t.includes(e)}))}function f(e,t,n,r,u){e[r]=e[r]||{},e[r][u]=y.default.subscribe(t,{name:r},n.bind(this))}function d(){var e=Object.keys(_).length;e>0&&null===j?j=y.default.subscribe("filters.reset",function(){return c()}):0===e&&null!==j&&(y.default.unsubscribe("filters.reset",j),j=null)}function p(e,t,n){[].concat(e).filter(function(e){return void 0===_[e]}).forEach(function(e){"function"==typeof n&&f(T,"filters.changed",function(e){return n(e)},e,t),f(_,"filter.reset",function(){return s([e])},e,t)}),M||(M=y.default.subscribe("filters.changed",function(e){return R9.redux.dispatch(m.handleAnyFiltersChanged(e))})),d()}function b(e,t,n){e[t]&&e[t][n]&&(y.default.unsubscribe("filter.reset",e[t][n]),delete e[t][n],0===Object.keys(e[t]).length&&delete e[t])}function v(e,t){[].concat(e).forEach(function(e){b(T,e,t),b(_,e,t)}),d()}function h(e,t){var r={},u=t&&t[e]?t:S.default.ask(n.RP_QUESTION_FILTER_DATA);return u&&u[e]&&(u[e].valueMap?Object.keys(u[e].valueMap).forEach(function(t){var n=u[e].valueMap[t];r[t]=n.selected}):window.R9&&window.R9.reactDevMode&&O.debug("filterName "+e+" passed to getCurrentValueSetFilterState has no valueMap.\n                Is it a value set filter?")),r}function R(e,t){var n={};return Object.keys(e).forEach(function(r){var u=h(r,t);n[r]=e[r](u)||u}),n}function g(e,t){var n=R(e,t);"undefined"!=typeof R9&&R9.redux.dispatch(m.updateValueSetFilterData(n)),i(n)}function E(e){var t=S.default.ask(n.RP_QUESTION_FILTER_STATE)||{},r={};return Object.keys(e).forEach(function(n){var u=t[n]||{};r[n]=e[n](u)||u}),r}function F(e){i(E(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.resetFilters=s,e.resetAllFilters=c,e.resetAllExcept=o,e.registerReactFilters=p,e.unregisterReactFilters=v,e.getCurrentValueSetFilterState=h,e.pushValueSetFilterUpdates=g,e.pushFilterUpdates=F;var m=babelHelpers.interopRequireWildcard(t),y=babelHelpers.interopRequireDefault(r),S=babelHelpers.interopRequireDefault(u),k=babelHelpers.interopRequireDefault(a),O=new k.default("common/results/filters/FilterStateController"),T={},_={},M=null,j=null});define("default/common/utils/react/events",["exports"],function(e){"use strict";function n(e){e&&e.preventDefault()}function t(e){e&&e.stopPropagation()}function o(e){e&&(e.stopPropagation(),e.preventDefault())}Object.defineProperty(e,"__esModule",{value:!0}),e.preventDefault=n,e.stopPropagation=t,e.cancelEvent=o,e.default=function(){if("undefined"!=typeof R9&&R9.events)return R9.events;var e=function(){};return{publish:e,subscribe:function(){var e=function(){return console.warn("subscription events not supported when R9 is not available")};return e.priority=null,e},unsubscribe:e,when:e,ready:e,unready:e}}()});define("default/common/react/ReactSvgInline",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={title:/<title>.*<\/title>/gi,desc:/<desc>.*<\/desc>/gi,comment:/<!--.*-->/gi,defs:/<defs>.*<\/defs>/gi,width:/ +width="\d+(\.\d+)?(px)?"/gi,height:/ +height="\d+(\.\d+)?(px)?"/gi,fill:/ +fill="(none|#[0-9a-f]+)"/gi,sketchMSShapeGroup:/ +sketch:type="MSShapeGroup"/gi,sketchMSPage:/ +sketch:type="MSPage"/gi,sketchMSLayerGroup:/ +sketch:type="MSLayerGroup"/gi},i=function(e){return e.trim().split('" ')},r=function(e){return e.trim().split('="')},n=function(e){return i(e).map(function(e){if(e.indexOf('="')>=0){var t=r(e);if(t.length>1)return babelHelpers.defineProperty({},t[0],t[1].replace(/^"|"$/,"").trim())}return null}).filter(function(e){return e}).reduce(function(e,t){return babelHelpers.extends({},e,t)},{})},l=function(e){var t=e.match(/<svg([^>]*)>/);return t&&t.length>1?t[1].trim():""},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"==typeof e?e.replace(/<(?:.|\n)*?>/gm,""):""},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.title,r=t.titleId,n=t.description,l=t.descriptionId;if(!(i||r||n||l))return e;var s=e.match(/(<svg.*?>)(.*?)(<\/svg>)/);if(!s||s.length<3)return e;var c=babelHelpers.slicedToArray(s,4),d=c[1],o=c[2],p=c[3],u=o,g=a(n);""!==g&&l&&(u='<desc id="'+l+'">'+g+"</desc>"+u);var h=a(i);return""!==h&&r&&(u='<title id="'+r+'">'+h+"</title>"+u),""+d+u+p},c=function e(i){var r=i.className,a=i.parentClassName,c=i.svg,d=i.id,o=i.parentId,p=i.ariaLabelledBy,u=i.title,g=i.ariaDescribedBy,h=i.description,f=i.width,m=i.height,v=i.fill,b=i.cleanup,y=i.cleanupExceptions,S=i.noWrapperElement,x=babelHelpers.objectWithoutProperties(i,["className","parentClassName","svg","id","parentId","ariaLabelledBy","title","ariaDescribedBy","description","width","height","fill","cleanup","cleanupExceptions","noWrapperElement"]);(!0===b||0===b.length&&y.length>0)&&(b=Object.keys(t)),b=b.filter(function(e){return!(y.indexOf(e)>-1)}),f&&void 0===m&&(m=f);var M=d||Date.now().toString(36),k=u?p||"title_"+M:null,I=h?g||"description_"+M:null,H=s(e.cleanupSvg(c,b),{titleId:k,title:u,descriptionId:I,description:h}),_="";k&&(_+=" aria-labelledby="+k),I&&(_+=" aria-describedby="+I);var w=d?"id="+d:"";return S?React.createElement("svg",babelHelpers.extends({},n(l(H)),n(_.trim()),n(w),{className:r,"aria-labelledby":p,"aria-describedby":g,role:"img"},x,{dangerouslySetInnerHTML:{__html:H.replace(/<svg([^>]*)>/,"").replace(/<\/svg>/,"")}})):React.createElement("span",babelHelpers.extends({},x,o?{id:o}:{},{className:a?"svg "+a:"svg",style:{transform:"translate3d(0,0,0)",verticalAlign:"middle",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",height:m||!1,width:f||!1,fill:v||!1},dangerouslySetInnerHTML:{__html:H.replace(/<svg/,"<svg "+w+' class="'+(r||"")+'" role="img" '+_.trim()+' style="width:inherit;height:inherit;line-height:inherit;color:inherit;"')}}))};c.defaultProps={cleanup:[],cleanupExceptions:[]},c.cleanupSvg=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(t).filter(function(e){return i.indexOf(e)>-1}).reduce(function(e,i){return e.replace(t[i],"")},e).trim()},e.default=c});define("default/flights/results/react/utils/InsightsBannerUtils",["exports","flights/results/react/constants/AveragePriceInsightsConstants","flights/results/react/constants/FlexForAllInsightsContants","flights/results/react/constants/InsightsBannerConstants","flights/results/react/constants/NearbyAirportInsightsContants","common/utils/react/logger"],function(e,t,a,n,r,s){"use strict";function i(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"displayed",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return{action:n,category:a.replace(/_/g,"").toLowerCase(),label:r||g[e],value:p(e,t,a)}}Object.defineProperty(e,"__esModule",{value:!0}),e.getAnalyticsData=i;var l,o=babelHelpers.interopRequireDefault(s),p=function(e,s,i){if(n.bannerTypes.FLEX_FOR_ALL===i){if(e===n.advantageTypes.ALL_SAME)return"similar";if(e===n.advantageTypes.ALREADY_BEST)return"cheapest";if(e===n.advantageTypes.SAVINGS&&s===a.flexRecommendationTypes.BOTH)return"fullflex";if(s===a.flexRecommendationTypes.BOTH)return"doubleflex";if(s!==n.genericRecommendationTypes.NONE)return"singleflex"}else if(n.bannerTypes.NEARBY_AIRPORTS===i){if(s===r.airportRecommendationTypes.BOTH)return"doubleairport";if(s!==n.genericRecommendationTypes.NONE)return"singleairport"}else if(n.bannerTypes.AVERAGE_PRICE===i){if(s===t.averagePriceRecommendationTypes.AVERAGE_PRICE)return"isAverage";if(s!==t.averagePriceRecommendationTypes.ABOVE_AVERAGE_PRICE)return"aboveAverage";if(s!==t.averagePriceRecommendationTypes.BELOW_AVERAGE_PRICE)return"belowAverage"}return(new o.default).warn("Insights Banner: Invalid vs log value attempted for banner type "+i+"         with advantage type "+e+" and recommendation type "+s),""},g=(l={},babelHelpers.defineProperty(l,n.advantageTypes.ALREADY_BEST,"searchdate"),babelHelpers.defineProperty(l,n.advantageTypes.ALL_SAME,"similar"),babelHelpers.defineProperty(l,n.advantageTypes.SAVINGS,"alternatesavings"),babelHelpers.defineProperty(l,n.advantageTypes.NONSTOP,"nonstopalternate"),babelHelpers.defineProperty(l,n.advantageTypes.NONSTOP_SAVINGS,"nonstopsavings"),l);e.default=i});define("default/flights/results/react/NearbyAirportInsightsBanner",["exports","prop-types","stl!flights.results.NearbyAirportInsightsBanner.Banner","stl!flights.results.NearbyAirportInsightsBanner.Icon--Savings","stl!flights.results.NearbyAirportInsightsBanner.Icon__Svg--Savings","stl!flights.results.NearbyAirportInsightsBanner.Icon--FlightQuality","stl!flights.results.NearbyAirportInsightsBanner.Icon__Svg--FlightQuality","stl!flights.results.NearbyAirportInsightsBanner.Icon__Heading","stl!flights.results.NearbyAirportInsightsBanner.LinkButton","string!flights/results//NEARBY_AIRPORT_INSIGHTS_BANNER_HEADING_CHEAPER","string!flights/results//NEARBY_AIRPORT_INSIGHTS_BANNER_HEADING_NONSTOP_ORIGIN","string!flights/results//NEARBY_AIRPORT_INSIGHTS_BANNER_HEADING_NONSTOP_DESTINATION","string!flights/results//NEARBY_AIRPORT_INSIGHTS_BANNER_SUBHEADING_CHEAPER_ORIGIN","string!flights/results//NEARBY_AIRPORT_INSIGHTS_BANNER_SUBHEADING_CHEAPER_DESTINATION","string!flights/results//NEARBY_AIRPORT_INSIGHTS_BANNER_SUBHEADING_CHEAPER_BOTH","string!flights/results//NEARBY_AIRPORT_INSIGHTS_BANNER_SUBHEADING_NONSTOP","string!flights/results//NEARBY_AIRPORT_INSIGHTS_BANNER_SUBHEADING_NONSTOP_SAVINGS","string!flights/results//NEARBY_AIRPORT_INSIGHTS_BANNER_SHOW_RECOMMENDATION","string!flights/results//NEARBY_AIRPORT_INSIGHTS_BANNER_UNDO_RECOMMENDATION","flights/results/react/InsightsBanner","common/results/filters/react/FilterStateController","flights/results/react/actions/NearbyAirportInsightsBannerActions","flights/results/react/constants/InsightsBannerConstants","common/results/react/constants/ResultsPageConstants","flights/results/react/utils/InsightsBannerUtils","common/analytics/react/Analytics","common/react/constants/layout","common/react/constants/globals","common/utils/react/logger","common/utils/react/question","flights/results/react/constants/NearbyAirportInsightsContants"],function(e,t,r,a,s,n,i,l,o,p,u,d,b,g,f,c,N,y,R,h,A,H,T,I,_,S,m,E,O,v,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var B,D,G,C,M,q,V,k,F,U=babelHelpers.interopRequireDefault(t),j=babelHelpers.interopRequireDefault(r),L=babelHelpers.interopRequireDefault(a),Y=babelHelpers.interopRequireDefault(s),w=babelHelpers.interopRequireDefault(n),x=babelHelpers.interopRequireDefault(i),W=babelHelpers.interopRequireDefault(l),Q=babelHelpers.interopRequireDefault(o),z=babelHelpers.interopRequireDefault(p),K=babelHelpers.interopRequireDefault(u),J=babelHelpers.interopRequireDefault(d),X=babelHelpers.interopRequireDefault(b),Z=babelHelpers.interopRequireDefault(g),$=babelHelpers.interopRequireDefault(f),ee=babelHelpers.interopRequireDefault(c),te=babelHelpers.interopRequireDefault(N),re=babelHelpers.interopRequireDefault(y),ae=babelHelpers.interopRequireDefault(R),se=babelHelpers.interopRequireDefault(h),ne=babelHelpers.interopRequireWildcard(A),ie=babelHelpers.interopRequireDefault(S),le=babelHelpers.interopRequireDefault(E),oe=babelHelpers.interopRequireDefault(O),pe=babelHelpers.interopRequireDefault(v),ue={borderedIconSvgs:babelHelpers.defineProperty({},T.advantageTypes.DEFAULT,"control-tower"),iconSvgSize:babelHelpers.defineProperty({},T.advantageTypes.DEFAULT,m.sizes.LARGE),iconThemeStl:(B={},babelHelpers.defineProperty(B,T.advantageTypes.DEFAULT,w.default),babelHelpers.defineProperty(B,T.advantageTypes.SAVINGS,L.default),babelHelpers.defineProperty(B,T.advantageTypes.NONSTOP,w.default),babelHelpers.defineProperty(B,T.advantageTypes.NONSTOP_SAVINGS,L.default),B),iconSvgThemeStl:(D={},babelHelpers.defineProperty(D,T.advantageTypes.DEFAULT,x.default),babelHelpers.defineProperty(D,T.advantageTypes.SAVINGS,Y.default),babelHelpers.defineProperty(D,T.advantageTypes.NONSTOP,x.default),babelHelpers.defineProperty(D,T.advantageTypes.NONSTOP_SAVINGS,Y.default),D),headingThemeStl:babelHelpers.defineProperty({},T.advantageTypes.DEFAULT,W.default),subHeadingThemeStl:babelHelpers.defineProperty({},T.advantageTypes.DEFAULT,W.default),headingMessages:(M={},babelHelpers.defineProperty(M,T.advantageTypes.SAVINGS,z.default),babelHelpers.defineProperty(M,T.advantageTypes.NONSTOP,(G={},babelHelpers.defineProperty(G,P.airportRecommendationTypes.CHANGE_ORIGIN,K.default),babelHelpers.defineProperty(G,P.airportRecommendationTypes.CHANGE_DESTINATION,J.default),babelHelpers.defineProperty(G,P.airportRecommendationTypes.CHANGE_BOTH,K.default),G)),babelHelpers.defineProperty(M,T.advantageTypes.NONSTOP_SAVINGS,(C={},babelHelpers.defineProperty(C,P.airportRecommendationTypes.CHANGE_ORIGIN,K.default),babelHelpers.defineProperty(C,P.airportRecommendationTypes.CHANGE_DESTINATION,J.default),babelHelpers.defineProperty(C,P.airportRecommendationTypes.CHANGE_BOTH,K.default),C)),M),subheadingMessages:(F={},babelHelpers.defineProperty(F,T.advantageTypes.SAVINGS,(q={},babelHelpers.defineProperty(q,P.airportRecommendationTypes.CHANGE_ORIGIN,X.default),babelHelpers.defineProperty(q,P.airportRecommendationTypes.CHANGE_DESTINATION,Z.default),babelHelpers.defineProperty(q,P.airportRecommendationTypes.CHANGE_BOTH,$.default),q)),babelHelpers.defineProperty(F,T.advantageTypes.NONSTOP,(V={},babelHelpers.defineProperty(V,P.airportRecommendationTypes.CHANGE_ORIGIN,ee.default),babelHelpers.defineProperty(V,P.airportRecommendationTypes.CHANGE_DESTINATION,ee.default),babelHelpers.defineProperty(V,P.airportRecommendationTypes.CHANGE_BOTH,ee.default),V)),babelHelpers.defineProperty(F,T.advantageTypes.NONSTOP_SAVINGS,(k={},babelHelpers.defineProperty(k,P.airportRecommendationTypes.CHANGE_ORIGIN,te.default),babelHelpers.defineProperty(k,P.airportRecommendationTypes.CHANGE_DESTINATION,te.default),babelHelpers.defineProperty(k,P.airportRecommendationTypes.CHANGE_BOTH,te.default),k)),F)},de=function(e){function t(e){babelHelpers.classCallCheck(this,t);var r=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.analytics=new ie.default,r.logger=new oe.default("flights/results/NearbyAirportInsightsBanner"),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentWillMount",value:function(){var e=this;ne.registerReactFilters(["airports","sameair","stops"],"NearbyAirportInsightsBanner",function(t){return e.onAirportFilterChanged(t)})}},{key:"componentWillUnmount",value:function(){ne.unregisterReactFilters(["airports","sameair","stops"],"NearbyAirportInsightsBanner")}},{key:"onAirportFilterChanged",value:function(e){e&&this.props.nearbyRecommendationApplied&&this.props.dispatchNearbyApplied(!1,{})}},{key:"backfillEmptyState",value:function(e){var t=pe.default.ask(I.RP_QUESTION_FILTER_DATA)||{},r={};return t[e]&&t[e].legValues[0]&&t[e].legValues[0].headingValueMap&&(R9&&R9.reactDevMode&&t[e].legValues.length>1&&this.logger.debug("Multicity search not supported by nearby insights banner."),Object.values(t[e].legValues[0].headingValueMap).forEach(function(e){e&&Object.values(e).forEach(function(e){r[e.code]=[e.selected]})})),r}},{key:"setRecommendedFilterState",value:function(){var e=this,t=this.props,r=t.dispatchNearbyApplied,a=t.InsightsBanner,s=a.data,n=s.destinationCode,i=s.originCode,l=s.recommendationType,o=P.airportRecommendationTypes.CHANGE_DESTINATION===l,p=P.airportRecommendationTypes.CHANGE_ORIGIN===l,u=[o?void 0:i,p?void 0:n],d=this.getFilterDataAirportsToIgnore(o,p);ne.pushFilterUpdates({airports:function(t){var a=t&&Object.keys(t).length?t:e.backfillEmptyState("airports");r(!0,babelHelpers.extends({},a));var s=Object.keys(a),n={};return s.length?s.forEach(function(e){n[e]=d.includes(e)?a[e]:[u.includes(e)?"2":"0"]}):u.forEach(function(e){n[e]=["2"]}),n}})}},{key:"getFilterDataAirportsToIgnore",value:function(e,t){if(!e&&!t)return[];var r=pe.default.ask(I.RP_QUESTION_FILTER_DATA)||{};if(!r.airports||!r.airports.legValues||!r.airports.legValues.length)return[];R9&&R9.reactDevMode&&r.airports.legValues.length>1&&this.logger.debug("Multicity search not supported by nearby insights banner.");var a=r.airports.legValues[0];if(!(a.orderedHeadings&&a.orderedHeadings.length&&a.headingValueMap&&Object.keys(a.headingValueMap).length))return[];var s=r.airports.legValues[0].orderedHeadings[0];return Object.keys(r.airports.legValues[0].headingValueMap).flatMap(function(a){var n=s===a;return n&&e||!n&&t?Object.keys(r.airports.legValues[0].headingValueMap[a]):[]})}},{key:"setUndoFilterState",value:function(){var e=this.props,t=e.dispatchNearbyApplied,r=e.InsightsBanner,a=r.ui.undoFilterState;ne.pushFilterUpdates({airports:function(e){return a}}),t(!1,{})}},{key:"onSelect",value:function(e){var t=this.props.InsightsBanner.data,r=t.advantageType,a=t.recommendationType,s=t.type;if(le.default.keyCodeSets.SELECT.includes(e.nativeEvent.which)){var n=void 0;this.props.nearbyRecommendationApplied?(this.setUndoFilterState(),n="undo"):(this.setRecommendedFilterState(),n="applyRecommendation"),this.analytics.trackEvent((0,_.getAnalyticsData)(r,a,s,n))}}},{key:"render",value:function(){var e=this,t=this.props,r=t.hasResults,a=t.InsightsBanner,s=t.isMulticity,n=t.nearbyRecommendationApplied;if(s)return this.logger.error("Attempted to show Nearby Airport banner for a multicity search."),null;var i=a.data,l=i.advantageType,o=i.destinationCode,p=i.displaySavings,u=i.lowestPrice,d=i.originCode,b=i.recommendationType,g=i.type,f="object"===babelHelpers.typeof(ue.headingMessages[l])?ue.headingMessages[l][b]:ue.headingMessages[l],c="object"===babelHelpers.typeof(ue.subheadingMessages[l])?ue.subheadingMessages[l][b]:ue.subheadingMessages[l],N=n?ae.default:re.default;return babelHelpers.jsx(se.default,{advantageType:l,bannerData:ue,containerCssClasses:j.default,hasResults:r,headingMessage:f.value(),logMessageChange:!0,recommendationType:b,subHeadingMessage:c.value(p,d,o,u),type:g},void 0,babelHelpers.jsx("button",{className:"Button-Wire-Black size-s "+Q.default,onClick:function(t){return e.onSelect(t)},onKeyPress:function(t){return e.onSelect(t)}},void 0,N.value(d,o)))}}]),t}(React.Component);de.propTypes={dispatchNearbyApplied:U.default.func.isRequired,InsightsBanner:U.default.shape(P.nearbyInsightsBannerShape).isRequired,nearbyRecommendationApplied:U.default.bool.isRequired},e.default=ReactRedux.connect(function(e){var t=e.NearbyAirportInsightsBanner,r=e.SearchPoll;return{InsightsBanner:t,hasResults:!r.noResults,isMulticity:r.isMulticity,nearbyRecommendationApplied:t.ui.nearbyRecommendationApplied}},function(e){return{dispatchNearbyApplied:function(t,r){return e((0,H.setNearbyRecommendationApplied)(t,r))}}})(de)});define("default/common/icon/_svg_/save-filled",["exports","common/react/ReactSvgInline"],function(e,a){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){return React.createElement(a.default,Object.assign({key:"default/common/icon/_svg_/save-filled"},e||{},{svg:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="m14.69 13.29a2.38 2.38 0 0 0 -1.69.71 2.33 2.33 0 0 0 0 3.33l4.14 4.08 4.16-4.11a2.32 2.32 0 0 0 0-3.32 2.4 2.4 0 0 0 -3.37 0l-.71.69-.76-.67a2.5 2.5 0 0 0 -1.77-.71z"/><path d="m11.62 18.72a4.31 4.31 0 0 1 0-6.17 4.34 4.34 0 0 1 3.07-1.26 4.4 4.4 0 0 1 2.46.75 4.35 4.35 0 0 1 2.46-.75 4.61 4.61 0 0 1 1.39.24v-4.53a2 2 0 0 0 -2-2h-4v-2a2 2 0 0 0 -2-2h-4a2 2 0 0 0 -2 2v2h-4a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h8.9zm-2.62-15.72h4v2h-4z"/></svg> '}))}});define("default/prop-types", ["exports","module","context"], function (exports, module, context) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    get: function() { return true; },
    set: function() {}
});



!function(e,r){for(var t in r)e[t]=r[t]}(exports,function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var t={};return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=0)}([function(e,r,t){"use strict";e.exports=t(1)()},function(e,r,t){"use strict";function n(){}function o(){}var c=t(2);o.resetWarningCache=n,e.exports=function(){function e(e,r,t,n,o,a){if(a!==c){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function r(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:o,resetWarningCache:n};return t.PropTypes=t,t}},function(e,r,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}]));
});
define("default/flights/results/react/constants/InsightsBannerConstants",["exports","prop-types"],function(e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.genericInsightsBannerUiShape=e.genericInsightsBannerDataShape=e.ajaxRequestStatus=e.genericRecommendationTypes=e.advantageTypeGroups=e.advantageTypes=e.bannerTypes=e.bannerLocations=void 0;var R=babelHelpers.interopRequireDefault(E),S=e.bannerLocations={RESULTS_TOP:"RESULTS_TOP",FLEX_MATRIX:"FLEX_MATRIX"},a=(e.bannerTypes={DEFAULT:"DEFAULT",FLEX_FOR_ALL:"FLEX_FOR_ALL",NEARBY_AIRPORTS:"NEARBY_AIRPORTS",AVERAGE_PRICE:"AVERAGE_PRICE",USE_PREVIOUS:"USE_PREVIOUS"},e.advantageTypes={ALREADY_BEST:"ALREADY_BEST",ALL_SAME:"ALL_SAME",SAVINGS:"SAVINGS",NONSTOP:"NONSTOP",NONSTOP_SAVINGS:"NONSTOP_SAVINGS",LOADING:"LOADING",ERROR:"ERROR",NONE:"NONE",DEFAULT:"DEFAULT"});e.advantageTypeGroups={NO_DATA:[a.LOADING,a.NONE,a.ERROR],NO_ADVANTAGE:[a.NONE,a.ERROR],NONSTOP:[a.NONSTOP,a.NONSTOP_SAVINGS],WITH_RECOMMENDATIONS:[a.SAVINGS,a.NONSTOP,a.NONSTOP_SAVINGS,a.ALREADY_BEST,a.ALL_SAME]},e.genericRecommendationTypes={NONE:"NONE"},e.ajaxRequestStatus={NO_REQUEST:"NO_REQUEST",START_REQUEST:"START_REQUEST",REQUEST_PENDING:"REQUEST_PENDING",RESPONSE_RECEIVED:"RESPONSE_RECEIVED",RESPONSE_ERROR:"RESPONSE_ERROR"},e.genericInsightsBannerDataShape={advantageType:R.default.oneOf(Object.values(a)).isRequired,location:R.default.oneOf(Object.values(S)).isRequired,type:R.default.string.isRequired},e.genericInsightsBannerUiShape={nearbyRecommendationApplied:R.default.bool.isRequired,undoFilterState:R.default.object.isRequired}});define("default/common/react/constants/globals",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={DOWN:40,END:35,ESC:27,HOME:36,LEFT:37,MOUSE_LEFT:1,MOUSE_MIDDLE:2,MOUSE_RIGHT:3,PAGE_DOWN:34,PAGE_UP:33,RETURN:13,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38},o={keyCodeSets:{SELECT:[t.MOUSE_LEFT,t.ENTER],SCROLL:[t.HOME,t.PAGE_UP,t.PAGE_DOWN,t.END],ARROW_KEYS:[t.UP,t.RIGHT,t.DOWN,t.LEFT],MOUSE_BUTTONS:[t.MOUSE_LEFT,t.MOUSE_MIDDLE,t.MOUSE_RIGHT]}},E=function(){return"undefined"!=typeof R9?babelHelpers.extends({},R9.globals,o):(console.warn("globals not available without R9 context. Global objects and arrays have been mocked to prevent exceptions"),babelHelpers.extends({analytics:{},browserCapabilities:{},currencyConversionRates:{},dateFormats:{isoDate:"YYYY-MM-DD"},features:[],keyCodes:t,breakPoints:{xs:320,s:568,m:768,l:1024,xl:1280},locale:{},optimizeExperiments:[],uiconfig:{}},o))}();e.default=E});define("default/common/results/react/constants/SearchPollConstants",["exports"],function(E){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var S=E.searchPollStatus={NO_SEARCH:"NO_SEARCH",SEARCH_STARTED:"SEARCH_STARTED",FIRST_PHASE:"FIRST_PHASE",SECOND_PHASE:"SECOND_PHASE",SEARCH_FINISHED:"SEARCH_FINISHED",NO_RESULTS:"NO_RESULTS",SEARCH_EXPIRED:"SEARCH_EXPIRED",SEARCH_ERROR:"SEARCH_ERROR"};E.inProgressStatuses=[S.SEARCH_STARTED,S.FIRST_PHASE,S.SECOND_PHASE],E.noResultStatuses=[S.NO_RESULTS,S.SEARCH_EXPIRED,S.SEARCH_ERROR],E.searchStartRequiredParams=["origin","destination","depart_date_canon"],E.endSearchReasons={COMPLETED:"completed",SECOND_PHASE_TIMEOUT:"2ftimeout",ERROR:"error"}});define("default/flights/results/react/constants/AveragePriceInsightsConstants",["exports","prop-types","flights/results/react/constants/InsightsBannerConstants"],function(e,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.averagePriceInsightsBannerShape=e.averagePriceRecommendationTypes=e.averagePriceAdvantageTypeGroups=e.averagePriceAdvantageTypes=void 0;var s=babelHelpers.interopRequireDefault(a),E=e.averagePriceAdvantageTypes=babelHelpers.extends({},t.advantageTypes,{FLEX_SEARCH_LET_THE_USER_DECIDE:"FLEX_SEARCH_LET_THE_USER_DECIDE",LOADING_AVERAGE_PRICE:"LOADING_AVERAGE_PRICE",LOADING_SEARCH_PRICE:"LOADING_SEARCH_PRICE"}),r=(e.averagePriceAdvantageTypeGroups={ANY_LOADING:[t.advantageTypes.LOADING,E.LOADING_AVERAGE_PRICE,E.LOADING_SEARCH_PRICE],HIDE_IF_AJAX_FINISHED:[].concat(babelHelpers.toConsumableArray(t.advantageTypeGroups.NO_ADVANTAGE),[E.LOADING,E.LOADING_AVERAGE_PRICE])},e.averagePriceRecommendationTypes=babelHelpers.extends({},t.genericRecommendationTypes,{ABOVE_AVERAGE_PRICE:"ABOVE_AVERAGE_PRICE",AVERAGE_PRICE:"AVERAGE_PRICE",BELOW_AVERAGE_PRICE:"BELOW_AVERAGE_PRICE",DEFER_CLIENT_SIDE:"DEFER_CLIENT_SIDE"}));e.averagePriceInsightsBannerShape={clientDerivedData:s.default.shape({advantageType:s.default.oneOf(Object.values(E)).isRequired,ajaxStatus:s.default.oneOf(Object.values(t.ajaxRequestStatus)).isRequired,averagePrice:s.default.number.isRequired,recommendationType:s.default.oneOf(Object.values(r)).isRequired}),data:s.default.shape(babelHelpers.extends({},t.genericInsightsBannerDataShape,{cheapestSearchPrice:s.default.number.isRequired})),ui:s.default.shape(t.genericInsightsBannerUiShape)}});define("default/flights/results/react/actions/SearchPredictionsAjaxActions",["exports","moment","property!ui.horizon.api.origin.override","property!horizon.flights.results.insightsBanner.monthAverage.api.url","common/react/constants/globals","common/utils/react/logger","common/utils/react/events","flights/results/react/utils/FlexMatrixClientBuilder"],function(e,r,t,n,i,o,a,u){"use strict";function c(){return{type:F,payload:{}}}function s(e){return{type:x,payload:e}}function E(){return{type:V,payload:{price:-1}}}function l(){return{type:A,payload:{price:-1}}}function f(){return{type:F,payload:{}}}function R(e){return{type:j,payload:{clientMatrixEntries:e}}}function _(){return{type:q,payload:{price:-1}}}function d(){if(!w){var e=(0,t.getString)()||window.location.origin;w=e+"/"+(0,n.getString)()}return w}function p(e){var r=e.depart_date_canon,t=e.return_date_canon,n=(0,T.default)(r,b.default.dateFormats.isoDate).get("month")+1,i=[n];if(t){var o=(0,T.default)(t,b.default.dateFormats.isoDate).get("month")+1;n!==o&&i.push(o)}return i}function I(e,r,t){var n=function(e){return e.month===r},i=void 0;if(0===t)i=e.monthAverage.find(n);else{var o=e.monthAverage.filter(n);i=o[t]||o[0]}return i&&"number"==typeof i.average&&i.average>0?i.average:-1}function C(e,r){var t=p(r.SearchPoll),n=Math.round(t.map(function(r,t){return I(e,r,t)}).reduce(function(e,r){return e+(r>0?r:0)},0)/t.length);if(n>0){var i=t.map(function(e){return(0,T.default)(e,"M").format("MMMM")});return{displayPrice:R9&&R9.Common?R9.Common.Utils.formatPrice(n):""+n,displayMonths:i,price:n}}return null}function h(e,r,t){var n=e.insights,i=void 0;n&&Object.keys(n).length&&(i=C(n,t)),r(i?s(i):E())}function S(e,r,t){var n=e.insights,i=n.flexDayPredictions;r(R(i?D.buildPredictedMatrixEntries(i,t):null))}function g(e,r){new y.default("flights/results/SearchPredictionsAjaxActions").error("Error in Search Insights average month prices request: "+e),r.reject()}function P(e){var r=e.SearchPoll,t=r.origin,n=r.destination,i=r.depart_date_canon,o=r.return_date_canon,a=r.isOneWay,u=$.Deferred();if(!t||!n||!i)return u.reject();var c=t+"_"+n+"_"+i+"_"+o;if(U[c])return u.resolve(U[c]);var s={origin:t,destination:n,startDate:i};return a||(s.endDate=o),$.getJSON(d(),s).then(function(e){e.success?(U[c]=e,u.resolve(e)):g(e.error,u),"object"===babelHelpers.typeof(e.warnings)&&e.warnings.length&&new y.default("flights/results/SearchPredictionsAjaxActions").warn("Average price request returned warnings:\n"+e.warnings.join("\n"))}).catch(function(){return g("JSON Request from "+d()+" failed.",u)}),u}function v(){return function(e,r){e(c()),P(r()).then(function(t){return h(t,e,r())}).catch(function(){return e(l())})}}function O(e,r,t){e.error?_():S(e,r,t())}function m(){return function(e,r){function t(n){O(n,e,r),M.default.unsubscribe(L,t)}if(e(f()),X){X=!1;var n=void 0,i=function(e){n=e};if(M.default.when(L,i),M.default.unsubscribe(L,i),n)return void O(n,e,r)}M.default.subscribe(L,t)}}function N(){return function(e,r){e(f()),P(r()).then(function(t){return S(t,e,r())}).catch(function(){return e(_())})}}Object.defineProperty(e,"__esModule",{value:!0}),e.RECEIVE_FLEX_PREDICTIONS_ERROR=e.RECEIVE_FLEX_PREDICTIONS_SUCCESS=e.REQUEST_FLEX_PREDICTIONS=e.RECEIVE_MONTH_PRICE_ERROR=e.RECEIVE_NO_MONTH_PRICES=e.RECEIVE_MONTH_PRICE=e.REQUEST_MONTH_PRICES=void 0,e.requestPrice=c,e.receiveResponse=s,e.receiveNoPrediction=E,e.receiveMonthPriceError=l,e.requestFlexDates=f,e.receiveFlexPredictionSuccess=R,e.receiveFlexPredictionError=_,e.fetchAveragePrice=v,e.listenFlexDatePredictions=m,e.fetchFlexDatePredictions=N;var T=babelHelpers.interopRequireDefault(r),b=babelHelpers.interopRequireDefault(i),y=babelHelpers.interopRequireDefault(o),M=babelHelpers.interopRequireDefault(a),D=babelHelpers.interopRequireWildcard(u),H="SearchPredictionsAjaxActions.",F=e.REQUEST_MONTH_PRICES=H+"REQUEST_MONTH_PRICES",x=e.RECEIVE_MONTH_PRICE=H+"RECEIVE_MONTH_PRICE",V=e.RECEIVE_NO_MONTH_PRICES=H+"RECEIVE_NO_MONTH_PRICES",A=e.RECEIVE_MONTH_PRICE_ERROR=H+"RECEIVE_MONTH_PRICE_ERROR",j=(e.REQUEST_FLEX_PREDICTIONS=H+"REQUEST_FLEX_PREDICTIONS",e.RECEIVE_FLEX_PREDICTIONS_SUCCESS=H+"RECEIVE_FLEX_PREDICTIONS_SUCCESS"),q=e.RECEIVE_FLEX_PREDICTIONS_ERROR=H+"RECEIVE_FLEX_PREDICTIONS_ERROR",w=void 0,U={},L="flights.results.insights.predictions.response",X=!0});define("default/flights/results/react/AveragePriceInsightsBanner",["exports","prop-types","stl!flights.results.AveragePriceInsightsBanner.Icon--Savings","stl!flights.results.AveragePriceInsightsBanner.Icon--Grey","stl!flights.results.AveragePriceInsightsBanner.Icon--Loading","flights/results/_svg_/calendar-inverted","string!flights/results//AVERAGE_PRICE_INSIGHTS_HEADING_ABOVE_AVERAGE_MONTH","string!flights/results//AVERAGE_PRICE_INSIGHTS_HEADING_AVERAGE_MONTH","string!flights/results//AVERAGE_PRICE_INSIGHTS_HEADING_BELOW_AVERAGE_MONTH","string!flights/results//AVERAGE_PRICE_INSIGHTS_HEADING_LOADING_SEARCH_PRICE","string!flights/results//AVERAGE_PRICE_INSIGHTS_HEADING_AVERAGE_MONTH_PRICE_IS","string!flights/results//AVERAGE_PRICE_INSIGHTS_SUBHEADING_ABOVE_AVERAGE_MONTH","string!flights/results//AVERAGE_PRICE_INSIGHTS_SUBHEADING_AVERAGE_MONTH","string!flights/results//AVERAGE_PRICE_INSIGHTS_SUBHEADING_BELOW_AVERAGE_MONTH","string!flights/results//AVERAGE_PRICE_INSIGHTS_SUBHEADING_AVERAGE_MONTH_PRICE_IS","string!flights/results//AVERAGE_PRICE_INSIGHTS_SUBHEADING_FLEX_SEARCH","flights/results/react/InsightsBanner","flights/results/react/actions/SearchPredictionsAjaxActions","flights/results/react/constants/AveragePriceInsightsConstants","flights/results/react/constants/InsightsBannerConstants","common/analytics/react/Analytics","common/react/constants/layout","common/results/react/constants/SearchPollConstants","common/utils/react/logger"],function(e,a,r,t,s,i,l,n,o,p,u,c,d,g,E,f,A,R,b,y,P,_,v,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var H,I,T,S,D,G,m=babelHelpers.interopRequireDefault(a),C=babelHelpers.interopRequireDefault(r),q=babelHelpers.interopRequireDefault(t),O=babelHelpers.interopRequireDefault(s),N=babelHelpers.interopRequireDefault(i),V=babelHelpers.interopRequireDefault(l),M=babelHelpers.interopRequireDefault(n),B=babelHelpers.interopRequireDefault(o),L=babelHelpers.interopRequireDefault(p),j=babelHelpers.interopRequireDefault(u),U=babelHelpers.interopRequireDefault(c),x=babelHelpers.interopRequireDefault(d),F=babelHelpers.interopRequireDefault(g),k=babelHelpers.interopRequireDefault(E),W=babelHelpers.interopRequireDefault(f),w=babelHelpers.interopRequireDefault(A),X=babelHelpers.interopRequireDefault(P),Q=babelHelpers.interopRequireDefault(h),z={borderedIconSvgs:babelHelpers.defineProperty({},b.averagePriceAdvantageTypes.DEFAULT,N.default),iconSvgSize:babelHelpers.defineProperty({},b.averagePriceAdvantageTypes.DEFAULT,_.sizes.MEDIUM),iconThemeStl:(I={},babelHelpers.defineProperty(I,b.averagePriceAdvantageTypes.DEFAULT,O.default),babelHelpers.defineProperty(I,b.averagePriceAdvantageTypes.FLEX_SEARCH_LET_THE_USER_DECIDE,q.default),babelHelpers.defineProperty(I,b.averagePriceAdvantageTypes.SAVINGS,(H={},babelHelpers.defineProperty(H,b.averagePriceRecommendationTypes.ABOVE_AVERAGE_PRICE,q.default),babelHelpers.defineProperty(H,b.averagePriceRecommendationTypes.AVERAGE_PRICE,q.default),babelHelpers.defineProperty(H,b.averagePriceRecommendationTypes.BELOW_AVERAGE_PRICE,C.default),H)),I)},J={headingMessages:(S={},babelHelpers.defineProperty(S,b.averagePriceAdvantageTypes.DEFAULT,""),babelHelpers.defineProperty(S,b.averagePriceAdvantageTypes.LOADING,""),babelHelpers.defineProperty(S,b.averagePriceAdvantageTypes.LOADING_SEARCH_PRICE,L.default),babelHelpers.defineProperty(S,b.averagePriceAdvantageTypes.FLEX_SEARCH_LET_THE_USER_DECIDE,j.default),babelHelpers.defineProperty(S,b.averagePriceAdvantageTypes.SAVINGS,(T={},babelHelpers.defineProperty(T,b.averagePriceRecommendationTypes.BELOW_AVERAGE_PRICE,B.default),babelHelpers.defineProperty(T,b.averagePriceRecommendationTypes.AVERAGE_PRICE,M.default),babelHelpers.defineProperty(T,b.averagePriceRecommendationTypes.ABOVE_AVERAGE_PRICE,V.default),T)),S),subheadingMessages:(G={},babelHelpers.defineProperty(G,b.averagePriceAdvantageTypes.DEFAULT,""),babelHelpers.defineProperty(G,b.averagePriceAdvantageTypes.LOADING,""),babelHelpers.defineProperty(G,b.averagePriceAdvantageTypes.LOADING_SEARCH_PRICE,k.default),babelHelpers.defineProperty(G,b.averagePriceAdvantageTypes.FLEX_SEARCH_LET_THE_USER_DECIDE,W.default),babelHelpers.defineProperty(G,b.averagePriceAdvantageTypes.SAVINGS,(D={},babelHelpers.defineProperty(D,b.averagePriceRecommendationTypes.ABOVE_AVERAGE_PRICE,U.default),babelHelpers.defineProperty(D,b.averagePriceRecommendationTypes.AVERAGE_PRICE,x.default),babelHelpers.defineProperty(D,b.averagePriceRecommendationTypes.BELOW_AVERAGE_PRICE,F.default),D)),G)},K=function(e){function a(e){babelHelpers.classCallCheck(this,a);var r=babelHelpers.possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return r.analytics=new X.default,r.logger=new Q.default("flights/results/AveragePriceInsightsBanner"),r}return babelHelpers.inherits(a,e),babelHelpers.createClass(a,[{key:"startAveragePriceRequest",value:function(){try{this.props.fetchPrice()}catch(e){this.logger.error("Error making average price request: "+e),this.props.handleFetchError()}}},{key:"componentWillMount",value:function(){(y.ajaxRequestStatus.NO_REQUEST===this.props.ajaxStatus&&v.searchPollStatus.NO_SEARCH!==this.props.searchPollStatus||y.ajaxRequestStatus.START_REQUEST===this.props.ajaxStatus)&&this.startAveragePriceRequest()}},{key:"componentDidUpdate",value:function(e){if(y.ajaxRequestStatus.START_REQUEST===this.props.ajaxStatus){if(this.props.ajaxStatus===e.ajaxStatus)return void this.logger.error("Error: Multiple average price requests attempted for the same search.");this.startAveragePriceRequest()}}},{key:"getFormattedBannerMessage",value:function(e,a){var r,t=this.props,s=t.advantageType,i=t.recommendationType,l="object"===babelHelpers.typeof(e[s])?e[s][i]:e[s];return l?l.value.apply(l,babelHelpers.toConsumableArray(a)):e[b.averagePriceAdvantageTypes.DEFAULT]?(r=e[b.averagePriceAdvantageTypes.DEFAULT]).value.apply(r,babelHelpers.toConsumableArray(a)):""}},{key:"render",value:function(){var e=this.props,a=e.advantageType,r=e.destination,t=e.displayMonths,s=e.displayPrice,i=e.hasResults,l=e.isInvalidSearchType,n=e.percentDifference,o=e.recommendationType,p=e.shouldDisplay,u=e.type;if(!p)return null;if(l)return this.logger.error("Attempted to show average price banner for an invalid search type"),null;var c=[t.length,t[0],t[1],""+n,r,s],d=this.getFormattedBannerMessage(J.headingMessages,c),g=this.getFormattedBannerMessage(J.subheadingMessages,c);return babelHelpers.jsx(w.default,{advantageType:a,bannerData:z,hasBorder:!0,hasResults:i,headingMessage:d,logMessageChange:!0,recommendationType:o,subHeadingMessage:g,type:u})}}]),a}(React.Component);K.propTypes={advantageType:m.default.oneOf(Object.values(b.averagePriceAdvantageTypes)).isRequired,ajaxStatus:m.default.oneOf(Object.values(y.ajaxRequestStatus)).isRequired,destination:m.default.string.isRequired,displayMonths:m.default.arrayOf(m.default.string).isRequired,displayPrice:m.default.string.isRequired,fetchPrice:m.default.func.isRequired,handleFetchError:m.default.func.isRequired,hasResults:m.default.bool.isRequired,isInvalidSearchType:m.default.bool.isRequired,percentDifference:m.default.number.isRequired,recommendationType:m.default.oneOf(Object.values(b.averagePriceRecommendationTypes)).isRequired,searchPollStatus:m.default.oneOf(Object.values(v.searchPollStatus)).isRequired,shouldDisplay:m.default.bool.isRequired,type:m.default.oneOf(Object.values(y.bannerTypes)).isRequired},e.default=ReactRedux.connect(function(e){var a=e.AveragePriceInsightsBanner,r=e.SearchPoll;return{advantageType:a.clientDerivedData.advantageType,ajaxStatus:a.clientDerivedData.ajaxStatus,destination:r.destination,displayMonths:a.clientDerivedData.averagePriceMonths,displayPrice:a.clientDerivedData.averagePriceDisplay,hasResults:!r.noResults,isInvalidSearchType:r.isMulticity||["weekend","openflex"].includes(r.flexCategory),percentDifference:a.clientDerivedData.pricePercentDifference,recommendationType:a.clientDerivedData.recommendationType,searchPollStatus:r.status,shouldDisplay:a.ui.shouldDisplay,type:a.data.type}},function(e){return{fetchPrice:function(){return e((0,R.fetchAveragePrice)())},handleFetchError:function(){return e((0,R.receiveError)())}}})(K)});define("default/flights/results/react/InsightsBanner",["exports","prop-types","stl!flights.results.InsightsBanner.Banner","stl!flights.results.InsightsBanner.Heading","stl!flights.results.InsightsBanner.SubHeading","stl!flights.results.InsightsBanner.MessageWrapper","stl!flights.results.InsightsBanner.Message--FullLine","stl!flights.results.InsightsBanner.IconWrapper","stl!flights.results.InsightsBanner.Icon","stl!flights.results.InsightsBanner.BorderedIcon","stl!flights.results.InsightsBanner.UnborderedIcon","stl!flights.results.InsightsBanner.Icon__Svg--medium","stl!flights.results.InsightsBanner.Icon__Svg--large","stl!flights.results.InsightsBanner.Icon__FilteredIndicator","stl!flights.results.InsightsBanner.OptionalChildWrapper","common/icon/react/SvgIcon","flights/results/react/constants/InsightsBannerConstants","flights/results/react/utils/InsightsBannerUtils","common/react/constants/layout","common/analytics/react/Analytics","flights/results/react/constants/NearbyAirportInsightsContants","flights/results/react/constants/AveragePriceInsightsConstants","flights/results/react/constants/FlexForAllInsightsContants"],function(e,s,t,a,n,l,r,i,o,u,d,g,p,c,f,b,h,v,m,y,I,H,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var T=babelHelpers.interopRequireDefault(s),q=babelHelpers.interopRequireDefault(t),C=babelHelpers.interopRequireDefault(a),D=babelHelpers.interopRequireDefault(n),M=babelHelpers.interopRequireDefault(l),S=babelHelpers.interopRequireDefault(r),A=babelHelpers.interopRequireDefault(i),B=babelHelpers.interopRequireDefault(o),N=babelHelpers.interopRequireDefault(u),j=babelHelpers.interopRequireDefault(d),O=babelHelpers.interopRequireDefault(g),_=babelHelpers.interopRequireDefault(p),F=babelHelpers.interopRequireDefault(c),x=babelHelpers.interopRequireDefault(f),k=babelHelpers.interopRequireDefault(b),V=babelHelpers.interopRequireDefault(y),E=function(e){function s(e){babelHelpers.classCallCheck(this,s);var t=babelHelpers.possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return t.analytics=new V.default,t.state={firstMount:!0},t}return babelHelpers.inherits(s,e),babelHelpers.createClass(s,[{key:"componentDidUpdate",value:function(e){var s=this.props,t=s.advantageType,a=s.hasResults,n=s.headingMessage,l=s.logMessageChange,r=s.recommendationType,i=s.subHeadingMessage;a&&h.advantageTypeGroups.WITH_RECOMMENDATIONS.includes(t)&&(this.state.firstMount||!e.hasResults||t!==e.advantageType||r!==e.recommendationType||l&&n!==e.headingMessage||l&&i!==e.subHeadingMessage)&&this.logRecommendationImpression(),this.state.firstMount&&this.setState({firstMount:!1})}},{key:"logRecommendationImpression",value:function(){var e=this.props,s=e.advantageType,t=e.recommendationType,a=e.showNotificationIndicator,n=e.type,l=a&&h.advantageTypes.SAVINGS===s?"filtersavings":void 0;this.analytics.trackEvent((0,v.getAnalyticsData)(s,t,n,void 0,l))}},{key:"getAdvantageValueFor",value:function(e){if(!e)return null;var s=e[this.props.advantageType]||e[h.advantageTypes.DEFAULT];return"object"===(void 0===s?"undefined":babelHelpers.typeof(s))?s[this.props.recommendationType]:s}},{key:"renderIcon",value:function(){var e=this.props,s=e.bannerData,t=e.hasBorder,a=s.borderedIconSvgs,n=s.iconSvgSize,l=s.iconThemeStl,r=s.iconSvgThemeStl,i=this.getAdvantageValueFor(a),o=m.sizes.LARGE===this.getAdvantageValueFor(n)?_.default:O.default,u={name:"string"==typeof i?i:void 0,parentClassName:B.default+" "+(t?N.default:j.default)+" "+this.getAdvantageValueFor(l),className:this.getAdvantageValueFor(r)+" "+o,width:24,height:24,key:"iconSvg"};return"string"==typeof i?React.createElement(k.default,u):React.createElement(i,u)}},{key:"render",value:function(){var e=this.props,s=e.advantageType,t=e.bannerData,a=e.containerCssClasses,n=e.headingMessage,l=e.showNotificationIndicator,r=e.subHeadingMessage,i=t.headingThemeStl,o=t.subHeadingThemeStl;return babelHelpers.jsx("div",{className:q.default+" "+a},void 0,babelHelpers.jsx("div",{className:A.default},void 0,this.renderIcon(),l&&s!==h.advantageTypes.LOADING&&babelHelpers.jsx("div",{className:F.default},"indicator")),babelHelpers.jsx("div",{className:M.default},void 0,babelHelpers.jsx("span",{className:C.default+" "+S.default+" "+this.getAdvantageValueFor(i)},void 0,n),r&&babelHelpers.jsx("span",{className:D.default+" "+S.default+" "+this.getAdvantageValueFor(o)},void 0,r)),this.props.children&&babelHelpers.jsx("div",{className:x.default},void 0,this.props.children))}}]),s}(React.Component);e.default=E,E.propTypes={advantageType:T.default.oneOf(Object.values(h.advantageTypes)).isRequired,bannerData:T.default.shape({borderedIconSvgs:T.default.object.isRequired,iconSvgSize:T.default.oneOf(Object.values(m.sizes)),iconThemeStl:T.default.object.isRequired}).isRequired,containerCssClasses:T.default.string,hasBorder:T.default.bool.isRequired,hasResults:T.default.bool.isRequired,headingMessage:T.default.string.isRequired,logMessageChange:T.default.bool,recommendationType:T.default.oneOf([].concat(babelHelpers.toConsumableArray(Object.values(I.airportRecommendationTypes)),babelHelpers.toConsumableArray(Object.values(H.averagePriceRecommendationTypes)),babelHelpers.toConsumableArray(Object.values(R.flexRecommendationTypes)))).isRequired,showNotificationIndicator:T.default.bool,subHeadingMessage:T.default.string,type:T.default.string.isRequired},E.defaultProps={containerCssClasses:"",logMessageChange:!1,showNotificationIndicator:!1,subHeadingMessage:""}});define("default/common/analytics/react/Google",["exports","context","property!ui.ga.forceOff","property!nucleus.analytics.plugins.google.tid","common/react/constants/globals"],function(e,t,a,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=babelHelpers.interopRequireDefault(t),l=babelHelpers.interopRequireDefault(a),r=babelHelpers.interopRequireDefault(i),s=babelHelpers.interopRequireDefault(n),c=!1,u=function(){function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default;if(babelHelpers.classCallCheck(this,e),this.globals=a,o.default.isClient()&&void 0===window.gaTracker){var i=window,n="gaTracker";if(i[n]||(i[n]=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];(i[n].q=i[n].q||[]).push(t)}),o.default.isServer())return;"complete"===window.document.readyState?this.initialize():window.addEventListener("load",function(){return t.initialize()})}this.thirdPartyEvents=["details/inlinemultibook","results/button/resultclick","results/multibooklinks","details/resultclick/button","results/inline/click","clickout/results/offers/cheapest_price/button","clickout/results/offers/inline_vertical_multibook","clickout/listview/detailslayer/offers/cheapest_price/button","clickout/mapview/detailslayer/offers/cheapest_price/button","clickout/results/offers/inline_horizontal_multibook","mapview/popup/results/button/resultclick","clickout/mapview/detailslayer/offers/cheapest_price/button","mapview/results/multibooklinks","details/rates/button/resultclick","/multibook/buttonClicked","inline/hmultibook/resultclick","/multibook/linkClicked","hotel/inline/rates/show","results/inline/horizontal/click"]}return babelHelpers.createClass(e,[{key:"initialize",value:function(){setTimeout(function(){!function(e,t,a,i){var n=window;if(n.GoogleAnalyticsObject=i,n[i]||(n[i]=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];(n[i].q=n[i].q||[]).push(t)}),n[i].l=1*new Date,"true"!==l.default.value){var o=e.createElement(t),r=e.getElementsByTagName(t)[0];o.async=1,o.src=a,r.parentNode.insertBefore(o,r)}else n[i]=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];t&&t.length>2&&t[2]&&"function"==typeof t[2].hitCallback&&t[2].hitCallback()}}(window.document,"script","//www.google-analytics.com/analytics.js","gaTracker")},500)}}]),babelHelpers.createClass(e,[{key:"pageHandler",value:function(t){var a=this;return new Promise(function(i){var n="true"===a.globals.analytics.google.trackPageView;if(o.default.isClient()&&(n||a.globals.wlgoogle)){e.createTracker(a.globals.analytics.utoken);var l=e.makeGooglePageData(t,i);if(a.globals.wlgoogle){var r={name:a.globals.wlgoogle.name};"true"===a.globals.wlgoogle.autolinker&&(r.allowLinker=!0),window.gaTracker("create",a.globals.wlgoogle.id,"auto",r),window.gaTracker(a.globals.wlgoogle.name+".send","pageview")}n&&("true"===R9.globals.analytics.google.trackPageView_send_extra_dims?(e.setupTracker(window.gaTracker,l),window.gaTracker("send","pageview",l)):window.gaTracker("send","pageview",{location:"/",hitCallback:i}))}else i()})}},{key:"hasEvent",value:function(e){var t=!1;return this.thirdPartyEvents.forEach(function(a){t||(t=e.indexof(a)>-1)}),t}},{key:"eventHandler",value:function(t){var a=this;return new Promise(function(i){var n="true"===a.globals.analytics.google.trackEvent;if(o.default.isClient()&&(n||a.globals.wlgoogle)){e.createTracker(a.globals.analytics.utoken);var l=e.makeGoogleEventData(t,i);a.globals.wlgoogle&&a.hasEvent(l.eventCategory)&&window.gaTracker(a.globals.wlgoogle.name+".send","event","kayak_"+l.dimension1+"_offerlist","ota_click"),n&&(e.setupTracker(window.gaTracker,l),window.gaTracker("send","event",l))}else i()})}}],[{key:"makeCommonData",value:function(e,t){var a={};return a.dimension1=e.vertical,a.dimension2=e.pageId,a.dimension3=e.subPageId,a.dimension4=e.locale,a.dimension5=e.affiliate,a.dimension7=e.affiliateskin,a.dimension6=e.experiment,a.dimension8=e.presentation,a.dimension9=e.loginState,a.dimension28=e.sessionId,o.default.isClient()&&(a.title=window.document.title,a.location=window.document.location.href,a.hitCallback=t),a}},{key:"makeGooglePageData",value:function(t,a){var i=e.makeCommonData(t,a);return i.dimension10=t.pixelContext.destination&&t.pixelContext.destination.cityId,i.dimension11=t.pixelContext.hotelId,i.dimension12=t.pixelContext.originCode,i.dimension13=t.pixelContext.destinationCode,i}},{key:"makeGoogleEventData",value:function(t,a){var i=e.makeCommonData(t,a);return i.eventCategory=t.category,i.eventAction=t.action||(t.auto?"auto":"click"),t.auto&&(i.nonInteraction=1),t.label&&(i.eventLabel=t.label),t.value&&(i.eventValue=t.value),i}},{key:"setupTracker",value:function(e,t){var a=t.dimension1||"",i=a+"/"+(t.dimension2||""),n=i+"/"+(t.dimension3||"");e("set","contentGroup1",a),e("set","contentGroup2",i),e("set","contentGroup3",n)}},{key:"createTracker",value:function(e){if(!c){var t="auto";e&&(t={userId:e}),o.default.isClient()&&(window.gaTracker("create",r.default.value,t),window.gaTracker("require","displayfeatures"),window.gaTracker("require","ecommerce")),c=!0}}}]),e}();e.default=u});define("default/common/results/react/SearchPollListener",["exports","common/results/react/actions/SearchPollActions","common/results/react/constants/SearchPollConstants","common/results/filters/react/FilterStateController","common/utils/react/events"],function(e,t,r,n,s){"use strict";function i(){if("undefined"!=typeof R9&&R9.redux&&"function"==typeof R9.redux.store){var e=R9.redux.store();if(e&&"function"==typeof e.getState)return e.getState()}return{}}function a(){return p||(p=new g),p}function l(e,t){return a().addListener(e,t)}function u(e){return a().removeListener(e)}function o(){return a().startListening()}function c(){return a().stopListening()}Object.defineProperty(e,"__esModule",{value:!0}),e.getInstance=a,e.addListener=l,e.removeListener=u,e.startListening=o,e.stopListening=c;var h=babelHelpers.interopRequireWildcard(t),S=babelHelpers.interopRequireWildcard(r),d=babelHelpers.interopRequireWildcard(n),f=babelHelpers.interopRequireDefault(s),p=null,b=function(e){return"undefined"!=typeof R9&&R9.redux.dispatch(e)},g=function(){function e(){babelHelpers.classCallCheck(this,e),this.listeners=new Set(null),this.pollSubscription=null,this.searchStartSubscription=null,this.searchDoneSubscription=null,this.filledInitialSearchStart=!1}return babelHelpers.createClass(e,[{key:"addListener",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t&&!this.listeners.size;this.listeners.add(e),r&&this.startListening()}},{key:"removeListener",value:function(e){this.listeners.delete(e),this.listeners.size||(this.stopListening(),p=null)}},{key:"startListening",value:function(){var e=this;return!this.pollSubscription&&(this.pollSubscription=f.default.subscribe("search.poll.response",function(t){return e.handleResponse(t)}),this.searchStartSubscription=f.default.subscribe("search.startSearch",function(t){return e.handleSearchStart(t)}),this.searchDoneSubscription=f.default.subscribe("resultspage.streaming.done",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.handleStreamingDone(t)}),this.fillMissingSearchStartSubscription(),!0)}},{key:"stopListening",value:function(){return!!this.pollSubscription&&(f.default.unsubscribe("search.poll.response",this.pollSubscription),f.default.unsubscribe("search.startSearch",this.searchStartSubscription),f.default.unsubscribe("resultspage.streaming.done",this.searchDoneSubscription),!0)}},{key:"fillMissingSearchStartSubscription",value:function(){var e=i(),t=e.SearchPoll;if(!this.filledInitialSearchStart&&t&&S.searchPollStatus.NO_SEARCH!==t.status&&t&&S.searchStartRequiredParams.some(function(e){return void 0===t[e]})){var r=R9.question.ask("flights.rp.searchform");this.filledInitialSearchStart=!0,r?b(h.updateStartSearchState(r)):f.default.when("flights.searchForm.questionAnswers",function(){b(h.updateStartSearchState(R9.question.ask("flights.rp.searchform")))})}}},{key:"handleResponse",value:function(e){b(h.updateSearchPoll(e))}},{key:"handleSearchStart",value:function(e){b(h.startSearchPolling(e)),!1===e.preserveFilters&&d.resetAllFilters()}},{key:"handleStreamingDone",value:function(e){var t=e.reason;t!==S.endSearchReasons.SECOND_PHASE_TIMEOUT&&t!==S.endSearchReasons.ERROR||b(h.endSearchPolling())}}]),e}()});define("default/common/results/filters/react/actions/FilterStateActions",["exports","common/results/react/constants/ResultsPageConstants","common/utils/react/question"],function(e,t,a){"use strict";function n(e,t){var a={};return Object.keys(e).forEach(function(n){a[n]=babelHelpers.extends({},t.valueMap[n]||{},{selected:e[n]})}),a}function r(e){var a=i.default.ask(t.RP_QUESTION_FILTER_DATA)||{},r={};return Object.keys(e).forEach(function(t){var l=a[t]||{valueMap:{}};r[t]=babelHelpers.extends({},l,{valueMap:n(e[t],l)})}),r}function l(e){return{type:d,payload:{data:r(e)}}}function u(e){return{type:d,payload:{data:e}}}function o(e){return{type:c,payload:{data:e}}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:E,payload:{filterNames:e,data:t}}}Object.defineProperty(e,"__esModule",{value:!0}),e.UPDATE_FILTER_DATA=e.ANY_FILTERS_CHANGED=e.FILTER_RESET_PENDING=void 0,e.updateValueSetFilterData=l,e.updateFilterData=u,e.handleAnyFiltersChanged=o,e.setFilterResetPending=s;var i=babelHelpers.interopRequireDefault(a),E=e.FILTER_RESET_PENDING="FilterState.FILTER_RESET_PENDING",c=e.ANY_FILTERS_CHANGED="FilterState.ANY_FILTERS_CHANGED",d=e.UPDATE_FILTER_DATA="FilterState.UPDATE_FILTER_DATA"});define("default/flights/results/react/actions/NearbyAirportInsightsBannerActions",["exports"],function(e){"use strict";function t(e,t){return{type:n,payload:{nearbyRecommendationApplied:e,undoFilterState:t}}}Object.defineProperty(e,"__esModule",{value:!0}),e.setNearbyRecommendationApplied=t;var n=e.SET_NEARBY_RECOMMENDATION_APPLIED="NearbyAirportInsightsBanner.SET_NEARBY_RECOMMENDATION_APPLIED"});define("default/common/react/constants/layout",["exports"],function(M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var L=M.sizes={EXTRA_SMALL:"EXTRA_SMALL",SMALL:"SMALL",MEDIUM_SMALL:"MEDIUM_SMALL",MEDIUM:"MEDIUM",MEDIUM_LARGE:"MEDIUM_LARGE",LARGE:"LARGE",EXTRA_LARGE:"EXTRA_LARGE"};M.default=L});define("default/common/analytics/react/VSLog",["exports","common/utilities/react/Utils","common/react/constants/globals"],function(e,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=babelHelpers.interopRequireDefault(t),n=function(){function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.default;babelHelpers.classCallCheck(this,e),this.globals=a}return babelHelpers.createClass(e,[{key:"pageHandler",value:function(a){var t=this;return new Promise(function(r){"true"===t.globals.analytics.vslog.trackPageView?e.record(e.makeVsPageData(a)).then(r).catch(r):r()})}},{key:"eventHandler",value:function(a,t){var r=this;return new Promise(function(n){"true"===r.globals.analytics.vslog.trackEvent?e.record(e.makeVsEventData(a,t)).then(n).catch(n):n()})}}],[{key:"makeVsEventData",value:function(e){var a={},t=["/vs",e.vertical,e.pageId];return e.subPageId&&t.push(e.subPageId),t.push(e.category),e.action&&t.push(e.action),e.label&&t.push(e.label),e.value&&t.push(e.value),e.auto&&t.push("nonInteraction"),a.url=t.join("/").replace(/\/+/g,"/"),a.data=e.params||{},a.data.action="vs",a.data.searchid=e.searchid,a}},{key:"makeVsPageData",value:function(e){var a={},t=["/vs/page",e.vertical,e.pageId];return e.subPageId&&t.push(e.subPageId),a.url=t.join("/"),a.data=e.params||{},a.data.action="vs",a.data.searchid=e.searchid,a}},{key:"record",value:function(e){var t={method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:(0,a.serialize)(e.data)};return fetch(e.url,t)}}]),e}();e.default=n});define("default/common/icon/react/SvgIcon",["exports","common/icon/_svg_/checkmark","common/icon/_svg_/chevron","common/icon/_svg_/chevron-stroke","common/icon/_svg_/control-tower","common/icon/_svg_/heart","common/icon/_svg_/filters","common/icon/_svg_/magnifying-glass","common/icon/_svg_/share-alternate","common/icon/_svg_/save-outline","common/icon/_svg_/save-filled"],function(e,r,t,l,a,o,n,s,i,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=babelHelpers.interopRequireDefault(r),f=babelHelpers.interopRequireDefault(t),b=babelHelpers.interopRequireDefault(l),m=babelHelpers.interopRequireDefault(a),_=babelHelpers.interopRequireDefault(o),v=babelHelpers.interopRequireDefault(n),h=babelHelpers.interopRequireDefault(s),g=babelHelpers.interopRequireDefault(i),d=babelHelpers.interopRequireDefault(u),H=babelHelpers.interopRequireDefault(c),R={checkmark:p.default,chevron:f.default,"chevron-stroke":b.default,"control-tower":m.default,heart:_.default,filters:v.default,"magnifying-glass":h.default,"share-alternate":g.default,"save-outline":d.default,"save-filled":H.default},q=function(e){function r(){return babelHelpers.classCallCheck(this,r),babelHelpers.possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(){var e=this.props,r=e.name,t=e.parentClassName,l=e.className,a=e.width,o=e.height,n=r.replace(".svg","").toLowerCase();if(R[n]){var s=R[n];return babelHelpers.jsx(s,{parentClassName:t,className:l,width:a,height:o})}return null}}]),r}(React.PureComponent);e.default=q});define("default/common/results/react/actions/SearchPollActions",["exports"],function(e){"use strict";function t(e){var t=(e.destination||"").split("/"),a=babelHelpers.slicedToArray(t,2),r=a[0],n=a[1],o=(e.origin||"").split("/"),i=babelHelpers.slicedToArray(o,2),l=i[0],d=i[1];return{activeCabin:e.cabin,depart_date:e.depart_date,depart_date_canon:e.depart_date_canon,depart_date_flex:e.depart_date_flex,destination:r,destinationId:n,flexCategory:e.flex_category,isMulticity:e.isMulticity,isOneWay:e.oneWay,legCount:e.legCount,origin:l,originId:d,preserveFilters:e.preserveFilters,return_date:e.return_date,return_date_canon:e.return_date_canon,return_date_flex:e.return_date_flex,resultsChanged:!0,travelers:e.travelers}}function a(e){return babelHelpers.extends({},t(e),{isFlex:void 0===e.flex_category||void 0===e.depart_date_flex?void 0:"exact"!==e.flex_category&&"exact"!==e.depart_date_flex&&(!e.return_date_flex||"exact"!==e.return_date_flex),isRoundTrip:void 0===e.oneWay?void 0:!e.oneWay,showPlusMinusThree:void 0===e.flex_category||void 0===e.cabin||void 0===e.oneWay?void 0:"plusminusthree"===e.flex_category&&"e"===e.cabin&&!e.oneWay})}function r(e){return babelHelpers.extends({},t(e),{isFlex:"exact"!==e.flex_category&&"exact"!==e.depart_date_flex&&(!e.return_date_flex||"exact"!==e.return_date_flex),isRoundTrip:!e.oneWay,showPlusMinusThree:"plusminusthree"===e.flex_category&&"e"===e.cabin&&!e.oneWay})}function n(){return{type:c,payload:{}}}function o(e){return{type:u,payload:a(e)}}function i(e){return{type:f,payload:e}}function l(e){return{type:s,payload:r(e)}}function d(){return{type:p,payload:{completed:!0}}}Object.defineProperty(e,"__esModule",{value:!0}),e.clearSearch=n,e.updateStartSearchState=o,e.updateSearchPoll=i,e.startSearchPolling=l,e.endSearchPolling=d;var _="SearchPollListener.",c=e.CLEAR_SEARCH=_+"CLEAR_SEARCH",u=e.UPDATE_START_SEARCH_PARAMS=_+"UPDATE_START_SEARCH_PARAMS",s=e.INIT_POLLING=_+"INIT_POLLING",p=e.END_POLLING=_+"END_POLLING",f=e.POLL_RESPONSE=_+"POLL_RESPONSE"});define("default/common/icon/_svg_/chevron",["exports","common/react/ReactSvgInline"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){return React.createElement(n.default,Object.assign({key:"default/common/icon/_svg_/chevron"},e||{},{svg:'<svg class="common-widgets-chevron" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><path fill="currentColor" d="M4.4,7.32a0.84,0.84,0,0,0,1.2,0L9.07,3.85A0.84,0.84,0,0,0,7.88,2.67L5,5.55,2.12,2.67A0.84,0.84,0,0,0,.93,3.85Z"/></svg> '}))}});define("default/flights/results/react/StandaloneInsightsBanners",["exports","prop-types","stl!flights.results.StandaloneInsightsBanners.StandaloneBanner","stl!flights.results.StandaloneInsightsBanners.StandaloneBanner--Light","stl!flights.results.StandaloneInsightsBanners.StandaloneBanner--Muted","flights/results/react/AveragePriceInsightsBanner","flights/results/react/NearbyAirportInsightsBanner","common/results/react/SearchPollListener","flights/results/react/constants/AveragePriceInsightsConstants","flights/results/react/constants/InsightsBannerConstants","flights/results/react/constants/FlexForAllInsightsContants","flights/results/react/constants/NearbyAirportInsightsContants"],function(e,a,t,n,r,s,l,i,o,u,d,p){"use strict";function c(e){var a=e.advantageType,t=e.bannerData,n=e.noResults,r=e.recommendationType;return n||u.advantageTypeGroups.NO_DATA.includes(a)||u.advantageTypeGroups.WITH_RECOMMENDATIONS.includes(a)&&t.invalidRecommendations.includes(r)}function b(e){var a=e.ajaxStatus,t=e.clientDerivedAdvantageType;return e.noResults||u.ajaxRequestStatus.RESPONSE_ERROR===a||u.ajaxRequestStatus.RESPONSE_RECEIVED===a&&o.averagePriceAdvantageTypeGroups.HIDE_IF_AJAX_FINISHED.includes(t)}Object.defineProperty(e,"__esModule",{value:!0});var v,f=babelHelpers.interopRequireDefault(a),m=babelHelpers.interopRequireDefault(t),y=babelHelpers.interopRequireDefault(n),R=babelHelpers.interopRequireDefault(r),g=babelHelpers.interopRequireDefault(s),h=babelHelpers.interopRequireDefault(l),T=babelHelpers.interopRequireWildcard(i),D=(v={},babelHelpers.defineProperty(v,u.bannerTypes.DEFAULT,{bannerStl:y.default,ChildComponent:function(){return null},hideBanner:function(){return!0},invalidRecommendations:[]}),babelHelpers.defineProperty(v,u.bannerTypes.NEARBY_AIRPORTS,{bannerStl:R.default,ChildComponent:h.default,hideBanner:c,invalidRecommendations:[p.airportRecommendationTypes.NONE]}),babelHelpers.defineProperty(v,u.bannerTypes.AVERAGE_PRICE,{bannerStl:y.default,ChildComponent:g.default,hideBanner:b,invalidRecommendations:[o.averagePriceRecommendationTypes.NONE]}),v),O=function(e){function a(){return babelHelpers.classCallCheck(this,a),babelHelpers.possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return babelHelpers.inherits(a,e),babelHelpers.createClass(a,[{key:"componentWillMount",value:function(){T.addListener(this)}},{key:"componentWillUnmount",value:function(){T.removeListener(this)}},{key:"hideBanner",value:function(){return D[this.props.bannerType].hideBanner(this.props)}},{key:"render",value:function(){if(this.hideBanner())return null;var e=this.props.bannerData,a=e.bannerStl,t=e.ChildComponent;return babelHelpers.jsx("div",{className:m.default+" "+a},void 0,babelHelpers.jsx(t,{}))}}]),a}(React.Component);O.propTypes={advantageType:f.default.oneOf(Object.values(u.advantageTypes)).isRequired,ajaxStatus:f.default.oneOf(Object.values(u.ajaxRequestStatus)),bannerData:f.default.oneOf(Object.values(D)).isRequired,clientDerivedAdvantageType:f.default.oneOf(Object.values(o.averagePriceAdvantageTypes)),clientDerivedRecommendationType:f.default.oneOf(Object.values(o.averagePriceRecommendationTypes)),noResults:f.default.bool,recommendationType:f.default.oneOf([].concat(babelHelpers.toConsumableArray(Object.values(p.airportRecommendationTypes)),babelHelpers.toConsumableArray(Object.values(o.averagePriceRecommendationTypes)),babelHelpers.toConsumableArray(Object.values(d.flexRecommendationTypes)))).isRequired,searchCompleted:f.default.bool.isRequired},O.defaultProps={ajaxStatus:u.ajaxRequestStatus.NO_REQUEST,clientDerivedAdvantageType:o.averagePriceAdvantageTypes.NONE,clientDerivedRecommendationType:o.averagePriceRecommendationTypes.NONE,noResults:!1},e.default=ReactRedux.connect(function(e){var a=e.AveragePriceInsightsBanner,t=e.NearbyAirportInsightsBanner,n=e.SearchPoll,r=a&&a.ui.shouldDisplay?a:t;return{advantageType:r.data.advantageType,ajaxStatus:r.clientDerivedData?r.clientDerivedData.ajaxStatus:null,bannerData:r&&D[r.data.type]||D[u.bannerTypes.DEFAULT],bannerType:r.data.type,clientDerivedAdvantageType:r.clientDerivedData?r.clientDerivedData.advantageType:null,clientDerivedRecommendationType:r.clientDerivedData?r.clientDerivedData.recommendationType:null,noResults:n.noResults,recommendationType:r.data.recommendationType||u.genericRecommendationTypes.NONE,searchCompleted:n.completed}})(O)});define("default/common/icon/_svg_/control-tower",["exports","common/react/ReactSvgInline"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){return React.createElement(t.default,Object.assign({key:"default/common/icon/_svg_/control-tower"},e||{},{svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" fill="currentColor"><path d="M150 50H50c17.47-39.984 82.529-39.987 100 0zm30 10l-10.698 56h-10.635c-17.673 0-32 14.327-32 32v32H73.333v-32c0-17.673-14.327-32-32-32H30.698L20 60h160zM75 75H35l5 30h35V75zm42.5 0h-35v30h35V75zm47.5 0h-40v30h35l5-30z"/></svg>'}))}});define("default/common/utils/react/question",["exports","common/utils/react/events","common/utils/react/logger"],function(e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=babelHelpers.interopRequireDefault(n),o=babelHelpers.interopRequireDefault(r);e.default=function(){if("undefined"!=typeof R9&&R9.question)return R9.question;var e=new o.default("framework/question"),n={},r=function(e){return e.replace(/\./g,"_")};return{answer:function(t,o){var i=r(t);void 0!==n[i]&&e.error("Duplicate question name "+i+" is being overwritten."),"function"!=typeof o?e.error("Handler for answer is not a function"):n[i]=o},ask:function(o,i){var u=r(o);if(u||e.error("Missing question name - may cause weird stuff to happen"),"function"==typeof n[u])try{return n[u].call({questionName:u},i)}catch(n){e.error("Error in question.ask ("+u+")",n,{questionName:u})}return void 0!==t.default._debug&&e.warn('Missing question answer: "%s".  No component is registered to answer this question'.format(u)),null},forget:function(e){var t=r(e);return void 0!==n[t]&&(delete n[t],!0)}}}()});define("default/common/icon/_svg_/heart",["exports","common/react/ReactSvgInline"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){return React.createElement(t.default,Object.assign({key:"default/common/icon/_svg_/heart"},e||{},{svg:'<svg viewBox="0 -1 39 37" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" fill-rule="nonzero" d="M35.88 3.166c4.16 4.177 4.16 10.992 0 15.213L20.02 34.472 19.5 35 3.12 18.423c-4.16-4.22-4.16-11.036 0-15.257 4.117-4.221 10.833-4.221 14.993 0L19.5 4.573l1.387-1.407c4.116-4.221 10.833-4.221 14.993 0zM7.757 5.1v5.276h5.2V5.1h-5.2zM4.29 10.377v3.517h3.467v-3.517H4.29z"/></svg>'}))}});define("default/flights/results/_svg_/calendar-inverted",["exports","common/react/ReactSvgInline"],function(e,L){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){return React.createElement(L.default,Object.assign({key:"default/flights/results/_svg_/calendar-inverted"},e||{},{svg:'<svg width="20px" height="20px" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" fill="currentColor"> <path d="M15.8333333,2.5 L15.8333333,0 L13.3333333,0 L13.3333333,2.5 L6.66666667,2.5 L6.66666667,0 L4.16666667,0 L4.16666667,2.5 L0.833333333,2.5 L0.833333333,5.83333333 L19.1666667,5.83333333 L19.1666667,2.5 L15.8333333,2.5 Z M0.833333333,7.5 L0.833333333,17.5 C0.833333333,18.4204746 1.57952542,19.1666667 2.5,19.1666667 L17.5,19.1666667 C18.4204746,19.1666667 19.1666667,18.4204746 19.1666667,17.5 L19.1666667,7.5 L0.833333333,7.5 Z M6.66666667,17.5 L3.33333333,17.5 L3.33333333,14.1666667 L6.66666667,14.1666667 L6.66666667,17.5 Z M6.66666667,12.5 L3.33333333,12.5 L3.33333333,9.16666667 L6.66666667,9.16666667 L6.66666667,12.5 Z M11.6666667,17.5 L8.33333333,17.5 L8.33333333,14.1666667 L11.6666667,14.1666667 L11.6666667,17.5 Z M11.6666667,12.5 L8.33333333,12.5 L8.33333333,9.16666667 L11.6666667,9.16666667 L11.6666667,12.5 Z M16.6666667,12.5 L13.3333333,12.5 L13.3333333,9.16666667 L16.6666667,9.16666667 L16.6666667,12.5 Z"></path> </svg>'}))}});define("default/common/icon/_svg_/filters",["exports","common/react/ReactSvgInline"],function(a,e){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a){return React.createElement(e.default,Object.assign({key:"default/common/icon/_svg_/filters"},a||{},{svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 41 43"><path fill="currentColor" d="M12.5 11.5A6 6 0 0 0 8 5.7V0H5v5.7a6 6 0 0 0 0 11.6V43h3V17.3a6 6 0 0 0 4.5-5.8zM8 14.08a3.16 3.16 0 0 1-.56.25l-.22.07-.22.05a3 3 0 0 1-.51.05 3 3 0 0 1-.49-.05h-.21l-.22-.07a3.16 3.16 0 0 1-.57-.3 3 3 0 0 1 0-5.16 3.16 3.16 0 0 1 .56-.25l.22-.07.22-.05a3 3 0 0 1 .5-.05 3 3 0 0 1 .5.05h.21l.23.12a3.16 3.16 0 0 1 .56.25 3 3 0 0 1 0 5.16zM26.5 19a6 6 0 0 0-4.5-5.8V0h-3v13.2a6 6 0 0 0 0 11.6V43h3V24.8a6 6 0 0 0 4.5-5.8zM22 21.58a3.16 3.16 0 0 1-.56.25l-.22.07h-.21a2.54 2.54 0 0 1-1 0h-.21l-.22-.07a3.16 3.16 0 0 1-.58-.25 3 3 0 0 1 0-5.17 3.16 3.16 0 0 1 .56-.25l.22-.07h.21a2.54 2.54 0 0 1 1 0h.21l.22.07a3.16 3.16 0 0 1 .56.25 3 3 0 0 1 .02 5.17zM40.5 30a6 6 0 0 0-4.5-5.8V0h-3v24.2a6 6 0 0 0 0 11.6V43h3v-7.2a6 6 0 0 0 4.5-5.8zM36 32.58a3.16 3.16 0 0 1-.56.25l-.22.07h-.21a2.54 2.54 0 0 1-1 0h-.21l-.22-.07a3.16 3.16 0 0 1-.58-.25 3 3 0 0 1 0-5.17 3.16 3.16 0 0 1 .56-.25l.22-.07h.21a2.54 2.54 0 0 1 1 0h.21l.22.07a3.16 3.16 0 0 1 .56.25 3 3 0 0 1 .02 5.17z"/></svg> '}))}});define("default/common/results/react/constants/ResultsPageConstants",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.RP_QUESTION_FILTER_DATA="resultspage_filterData_get",e.RP_QUESTION_FILTER_STATE="resultspage_filterState_is"});define("default/common/icon/_svg_/magnifying-glass",["exports","common/react/ReactSvgInline"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){return React.createElement(n.default,Object.assign({key:"default/common/icon/_svg_/magnifying-glass"},e||{},{svg:'<svg width="23" height="22" viewBox="0 0 23 22" xmlns="http://www.w3.org/2000/svg"><path d="M22.22 18.58l-5-4.83a8.58 8.58 0 0 0-1.26-11 9.45 9.45 0 0 0-13 0A8.61 8.61 0 0 0 3 15.26a9.33 9.33 0 0 0 6.48 2.57 9.44 9.44 0 0 0 5-1.4l5 4.82 2.74-2.67zM4 14.18A7.11 7.11 0 0 1 4 3.82a7.93 7.93 0 0 1 10.88 0 7.11 7.11 0 0 1 0 10.36 7.93 7.93 0 0 1-10.88 0zm11.92 1.08c.11-.11.21-.22.32-.34l3.81 3.66-.62.59-3.81-3.65.3-.26z" fill="currentColor"/></svg>'}))}});define("default/common/icon/_svg_/share-alternate",["exports","common/react/ReactSvgInline"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){return React.createElement(t.default,Object.assign({key:"default/common/icon/_svg_/share-alternate"},e||{},{svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path class="share-up-arrow" d="M15.21 5.22L9.99 0 4.77 5.22l1.66 1.66L8.81 4.5v9.63h2.35V4.5l2.39 2.38 1.66-1.66z"/><path d="M17.63 20H2.35A2.35 2.35 0 0 1 0 17.65v-5.88h2.35v5.88h15.28v-5.88H20v5.88A2.35 2.35 0 0 1 17.63 20z"/></svg> '}))}});define("default/common/icon/_svg_/checkmark",["exports","common/react/ReactSvgInline"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){return React.createElement(t.default,Object.assign({key:"default/common/icon/_svg_/checkmark"},e||{},{svg:'<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M24.81 6.498l-1.563-1.356a.593.593 0 0 0-.813.04l-11.888 12.64-6.173-5.353a.593.593 0 0 0-.813.04l-1.412 1.5a.54.54 0 0 0 .042.78l8.15 7.069a.57.57 0 0 0 .28.128.591.591 0 0 0 .556-.168l13.676-14.54a.54.54 0 0 0-.042-.78"/></svg> '}))}});define("default/flights/results/react/constants/NearbyAirportInsightsContants",["exports","prop-types","flights/results/react/constants/InsightsBannerConstants"],function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nearbyInsightsBannerShape=e.airportRecommendationTypes=void 0;var n=babelHelpers.interopRequireDefault(t),a=e.airportRecommendationTypes=babelHelpers.extends({},s.genericRecommendationTypes,{CHANGE_ORIGIN:"CHANGE_ORIGIN",CHANGE_DESTINATION:"CHANGE_DESTINATION",CHANGE_BOTH:"CHANGE_BOTH"});e.nearbyInsightsBannerShape={data:n.default.shape(babelHelpers.extends({},s.genericInsightsBannerDataShape,{recommendationType:n.default.oneOf(Object.values(a)).isRequired,destinationCode:n.default.string.isRequired,lowestPrice:n.default.string.isRequired,originCode:n.default.string.isRequired,displaySavings:n.default.string.isRequired})),ui:n.default.shape(s.genericInsightsBannerUiShape)}});define("default/common/icon/_svg_/save-outline",["exports","common/react/ReactSvgInline"],function(e,a){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){return React.createElement(a.default,Object.assign({key:"default/common/icon/_svg_/save-outline"},e||{},{svg:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="m22 13.37a3.4 3.4 0 0 0 -4.78 0l-.06.06-.06-.07a3.43 3.43 0 0 0 -4.78 0 3.32 3.32 0 0 0 0 4.75l4.84 4.78 4.84-4.77a3.32 3.32 0 0 0 0-4.75zm-1.4 3.32-3.44 3.39-3.43-3.39a1.35 1.35 0 0 1 -.41-1 1.32 1.32 0 0 1 .41-1 1.37 1.37 0 0 1 1-.4 1.41 1.41 0 0 1 1 .4l1.46 1.45 1.47-1.45a1.41 1.41 0 0 1 2 0 1.34 1.34 0 0 1 .4 1 1.31 1.31 0 0 1 -.46 1z"/><path d="m9.49 17h-6.49v-10h16v3.43h.61a5.37 5.37 0 0 1 1.39.17v-3.6a2 2 0 0 0 -2-2h-4v-2a2 2 0 0 0 -2-2h-4a2 2 0 0 0 -2 2v2h-4a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h7.47a5.27 5.27 0 0 1 -.98-2zm-.49-14h4v2h-4z"/></svg> '}))}});define("default/moment",["exports","module","context"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{get:function(){return!0},set:function(){}}),t.exports=moment});define("default/flights/results/react/constants/FlexForAllInsightsContants",["exports","prop-types","flights/results/react/constants/InsightsBannerConstants"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.flexInsightsBannerShape=e.flexRecommendationTypes=void 0;var s=babelHelpers.interopRequireDefault(t),a=e.flexRecommendationTypes=babelHelpers.extends({},n.genericRecommendationTypes,{DEPART_BEFORE:"DEPART_BEFORE",DEPART_AFTER:"DEPART_AFTER",RETURN_BEFORE:"RETURN_BEFORE",RETURN_AFTER:"RETURN_AFTER",BOTH:"BOTH"});e.flexInsightsBannerShape={data:s.default.shape(babelHelpers.extends({},n.genericInsightsBannerDataShape,{departDaysAway:s.default.number,displaySavings:s.default.string,recommendationType:s.default.oneOf(Object.values(a)).isRequired,recommendedDates:s.default.string,returnDaysAway:s.default.number})),ui:s.default.shape(n.genericInsightsBannerUiShape)}});define("default/common/analytics/react/Analytics",["exports","context","common/analytics/react/Google","common/analytics/react/VSLog","common/react/constants/globals"],function(e,a,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonVisualAnalytics=void 0;var l=babelHelpers.interopRequireDefault(a),r=babelHelpers.interopRequireDefault(t),s=babelHelpers.interopRequireDefault(i),o=babelHelpers.interopRequireDefault(n),c=function(){function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default;if(babelHelpers.classCallCheck(this,e),this.isServer=l.default.isServer(),!this.isServer){this.globals=a;var t=new r.default(a),i=new s.default(a);this.handlers={pageView:[t.pageHandler.bind(t),i.pageHandler.bind(i)],event:[t.eventHandler.bind(t),i.eventHandler.bind(i)],autoEvent:[t.eventHandler.bind(t),i.eventHandler.bind(i)]}}}return babelHelpers.createClass(e,[{key:"track",value:function(a,t,i){if(this.isServer)return void(i&&i());this.globals.analytics.doNotTrack||e.handle(a,t,i)}},{key:"trackPageView",value:function(e,a){if(this.isServer)return void(a&&a());this.track(this.handlers.pageView,this.makePageData(e),a)}},{key:"trackEvent",value:function(e,a){if(this.isServer)return void(a&&a());this.track(this.handlers.event,this.makeEventData(e),a)}},{key:"trackAutoEvent",value:function(e,a){if(this.isServer)return void(a&&a());var t=this.makeEventData(e);t.auto=!0,this.track(this.handlers.autoEvent,t,a)}},{key:"makeEventData",value:function(e){var a=e;"string"==typeof e&&(a={category:e});var t=this.makeCommonData(e),i=null;return!i&&l.default.isClient()&&(i=window.SearchID),i&&(t.searchid=i),a&&(t.category=a.category,t.params=a.params,t.searchid=t.searchid||a.searchid,t.action=a.action,t.label=a.label,t.value=a.value),t}},{key:"makePageData",value:function(e){return this.makeCommonData(e)}},{key:"makeCommonData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={},t=this.globals.analytics||{};return a.vertical=e.vertical||t.vertical||this.globals.vertical,a.locale=e.locale||this.globals.locale.loc,a.affiliate=e.affiliate||this.globals.affiliate,a.affiliateskin=e.affiliateskin||e.brand||this.globals.affiliateskin||this.globals.brand,a.experiment=e.experiment||this.globals.experiment,a.pageId=e.pageId||t.pageId,a.subPageId=e.subPageId||t.subPageId,a.presentation=e.presentation||t.presentation||this.globals.presentation,a.pixelContext=e.pixelContext||t.pixelContext||{},a.loginState=e.loginState||t.loginState,a.sessionId=e.sessionId||t.sessionId,a}}],[{key:"handle",value:function(e,a,t){var i=[];e.forEach(function(e){return i.push(e(a))}),t&&Promise.all(i).then(t)}}]),e}();e.default=c;e.NonVisualAnalytics=ReactRedux.connect(function(e){return{global:e.global}})(function(e){var a=e.global;return l.default.isClient()&&new c(a).trackPageView(),null})});define("default/common/utilities/react/Utils",["exports","common/utilities/react/Constants"],function(e,t){"use strict";function n(e){return e.replace(t.translateRe,function(e){return t.translate[e]})}function r(e){var t=[];return Object.keys(e).forEach(function(n){Object.prototype.hasOwnProperty.call(e,n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}),t.join("&")}function i(e){return null==e||"string"==typeof e&&""===e.trim()}function o(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!==(void 0===e?"undefined":babelHelpers.typeof(e)))return!0;for(var t=Object.keys(e),n=0;n<t.length;n+=1)if(Object.prototype.hasOwnProperty.call(e,t[n]))return!1;return!0}function s(e,t){var r=n(e.replace(/, /g,",").replace(/ - /g,",").replace(/ /g,"-"));return void 0!==t&&void 0!==t.useFullSearchUrl&&!0===t.useFullSearchUrl||(r=r.replace(/[^A-Za-z0-9_\-,.]/g,"")),r}function a(e,t){var n=window.document.createElement("script");n.type="text/javascript",n.src=e,n.async=!0,n.onload=n.onreadystatechange=function(e,r){(r||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n=void 0,r||t&&t())},window.document.getElementsByTagName("head")[0].appendChild(n)}function c(e,t){var n=e.height,r=e.width,i=window.document.createElement("canvas"),o=i.getContext("2d");return i.width=r*t,i.height=n*t,o.drawImage(e,0,0,r*t,n*t),i.toDataURL()}function u(e,t,n,r){var i=new window.Image;(void 0===r||r)&&(i.crossOrigin="Anonymous"),i.onload=function(){t(i)},i.error=function(){n()},i.src=e}function d(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0?parseInt(e.substring(r+5,e.indexOf(".",r)),10):0}function l(e){return e.charAt(0).toUpperCase()+e.slice(1)}function g(e){e.global;return babelHelpers.objectWithoutProperties(e,["global"])}Object.defineProperty(e,"__esModule",{value:!0}),e.userAgentUtils=void 0,e.serialize=r,e.isEmptyString=i,e.isEmptyObject=o,e.encodeLocation=s,e.appendScript=a,e.getScaledImage=c,e.loadImage=u,e.msIEVersion=d,e.capitalizeFirstLetter=l,e.getPropsNoGlobal=g;var f=e.userAgentUtils={getUserAgent:function(){return navigator.userAgent},isAndroid:function(){return/Android/i.test(f.getUserAgent())&&!f.isWindows()},isBlackBerry:function(){return/BlackBerry|BB10|PlayBook/i.test(f.getUserAgent())},isIPhone:function(){return/iPhone/i.test(f.getUserAgent())&&!f.isIPad()&&!f.isWindows()},isIPod:function(){return/iPod/i.test(f.getUserAgent())},isIPad:function(){return/iPad/i.test(f.getUserAgent())},isIOS:function(){return f.isIPad()||f.isIPod()||f.isIPhone()},isOpera:function(){return/Opera Mini/i.test(f.getUserAgent())},isWindows:function(){return/Windows Phone|IEMobile|WPDesktop/i.test(f.getUserAgent())},isKindleFire:function(){return/Kindle Fire|Silk|KFAPWA|KFSOWI|KFJWA|KFJWI|KFAPWI|KFAPWI|KFOT|KFTT|KFTHWI|KFTHWA|KFASWI|KFTBWI|KFMEWI|KFFOWI|KFSAWA|KFSAWI|KFARWI/i.test(f.getUserAgent())},any:function(){return f.isAndroid()||f.isBlackBerry()||f.isIOS()||f.isOpera()||f.isWindows()}},p={serialize:r,isEmptyObject:o,isEmptyString:i,encodeLocation:s,appendScript:a,getScaledImage:c,loadImage:u,msIEVersion:d,capitalizeFirstLetter:l,getPropsNoGlobal:g};e.default=p});define("default/flights/results/react/constants/FlexMatrixConstants",["exports"],function(_){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var E;_.displayModes={NONE:"NONE",PLUS_MINUS_THREE:"PLUS_MINUS_THREE",FLEX_FOR_ALL_BANNER:"FLEX_FOR_ALL_BANNER",FLEX_DATE_PREDICTIONS:"FLEX_DATE_PREDICTIONS"},_.presentationKeys={DEFAULT:"DEFAULT",V2:"V2"},_.priceCategories={BEST_PRICE:"BEST_PRICE",GOOD_PRICE:"GOOD_PRICE",DEFAULT:"DEFAULT",BAD_PRICE:"BAD_PRICE",WORST_PRICE:"WORST_PRICE"},_.flexFilterDateFormat="YYYYMMDD",_.flexDateNumericalRanges=(E={exact:[0,0],minusone:[-1,0],plusone:[0,1],plusminusone:[-1,1],plusminustwo:[-2,2],plusminusthree:[-3,3]},babelHelpers.defineProperty(E,void 0,[-3,3]),babelHelpers.defineProperty(E,null,[-3,3]),E),_.recommendationConfigKeys={MIN_SAVINGS_ABSOLUTE_USD:"MIN_SAVINGS_ABSOLUTE_USD",MIN_SAVINGS_QUERY_DATES:"MIN_SAVINGS_QUERY_DATES",MIN_SAVINGS_ONE_DAY_AWAY:"MIN_SAVINGS_ONE_DAY_AWAY",MIN_SAVINGS_TWO_DAYS_AWAY:"MIN_SAVINGS_TWO_DAYS_AWAY",MIN_SAVINGS_THREE_DAYS_AWAY:"MIN_SAVINGS_THREE_DAYS_AWAY",MIN_SAVINGS_MINOR_TWO_DAYS_AWAY:"MIN_SAVINGS_MINOR_TWO_DAYS_AWAY",MIN_SAVINGS_MINOR_THREE_DAYS_AWAY:"MIN_SAVINGS_MINOR_THREE_DAYS_AWAY"},_.recommendationStringKeys={TAB_ALL_SIMILAR_DATES:"TAB_ALL_SIMILAR_DATES",TAB_ALREADY_CHEAPEST_DATES:"TAB_ALREADY_CHEAPEST_DATES",TAB_CHEAPER_DEPART_BEFORE:"TAB_CHEAPER_DEPART_BEFORE",TAB_CHEAPER_DEPART_AFTER:"TAB_CHEAPER_DEPART_AFTER",TAB_CHEAPER_RETURN_BEFORE:"TAB_CHEAPER_RETURN_BEFORE",TAB_CHEAPER_RETURN_AFTER:"TAB_CHEAPER_RETURN_AFTER",TAB_CHEAPER_DEPART_RETURN:"TAB_CHEAPER_DEPART_RETURN",TAB_CHEAPER_LIMITED_SAVINGS:"TAB_CHEAPER_LIMITED_SAVINGS",TAB_FLEX_SEARCH_RECOMMENDED_RT:"TAB_FLEX_SEARCH_RECOMMENDED_RT",TAB_FLEX_SEARCH_RECOMMENDED_OW:"TAB_FLEX_SEARCH_RECOMMENDED_OW"}});define("default/common/icon/_svg_/chevron-stroke",["exports","common/react/ReactSvgInline"],function(e,o){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){return React.createElement(o.default,Object.assign({key:"default/common/icon/_svg_/chevron-stroke"},e||{},{svg:'<svg viewBox="0 0 8 5" xmlns="http://www.w3.org/2000/svg" stroke-linejoin="round" stroke-linecap="round" stroke-width="1.35"><path d="M7 1.053L4.027 4 1 1" stroke="currentColor" fill="none"/></svg>'}))}});define("default/common/utilities/react/Constants",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.translateRe=/[öäüÖÄÜáàâéèêúùûóòôÁÀÂÉÈÊÚÙÛÓÒÔßæçØøðÇÐÌÍÎÏìíîïÑñŠšŸÿýŽžŒабвгдеёжзийклмнопрстуфхцчшщъыьэюяАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯΑαΆάΒβΓγΔδΕεΈέΖζΗηΉήΘθΙιΊίΪϊΐΚκΛλΜμΝνΞξΟοΌόΠπΡρΣσςΤτΥυΎύΫϋΰΦφΧχΨψΩωΏώ]/g,e.translate={"ä":"a","ö":"o","ü":"u","Ä":"A","Ö":"O","Ü":"U","á":"a","à":"a","â":"a","é":"e","è":"e","ê":"e","ú":"u","ù":"u","û":"u","ó":"o","ò":"o","ô":"o","Á":"A","À":"A","Â":"A","É":"E","È":"E","Ê":"E","Ú":"U","Ù":"U","Û":"U","Ó":"O","Ò":"O","Ô":"O","ß":"s","æ":"o","ç":"c","Ø":"O","ø":"o","ð":"e","Ç":"C","Ð":"D","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Š":"S","š":"s","Ÿ":"Y","ÿ":"y","ý":"y","Ž":"Z","ž":"z","Œ":"O","ć":"c","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"jo","ж":"zh","з":"z","и":"i","й":"jj","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"kh","ц":"c","ч":"ch","ш":"sh","щ":"shh","ъ":'"',"ы":"y","ь":"'","э":"eh","ю":"ju","я":"ja","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"JO","Ж":"ZH","З":"Z","И":"I","Й":"JJ","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"KH","Ц":"C","Ч":"CH","Ш":"SH","Щ":"SHH","Ъ":'""',"Ы":"Y","Ь":"''","Э":"EH","Ю":"JU","Я":"JA","Α":"A","α":"a","Ά":"A","ά":"a","Β":"V","β":"v","Γ":"G","γ":"g","Δ":"D","δ":"d","Ε":"E","ε":"e","Έ":"E","έ":"e","Ζ":"Z","ζ":"z","Η":"I","η":"i","Ή":"I","ή":"i","Θ":"Th","θ":"th","Ι":"I","ι":"i","Ί":"I","ί":"i","Ϊ":"I","ϊ":"i","ΐ":"i","Κ":"K","κ":"k","Λ":"L","λ":"l","Μ":"M","μ":"m","Ν":"N","ν":"n","Ξ":"X","ξ":"x","Ο":"O","ο":"o","Ό":"O","ό":"o","Π":"P","π":"p","Ρ":"R","ρ":"r","Σ":"S","σ":"s","ς":"s","Τ":"T","τ":"t","Υ":"Y","υ":"y","Ύ":"Y","ύ":"y","Ϋ":"Y","ϋ":"y","ΰ":"y","Φ":"F","φ":"f","Χ":"Ch","χ":"ch","Ψ":"Ps","ψ":"ps","Ω":"O","ω":"o","Ώ":"O","ώ":"o"},e.ISO_DATE="YYYY-MM-DD"});define("default/flights/results/react/reducers/FlexMatrixReducer",["exports","flights/results/react/actions/FlexMatrixActions","common/results/filters/react/actions/FilterStateActions","common/results/react/actions/SearchPollActions","flights/results/react/actions/SearchPredictionsAjaxActions","flights/results/react/constants/InsightsBannerConstants","flights/results/react/constants/FlexMatrixConstants","flights/results/react/utils/FlexMatrixClientBuilder","flights/results/react/utils/FlexMatrixClientPredictionUtils","common/results/react/reducers/SearchPollListenerReducer","common/results/react/constants/SearchPollConstants"],function(e,t,a,r,l,n,i,s,d,u,o){"use strict";function c(e,t){return i.displayModes.FLEX_FOR_ALL!==t||e.queryDate}function p(e,t){return!0===t.config.flexDatePredictionsEnabled?"plusminusthree":e}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.displayModes.NONE;return t.valueMap?e.map(function(e){return babelHelpers.extends({},e,{checked:t.valueMap[e.filterValue]&&void 0!==t.valueMap[e.filterValue].selected?!!t.valueMap[e.filterValue].selected:c(e,a)})}):e}function f(e,t,a,r){var l=t.length,n={};return Object.values(a).filter(function(e){return e.prediction||e.placeholder||e.disabled}).forEach(function(e){n[e[r]]=(n[e[r]]||0)+1}),e.reduce(function(e,t){return e.concat(babelHelpers.extends({},t,{disabled:n[t.filterValue]===l}))},[])}function b(e){var t=e.departLabels,a=e.matrixEntries;return f(t,e.returnLabels,a,"departFilterValue")}function x(e){var t=e.departLabels,a=e.matrixEntries;return f(e.returnLabels,t,a,"returnFilterValue")}function _(e,t,a){var r=t.filter(function(e){return e.checked}).map(function(e){return e.filterValue}),l=a?a.filter(function(e){return e.checked}).map(function(e){return e.filterValue}):null,n=t.filter(function(e){return e.queryDate}).map(function(e){return e.filterValue}),i=a?a.filter(function(e){return e.queryDate}).map(function(e){return e.filterValue}):null,s=e.data.matrixEntries,d={};return Object.keys(s).forEach(function(e){d[e]=babelHelpers.extends({},s[e],{queryDate:n.includes(s[e].departFilterValue)&&(null===i||i.includes(s[e].returnFilterValue)),selected:r.includes(s[e].departFilterValue)&&(null===l||l.includes(s[e].returnFilterValue))})}),d}function y(e,t,a){if(!e)return null;var r={},l=!1;return Object.keys(t).forEach(function(a){var n=(!t[a]||t[a].placeholder)&&e[a];n&&!l&&(l=!0),r[a]=n?e[a]:t[a]}),l?((0,d.setMatrixEntryPriceCategories)(r,a.config),r):null}function R(e,t){if(!e.isMulticity){if(t.config.flexDatePredictionsEnabled)return i.displayModes.FLEX_DATE_PREDICTIONS;if("exact"===e.depart_date_flex&&t.config.flexForAllEnabled)return i.displayModes.FLEX_FOR_ALL_BANNER;if("exact"!==e.depart_date_flex||e.return_date_flex&&"exact"!==e.return_date_flex)return i.displayModes.PLUS_MINUS_THREE}return i.displayModes.NONE}function g(e,t,a){if([o.searchPollStatus.NO_RESULTS,o.searchPollStatus.SEARCH_ERROR].includes((0,u.getPollStatus)(e)))return i.displayModes.NONE;if(void 0===e.isFlex)return t.ui.displayMode;if(!e.isMulticity){if(t.config.flexDatePredictionsEnabled)return i.displayModes.FLEX_DATE_PREDICTIONS;if(!0===e.isFlex&&!1!==e.showPlusMinusThree)return i.displayModes.PLUS_MINUS_THREE;if(t.config.flexForAllEnabled&&!e.isFlex&&a&&e.flexForAllInsightsBanner&&(!e.completed||0!==e.filteredCount)&&!n.advantageTypeGroups.NO_ADVANTAGE.includes(e.flexForAllInsightsBanner.advantageType))return i.displayModes.FLEX_FOR_ALL_BANNER}return i.displayModes.NONE}function S(e,t,a){return e.flexMatrix&&e.flexMatrix.displayMode===i.displayModes.FLEX_FOR_ALL_BANNER&&a&&e.flexForAllInsightsBanner&&n.advantageTypeGroups.NO_DATA.includes(e.flexForAllInsightsBanner.advantageType)?i.displayModes.NONE:g(e,t,a)}Object.defineProperty(e,"__esModule",{value:!0}),e.initialState=void 0,e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.payload||{},r=a.depart_date_canon,l=a.return_date_canon,d=a.depart_date_flex,u=a.return_date_flex,o=void 0,c=void 0,f=void 0,v=void 0,D=void 0,P=void 0;switch(t.type){case O.CLEAR_SEARCH:case O.INIT_POLLING:case O.UPDATE_START_SEARCH_PARAMS:return o=R(t.payload,e),babelHelpers.extends({},e,{clientDerivedData:babelHelpers.extends({},N.clientDerivedData,{ajaxStatus:o===i.displayModes.FLEX_DATE_PREDICTIONS?n.ajaxRequestStatus.START_REQUEST:n.ajaxRequestStatus.NO_REQUEST}),data:(0,s.buildPlaceholderPollData)(r,l,p(d,e),p(u,e),o),ui:babelHelpers.extends({},N.ui,{displayMode:o,hasBanner:!!e.config.flexForAllEnabled&&i.displayModes.FLEX_FOR_ALL_BANNER===o,hasNonstopToggle:!1,nonstopOnly:!1})});case O.POLL_RESPONSE:case O.END_POLLING:var T=t.payload.flexForAllInsightsBanner,C=T?T.location===n.bannerLocations.FLEX_MATRIX&&!n.advantageTypeGroups.NO_ADVANTAGE.includes(T.advantageType):e.ui.hasBanner;return void 0===C&&(C=N.ui.hasBanner),o=t.payload.type===O.END_POLLING?S(t.payload,e,C):g(t.payload,e,C),t.payload.flexMatrix&&t.payload.flexMatrix.matrixEntries?(c=t.payload.flexMatrix,e.config.flexDatePredictionsEnabled&&(f=y(e.clientDerivedData.ajaxMatrixEntries,c.matrixEntries,e))&&(c=babelHelpers.extends({},c,{matrixEntries:f}))):c=e.data,v=b(c),D=x(c),P=t.payload.resultsChanged&&e.config.flexDatePredictionsEnabled&&c.matrixEntries?Object.values(c.matrixEntries).filter(function(e){return e.prediction}).length:e.ui.predictionCellCount,babelHelpers.extends({},e,{data:babelHelpers.extends({},c,{departLabels:v,returnLabels:D}),ui:babelHelpers.extends({},N.ui,e.ui,{accordionOpen:i.displayModes.FLEX_FOR_ALL_BANNER===o&&T&&n.bannerTypes.USE_PREVIOUS!==T.type?e.ui.accordionOpen&&(!C||!!T&&n.advantageTypes.LOADING!==T.advantageType):e.ui.accordionOpen,displayMode:o,defaultDatesSelected:c.matrixEntries&&Object.values(c.matrixEntries).every(function(e){return e.selected===e.queryDate}),enabledDepartLabelCount:v.filter(function(e){return!e.disabled}).length,enabledReturnLabelCount:D.filter(function(e){return!e.disabled}).length,hasBanner:C,hasNonstopToggle:C&&!c.disableNonstopToggle&&T&&n.advantageTypeGroups.NONSTOP.includes(T.advantageType),predictionCellCount:P,standardCellCount:Object.keys(c.matrixEntries).length-P})});case L.FILTER_RESET_PENDING:case L.UPDATE_FILTER_DATA:v=E(e.data.departLabels,t.payload.data.flexdepart,e.ui.displayMode),D=E(e.data.returnLabels,t.payload.data.flexreturn,e.ui.displayMode);var M=_(e,v,D),F=Object.values(M).filter(function(e){return e.selected});return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,{departLabels:v,matrixEntries:M,returnLabels:D,selectedDateCount:F.length}),ui:babelHelpers.extends({},e.ui,{defaultDatesSelected:1===F.length&&F[0].queryDate})});case A.CHANGE_ACCORDION_STATE:return babelHelpers.extends({},e,{ui:babelHelpers.extends({},e.ui,{accordionOpen:t.payload.accordionOpen})});case A.UPDATE_NONSTOP_ONLY:return babelHelpers.extends({},e,{ui:babelHelpers.extends({},e.ui,{nonstopOnly:t.payload,undoStopsFilterState:null})});case A.SET_UNDO_STOPS_FILTER_STATE:return babelHelpers.extends({},e,{ui:babelHelpers.extends({},e.ui,{undoStopsFilterState:t.payload.filterState})});case A.UPDATE_HOVERED_CELL:case A.UPDATE_HOVERED_AXIS_LABEL:return babelHelpers.extends({},e,{ui:babelHelpers.extends({},e.ui,{hoveredDepartCell:t.payload.departId,hoveredReturnCell:t.payload.returnId})});case h.RECEIVE_FLEX_PREDICTIONS_SUCCESS:return f=y(t.payload.clientMatrixEntries,e.data.matrixEntries,e),c=f?babelHelpers.extends({},e.data,{matrixEntries:f}):e.data,v=b(c),D=x(c),P=c.matrixEntries&&Object.values(c.matrixEntries).filter(function(e){return e.prediction}).length,babelHelpers.extends({},e,{clientDerivedData:{ajaxStatus:n.ajaxRequestStatus.RESPONSE_RECEIVED,ajaxMatrixEntries:t.payload.clientMatrixEntries},data:babelHelpers.extends({},c,{departLabels:v,returnLabels:D}),ui:babelHelpers.extends({},e.ui,{enabledDepartLabelCount:v.filter(function(e){return!e.disabled}).length,enabledReturnLabelCount:D.filter(function(e){return!e.disabled}).length,predictionCellCount:P,standardCellCount:Object.keys(c.matrixEntries).length-P})});case h.RECEIVE_FLEX_PREDICTIONS_ERROR:return babelHelpers.extends({},e,{clientDerivedData:{ajaxStatus:n.ajaxRequestStatus.RESPONSE_ERROR}});default:return babelHelpers.extends({},N,e,{data:babelHelpers.extends({},N.data,e.data&&e.data.matrixEntries?e.data:{}),ui:babelHelpers.extends({},N.ui,e.ui,{hasBanner:e.config&&e.ui&&e.config.flexForAllEnabled&&i.displayModes.FLEX_FOR_ALL_BANNER===e.ui.displayMode})})}};var A=babelHelpers.interopRequireWildcard(t),L=babelHelpers.interopRequireWildcard(a),O=babelHelpers.interopRequireWildcard(r),h=babelHelpers.interopRequireWildcard(l),N=e.initialState={clientDerivedData:{ajaxStatus:n.ajaxRequestStatus.NO_REQUEST,ajaxMatrixEntries:null},config:{smallDisplayPrice:!1,flexForAllEnabled:!1,flexDatePredictionsEnabled:!1,priceCategoryConfig:{badPricePercentAboveAvg:70,calculateBestPrice:!0,calculateGoodPrice:!1,calculateBadPrice:!1,calculateWorstPrice:!0,goodPricePercentBelowAvg:30,maxCellsPerCategory:21,medianMaxAverageToBoundsRatio:3,minUniquePrices:3,minPriceRange:15}},data:(0,s.buildPlaceholderPollData)(),ui:{accordionOpen:void 0,defaultDatesSelected:!0,displayMode:i.displayModes.NONE,enabledDepartLabelCount:0,enabledReturnLabelCount:0,hasBanner:!1,hasNonstopToggle:!1,hoveredDepartCell:"",hoveredReturnCell:"",hoveredDepartAxis:"",hoveredReturnAxis:"",nonstopOnly:!1,predictionCellCount:0,standardCellCount:NaN,undoStopsFilterState:null}}});define("default/flights/results/react/reducers/NearbyAirportInsightsBannerReducer",["exports","flights/results/react/actions/NearbyAirportInsightsBannerActions","common/results/react/actions/SearchPollActions","flights/results/react/constants/InsightsBannerConstants"],function(e,t,a,n){"use strict";function r(e,t){var a=e.nearbyAirportInsightsBanner;return t.ui.nearbyRecommendationApplied?t.data:a&&n.bannerTypes.USE_PREVIOUS!==a.type?babelHelpers.extends({},d.data,a):t.data||d.data}function i(e,t){return void 0!==e?e:t}Object.defineProperty(e,"__esModule",{value:!0}),e.initialState=void 0,e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case s.SET_NEARBY_RECOMMENDATION_APPLIED:return babelHelpers.extends({},e,{ui:babelHelpers.extends({},e.ui,{nearbyRecommendationApplied:i(t.payload.nearbyRecommendationApplied,e.ui.nearbyRecommendationApplied),undoFilterState:i(t.payload.undoFilterState,e.ui.undoFilterState)})});case o.CLEAR_SEARCH:case o.INIT_POLLING:case o.UPDATE_START_SEARCH_PARAMS:return babelHelpers.extends({},e,d);case o.POLL_RESPONSE:case o.END_POLLING:return babelHelpers.extends({},e,{data:r(t.payload,e)});default:return babelHelpers.extends({},d,e)}};var s=babelHelpers.interopRequireWildcard(t),o=babelHelpers.interopRequireWildcard(a),d=e.initialState={data:{type:n.bannerTypes.DEFAULT,advantageType:n.advantageTypes.LOADING,recommendationType:n.genericRecommendationTypes.NONE,location:n.bannerLocations.RESULTS_TOP,destinationCode:"",lowestPrice:"",originCode:"",savings:""},ui:{nearbyRecommendationApplied:!1,undoFilterState:{}}}});define("default/flights/results/react/actions/FlexMatrixActions",["exports"],function(t){"use strict";function e(t){return{type:S,payload:{filterState:t}}}function a(t){return{type:_,payload:{accordionOpen:t}}}function r(){return{type:E,payload:{}}}function n(t,e){return{type:O,payload:{departId:t,returnId:e}}}function i(t,e){return{type:T,payload:{departId:t,returnId:e}}}function o(t){return{type:d,payload:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.setUndoStopsFilterState=e,t.updateAccordionState=a,t.dismissNotification=r,t.updateCellHoverState=n,t.updateAxisHoverState=i,t.updateNonstopOnlyState=o;var _=t.CHANGE_ACCORDION_STATE="FlexMatrix.CHANGE_ACCORDION_STATE",E=t.DISMISS_NOTIFICATION="FlexMatrix.DISMISS_NOTIFICATION",S=t.SET_UNDO_STOPS_FILTER_STATE="FlexMatrix.SET_UNDO_STOPS_FILTER_STATE",T=t.UPDATE_HOVERED_AXIS_LABEL="FlexMatrix.UPDATE_HOVERED_AXIS_LABEL",O=t.UPDATE_HOVERED_CELL="FlexMatrix.UPDATE_HOVERED_CELL",d=t.UPDATE_NONSTOP_ONLY="FlexMatrix.UPDATE_NONSTOP_ONLY"});define("default/flights/results/react/reducers/FlexForAllInsightsBannerReducer",["exports","common/results/react/actions/SearchPollActions","common/results/filters/react/reducers/FilterStateReducer","flights/results/react/actions/FlexMatrixActions","flights/results/react/constants/InsightsBannerConstants","flights/results/react/constants/FlexForAllInsightsContants"],function(e,t,a,l,s,r){"use strict";function i(e,t){return e.depart_date_flex?t.config.flexForAllBannerEnabled&&"exact"===e.depart_date_flex&&!e.isMulticity:t.ui.shouldDisplay}function n(e,t){return e.flex_category?t.config.flexForAllBannerEnabled&&"exact"===e.flex_category&&!e.isMulticity:t.ui.shouldDisplay}function o(e,t){return e.flexForAllInsightsBanner&&s.bannerTypes.USE_PREVIOUS!==e.flexForAllInsightsBanner.type?!e.flexForAllInsightsBanner.queryDatesSelected&&Object.keys(e.filtersData).filter(function(e){return!["flexdepart","flexreturn"].includes(e)}).every(function(a){return t.private.filtersData[a]&&!e.filtersData[a].isUserManipulated&&!t.private.filtersData[a].isUserManipulated})?t.data:babelHelpers.extends({},f.data,e.flexForAllInsightsBanner):t.data||f.data}function d(e,t){return!!t.ui.shouldDisplay&&(e&&e.resultsChanged&&e.flexForAllInsightsBanner?e.filteredCount>0&&e.resultsChanged&&e.flexForAllInsightsBanner.recommendationType!==r.flexRecommendationTypes.NONE&&c.anyFilterAppliedFromFiltersData(e.filtersData):t.ui.hasNotification)}Object.defineProperty(e,"__esModule",{value:!0}),e.initialState=void 0,e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.DISMISS_NOTIFICATION:return babelHelpers.extends({},e,{ui:babelHelpers.extends({},e.ui,{hasNotification:!1})});case u.CLEAR_SEARCH:case u.INIT_POLLING:case u.UPDATE_START_SEARCH_PARAMS:return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,f.data),private:{filtersData:{},isFlex:t.payload.isFlex},ui:babelHelpers.extends({},e.ui,{hasNotification:!1,shouldDisplay:i(t.payload,e)})});case u.POLL_RESPONSE:case u.END_POLLING:return babelHelpers.extends({},e,{data:o(t.payload,e),private:babelHelpers.extends({},e.private,{filtersData:t.payload.filtersData||e.private.filtersData}),ui:babelHelpers.extends({},e.ui,{hasNotification:d(t.payload,e),shouldDisplay:n(t.payload,e)})});default:return babelHelpers.extends({},f,e)}};var u=babelHelpers.interopRequireWildcard(t),c=babelHelpers.interopRequireWildcard(a),p=babelHelpers.interopRequireWildcard(l),f=e.initialState={config:{flexForAllBannerEnabled:!1},data:{type:s.bannerTypes.FLEX_FOR_ALL,advantageType:s.advantageTypes.LOADING,recommendationType:r.flexRecommendationTypes.NONE,location:s.bannerLocations.FLEX_MATRIX,disableNonstopToggle:!1,departFilterValue:"",returnFilterValue:"",subheadingDateRange:"",departDaysAway:0,returnDaysAway:0,queryDatesSelected:!0,savingsMissedThreshold:!1},private:{filtersData:{},isFlex:!1},ui:{hasNotification:!1,shouldDisplay:!1}}});define("default/common/results/react/reducers/SearchPollListenerReducer",["exports","common/utils/react/ImmutableObjectUtils","common/results/react/constants/SearchPollConstants","common/results/react/actions/SearchPollActions"],function(e,t,s,a){"use strict";function l(e){return e.error?e.searchExpired?s.searchPollStatus.SEARCH_EXPIRED:s.searchPollStatus.SEARCH_ERROR:e.completed?0===e.filteredCount?s.searchPollStatus.NO_RESULTS:s.searchPollStatus.SEARCH_FINISHED:e.searchStartedThisPoll?s.searchPollStatus.FIRST_PHASE:e.isFirstPhaseCompleted?s.searchPollStatus.SECOND_PHASE:s.searchPollStatus.FIRST_PHASE}Object.defineProperty(e,"__esModule",{value:!0}),e.initialState=void 0,e.getPollStatus=l,e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=void 0;switch(a.type){case r.CLEAR_SEARCH:return o;case r.INIT_POLLING:return babelHelpers.extends({},o,(0,t.omit)(a.payload,n),{noResults:!1,status:s.searchPollStatus.SEARCH_STARTED});case r.UPDATE_START_SEARCH_PARAMS:return babelHelpers.extends({},e,(0,t.omit)(a.payload,n));case r.POLL_RESPONSE:return i=l(a.payload),babelHelpers.extends({},e,(0,t.omit)(a.payload,n),{noResults:[s.searchPollStatus.NO_RESULTS,s.searchPollStatus.SEARCH_ERROR].includes(i),status:i});case r.END_POLLING:return i=l(a.payload),babelHelpers.extends({},o,e,(0,t.omit)(a.payload,n),{noResults:[s.searchPollStatus.NO_RESULTS,s.searchPollStatus.SEARCH_ERROR].includes(i),status:l(a.payload)});default:return babelHelpers.extends({},e,{resultsChanged:e===o})}};var r=babelHelpers.interopRequireWildcard(a),o=e.initialState={activeCabin:"e",completed:!1,depart_date_canon:"",destination:"",destinationId:"",firstPhaseCompleted:!1,flexCategory:"",isFlex:!1,isMulticity:!1,isOneWay:!1,isRoundTrip:!0,noResults:!1,origin:"",originId:"",pageNumber:1,resultsChanged:!0,return_date_canon:"",status:s.searchPollStatus.NO_SEARCH},n=["averagePriceInsightsBanner","insightsBanner","filtersData","flexForAllInsightsBanner","flexMatrix"]});define("default/flights/results/react/utils/FlexMatrixClientPredictionUtils",["exports","moment","flights/results/react/constants/FlexMatrixConstants","common/react/constants/globals"],function(e,r,t,a){"use strict";function n(e,r){var t=e.reduce(function(e,r){return e+r},0)/e.length;if(t){var a=e[0],n=e[e.length-1];return{max:n,mean:t,min:a,midPrice:t-a>(n-t)*r.medianMaxAverageToBoundsRatio||n-t>(t-a)*r.medianMaxAverageToBoundsRatio?e[Math.floor(e.length/2)]:t}}return null}function i(e,r,t){var a=r.minPriceRange,n=r.minUniquePrices;if(!e)return null;var i=Object.values(e).map(function(e){return e[t].price}).filter(function(e){return e>0});if(!i.length)return null;var o=new Set(null);if(i.forEach(function(e){return o.add(e)}),o.size<n)return null;var c=[].concat(babelHelpers.toConsumableArray(i)).sort();return c[c.length-1]-c[0]<a?null:c}function o(e,r,t){var a,o=i(e,r,t);if(!o)return null;var c=(a={},babelHelpers.defineProperty(a,y,NaN),babelHelpers.defineProperty(a,_,NaN),babelHelpers.defineProperty(a,E,NaN),babelHelpers.defineProperty(a,R,NaN),a),l=r.badPricePercentAboveAvg,u=r.calculateBestPrice,s=r.calculateGoodPrice,f=r.calculateBadPrice,m=r.calculateWorstPrice,A=r.goodPricePercentBelowAvg,d=r.maxCellsPerCategory,p=NaN,v=NaN,g=0,D=0;if(s||f){var S=n(o,r);S&&(s&&(p=S.midPrice-(S.midPrice-S.min)*(A/100)),f&&(v=S.midPrice-(S.midPrice-S.min)*(l/100)))}return o.forEach(function(e,r,t){m&&0===r?c[R]=e:u&&r===t.length-1?c[y]=e:s&&e<=p?(c[_]=e,g+=1):f&&e>=v&&(c[E]=c[E]||e,D+=1)}),s&&g>d&&(c[_]=NaN),f&&D>d&&(c[E]=NaN),c}function c(e,r){return e<=r[y]?y:e<=r[_]?_:e>=r[E]?E:e>=r[R]?R:v}function l(e,r){var t=r.priceCategoryConfig,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"allFlights",n=o(e,t,a);if(!n)return e;var i={};return Object.keys(e).forEach(function(r){i[r]=babelHelpers.extends({},e[r],babelHelpers.defineProperty({},a,babelHelpers.extends({},e[r][a],{priceCategory:c(e[r].price,n)})))}),i}function u(e,r){var t={queryDate:{key:null,price:null},cheapestFlexDate:{key:null,price:null}};return Object.keys(e).forEach(function(a){var n=e[a][r];n&&n.price>0&&(e[a].queryDate?t.queryDate={key:a,price:n.price}:(!t.cheapestFlexDate.price||n.price<t.cheapestFlexDate.price)&&(t.cheapestFlexDate={key:a,price:n.price}))}),t}function s(e,r){var t=e-r;return R9&&R9.Common?R9.Common.Utils.formatPrice(t):t}function f(e,r,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"allFlights";if(!e)return"";var i=u(e,n),o=i.cheapestFlexDate,c=i.queryDate;if(!(o.key&&o.price&&c.key&&c.price))return"";var l=e[o.key],f=1-o.price/c.price;if(f<=0){if(-1*f>g(0,r)){var m=s(l[n].price,c.price);return a[t.recommendationStringKeys.TAB_ALREADY_CHEAPEST_DATES].value(m)}return a[t.recommendationStringKeys.TAB_ALL_SIMILAR_DATES].value()}var A=Math.abs(l.departDaysAway),d=Math.abs(l.returnDaysAway),y=Math.max(A,d),_=c.price-o.price,E=r[t.recommendationConfigKeys.MIN_SAVINGS_ABSOLUTE_USD](5)*(p.default.currencyConversionRates.fromUSD||1);if(f>g(y,r)&&_>E){var R=s(c.price,l[n].price);if(0!==l.departDaysAway&&0!==l.returnDaysAway)return a[t.recommendationStringKeys.TAB_CHEAPER_DEPART_RETURN].value(R);if(0!==l.departDaysAway)return l.departDaysAway<0?a[t.recommendationStringKeys.TAB_CHEAPER_DEPART_AFTER].value(A,R):a[t.recommendationStringKeys.TAB_CHEAPER_DEPART_BEFORE].value(A,R);if(0!==l.returnDaysAway)return l.returnDaysAway<0?a[t.recommendationStringKeys.TAB_CHEAPER_RETURN_AFTER].value(d,R):a[t.recommendationStringKeys.TAB_CHEAPER_RETURN_BEFORE].value(d,R)}else{var v=D(y,r);if(v&&f>v)return a[t.recommendationStringKeys.TAB_CHEAPER_LIMITED_SAVINGS].value()}return a[t.recommendationStringKeys.TAB_ALL_SIMILAR_DATES].value()}function m(e){if(!e)return"";var r=e,a=(0,d.default)(e,t.flexFilterDateFormat);return p.default.dateFormats.dayOfWeek&&(r=a.format(p.default.dateFormats.dayOfWeek)),'<span style="white-space: nowrap">'+r+"</span>"}function A(e,r,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"allFlights";if(!e)return"";var i=u(e,n),o=i.cheapestFlexDate,c=i.queryDate;if(!(o.key&&o.price&&c.key&&c.price))return"";var l=1-o.price/c.price;if(l<=0)return"";var s=e[o.key],f=Math.max(Math.abs(s.departDaysAway),Math.abs(s.returnDaysAway));if(l>g(f,r)){var A=m(s.departFilterValue),d=m(s.returnFilterValue),p=s[n].price,y=R9&&R9.Common&&R9.Common.Utils?R9.Common.Utils.formatPrice(p):p;return d&&A!==d?a[t.recommendationStringKeys.TAB_FLEX_SEARCH_RECOMMENDED_RT].value(A,d,y):a[t.recommendationStringKeys.TAB_FLEX_SEARCH_RECOMMENDED_OW].value(A,y)}return""}Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixEntryPriceCategories=l,e.findPredictedExactDateRecommendation=f,e.findPredictedFlexDateRecommendation=A;var d=babelHelpers.interopRequireDefault(r),p=babelHelpers.interopRequireDefault(a),y=t.priceCategories.BEST_PRICE,_=t.priceCategories.GOOD_PRICE,E=t.priceCategories.BAD_PRICE,R=t.priceCategories.WORST_PRICE,v=t.priceCategories.DEFAULT,g=function(e,r){switch(e){case 1:return r[t.recommendationConfigKeys.MIN_SAVINGS_ONE_DAY_AWAY](.05);case 2:return r[t.recommendationConfigKeys.MIN_SAVINGS_TWO_DAYS_AWAY](.1);case 3:return r[t.recommendationConfigKeys.MIN_SAVINGS_THREE_DAYS_AWAY](.15);case 0:default:return r[t.recommendationConfigKeys.MIN_SAVINGS_QUERY_DATES](.05)}},D=function(e,r){switch(e){case 2:return r[t.recommendationConfigKeys.MIN_SAVINGS_MINOR_TWO_DAYS_AWAY](.05);case 3:return r[t.recommendationConfigKeys.MIN_SAVINGS_MINOR_THREE_DAYS_AWAY](.05);default:return NaN}}});define("default/common/results/react/reducers/WatchlistReducer",["exports","common/results/react/actions/WatchlistActions"],function(e,t){"use strict";function r(e,t){var r=babelHelpers.extends({},e);return r[t.vertical]=[].concat(t.watchList),r}function n(e,t){var r=t.vertical,n=t.item,s=babelHelpers.extends({},e);return s[r]=[].concat(s[r]),s[r].filter(function(e){return e.resultId===n.resultId}).length||s[r].push(n),s}function s(e,t){var r=t.vertical,n=t.resultId,s=t.isPaused,a=t.alertId,c=babelHelpers.extends({},e);return c[r]=[].concat(c[r]),c[r].forEach(function(e,t){n===e.resultId&&(c[r][t]=babelHelpers.extends({},e,{isPaused:s,alertId:a}))}),c}function a(e,t){var r=t.vertical,n=t.resultId,s=babelHelpers.extends({},e);return s[r]=[].concat(s[r]).filter(function(e){return e.resultId!==n}),s}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=l.type,i=l.payload;switch(u){case t.UPDATE_WATCHLIST:return r(e,i);case t.ADD_TO_WATCHLIST:return n(e,i);case t.TOGGLE_ITEM_STATE:return s(e,i);case t.REMOVE_FROM_WATCHLIST:return a(e,i);default:return e}};var c={hotels:[],flights:[],cars:[],packages:[],trains:[],rentals:[]}});define("default/flights/results/react/reducers/AveragePriceInsightsBannerReducer",["exports","common/results/react/actions/SearchPollActions","flights/results/react/actions/SearchPredictionsAjaxActions","flights/results/react/constants/AveragePriceInsightsConstants","flights/results/react/constants/InsightsBannerConstants","flights/results/react/utils/AveragePriceInsightsBannerUtils"],function(e,a,t,r,i,n){"use strict";function s(e,a){return e.averagePriceInsightsBanner&&i.bannerTypes.USE_PREVIOUS!==e.averagePriceInsightsBanner.type?babelHelpers.extends({},d.data,e.averagePriceInsightsBanner):a.data||d.data}Object.defineProperty(e,"__esModule",{value:!0}),e.initialState=void 0,e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case l.REQUEST_MONTH_PRICES:return babelHelpers.extends({},e,{clientDerivedData:babelHelpers.extends({},e.clientDerivedData,{ajaxStatus:i.ajaxRequestStatus.REQUEST_PENDING})});case l.RECEIVE_MONTH_PRICE:var t=(0,n.getAbsolutePricePercentDifference)(e.data.cheapestSearchPrice,a.payload.price);return babelHelpers.extends({},e,{clientDerivedData:babelHelpers.extends({},e.clientDerivedData,{advantageType:(0,n.getClientDerivedAdvantageType)(e,e.data.cheapestSearchPrice,a.payload.price),ajaxStatus:i.ajaxRequestStatus.RESPONSE_RECEIVED,averagePrice:a.payload.price,averagePriceDisplay:a.payload.displayPrice,averagePriceMonths:a.payload.displayMonths,pricePercentDifference:t,recommendationType:(0,n.getClientDerivedRecommendationType)(e.data.cheapestSearchPrice,a.payload.price,t,e.config.averagePricePercentThreshold)})});case l.RECEIVE_NO_MONTH_PRICES:return babelHelpers.extends({},e,{clientDerivedData:babelHelpers.extends({},e.clientDerivedData,{advantageType:r.averagePriceAdvantageTypes.NONE,ajaxStatus:i.ajaxRequestStatus.RESPONSE_RECEIVED,averagePrice:a.payload.price,averagePriceDisplay:"",averagePriceMonths:[],pricePercentDifference:NaN,recommendationType:r.averagePriceRecommendationTypes.NONE}),ui:{shouldDisplay:!1}});case l.RECEIVE_MONTH_PRICE_ERROR:return babelHelpers.extends({},e,{clientDerivedData:babelHelpers.extends({},e.clientDerivedData,{advantageType:r.averagePriceAdvantageTypes.ERROR,ajaxStatus:i.ajaxRequestStatus.RESPONSE_ERROR,averagePrice:a.payload.price,averagePriceDisplay:"",averagePriceMonths:[],pricePercentDifference:NaN,recommendationType:r.averagePriceRecommendationTypes.NONE}),ui:{shouldDisplay:!1}});case c.CLEAR_SEARCH:case c.INIT_POLLING:case c.UPDATE_START_SEARCH_PARAMS:return babelHelpers.extends({},e,{clientDerivedData:babelHelpers.extends({},d.clientDerivedData,{ajaxStatus:e.clientDerivedData.ajaxStatus!==i.ajaxRequestStatus.REQUEST_PENDING?i.ajaxRequestStatus.START_REQUEST:e.clientDerivedData.ajaxStatus,recommendationType:r.averagePriceRecommendationTypes.NONE}),data:babelHelpers.extends({},e.data,d.data,{type:e.config.averagePriceBannerEnabled?i.bannerTypes.AVERAGE_PRICE:i.bannerTypes.DEFAULT}),private:{isFlex:a.payload.isFlex},ui:{shouldDisplay:e.config.averagePriceBannerEnabled&&!a.payload.isMulticity}});case c.POLL_RESPONSE:case c.END_POLLING:var p=a.payload.averagePriceInsightsBanner||e.data,o=(0,n.getAbsolutePricePercentDifference)(p.cheapestSearchPrice,e.clientDerivedData.averagePrice),v=(0,n.getClientDerivedAdvantageType)(e,p.cheapestSearchPrice,e.clientDerivedData.averagePrice,a.payload.completed);return babelHelpers.extends({},e,{clientDerivedData:babelHelpers.extends({},e.clientDerivedData,{advantageType:v,pricePercentDifference:o,recommendationType:(0,n.getClientDerivedRecommendationType)(p.cheapestSearchPrice,e.clientDerivedData.averagePrice,o,e.config.averagePricePercentThreshold)}),data:s(a.payload,e),private:{isFlex:a.payload.isFlex},ui:{shouldDisplay:e.ui.shouldDisplay&&!i.advantageTypeGroups.NO_DATA.includes(v)}});default:return babelHelpers.extends({},d,e)}};var c=babelHelpers.interopRequireWildcard(a),l=babelHelpers.interopRequireWildcard(t),d=e.initialState={clientDerivedData:{advantageType:r.averagePriceAdvantageTypes.LOADING,ajaxStatus:i.ajaxRequestStatus.NO_REQUEST,averagePrice:void 0,averagePriceDisplay:"",averagePriceMonths:[],pricePercentDifference:NaN,recommendationType:r.averagePriceRecommendationTypes.NONE},config:{averagePriceBannerEnabled:!1,averagePricePercentThreshold:NaN},data:{type:i.bannerTypes.DEFAULT,advantageType:r.averagePriceAdvantageTypes.LOADING,cheapestSearchPrice:null,recommendationType:r.averagePriceRecommendationTypes.NONE,location:i.bannerLocations.RESULTS_TOP},private:{isFlex:!1},ui:{shouldDisplay:!1}}});define("default/common/react/reducers/PageGlobals",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,e};var t=[]});define("default/common/results/filters/react/reducers/FilterStateReducer",["exports","common/results/filters/react/actions/FilterStateActions","common/results/react/actions/SearchPollActions"],function(e,t,a){"use strict";function l(e){return Object.keys(e).some(function(t){return e[t]&&e[t].isUserManipulated&&!p.includes(t)})}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],a=arguments[2];return{anyFilterApplied:l(e),filtersChanged:!a||void 0!==a.filteredCount&&a.filteredCount!==t.data.filteredCount,flexFilterApplied:e.flexdepart&&e.flexdepart.isDirty||e.flexreturn&&e.flexreturn.isDirty,pendingFilterData:e&&Object.keys(e).length?{}:t.ui.pendingFilterData}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{anyFilterApplied:Object.keys(e).some(function(t){return e[t]&&e[t].isUserManipulated&&!p.includes(t)}),filtersChanged:Object.keys(e).some(function(e){return e&&!p.includes(e)&&(!t[e]||e.isUserManupulated!==t[e].isUserManupulated)}),flexFilterApplied:e.flexdepart&&e.flexdepart.isDirty||e.flexreturn&&e.flexreturn.isDirty,pendingFilterData:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.initialState=void 0,e.anyFilterAppliedFromFiltersData=l,e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=void 0;switch(t.type){case n.CLEAR_SEARCH:case n.INIT_POLLING:return babelHelpers.extends({},t.payload.preserveFilters&&e.data?e:s,{ui:babelHelpers.extends({},s.ui,t.payload.preserveFilters&&e.ui?e.ui:{},{pendingFilterData:{}})});case n.POLL_RESPONSE:return a=babelHelpers.extends({},e.data,t.payload.filtersData||t.payload.data,{filteredCount:t.payload.filteredCount||e.data.filteredCount}),babelHelpers.extends({},e,{data:a,ui:r(a,e,t.payload)});case d.UPDATE_FILTER_DATA:return a=babelHelpers.extends({},e.data,t.payload.data),babelHelpers.extends({},e,{data:a,ui:i(a,e.data)});case d.ANY_FILTERS_CHANGED:return babelHelpers.extends({},e,{ui:babelHelpers.extends({},e.ui,{filtersChanged:!t.payload.data.reset&&!p.includes(t.payload.data.name)&&!!t.payload.data.changeData})});case d.FILTER_RESET_PENDING:return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,t.payload.data),ui:{anyFilterApplied:!1,filtersChanged:!1,flexFiltersApplied:e.ui.flexFiltersApplied,pendingFilterData:t.payload.data}});default:return babelHelpers.extends({},s,e)}};var d=babelHelpers.interopRequireWildcard(t),n=babelHelpers.interopRequireWildcard(a),s=e.initialState={data:{filteredCount:0,flexdepart:{valueMap:{}},flexreturn:{valueMap:{}}},ui:{anyFilterApplied:!1,filtersChanged:!1,flexFilterApplied:!1,pendingFilterData:{}}},p=["flexdepart","flexreturn","baditin","bfc","cfc","pfc"]});define("default/common/results/react/actions/WatchlistActions",["exports"],function(t){"use strict";function e(t,e){return{type:l,payload:{vertical:t,watchList:e}}}function a(t,e){return{type:o,payload:{vertical:t,item:e}}}function r(t,e,a,r){return{type:c,payload:{vertical:t,resultId:e,isPaused:a,alertId:r}}}function i(t,e){return{type:s,payload:{vertical:t,resultId:e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateWatchlist=e,t.addToWatchlist=a,t.toggleItemState=r,t.removeFromWatchlist=i;var l=t.UPDATE_WATCHLIST="updateWatchlist",o=t.ADD_TO_WATCHLIST="addToWatchlist",c=t.TOGGLE_ITEM_STATE="toggleItemState",s=t.REMOVE_FROM_WATCHLIST="removeFromWatchlist"});define("default/flights/results/react/utils/AveragePriceInsightsBannerUtils",["exports","flights/results/react/constants/AveragePriceInsightsConstants"],function(e,r){"use strict";function a(e,a,n,t){var i=e.private.isFlex,s=!i&&(null===a||void 0===a),c=null===n||void 0===n,o=!a||a<=0,v=!n||n<=0;return s&&c?e.data.advantageType:!c||!s&&o?i?r.averagePriceAdvantageTypes.FLEX_SEARCH_LET_THE_USER_DECIDE:s&&!v&&!0!==t?r.averagePriceAdvantageTypes.LOADING_SEARCH_PRICE:o||v?r.averagePriceAdvantageTypes.NONE:r.averagePriceAdvantageTypes.SAVINGS:r.averagePriceAdvantageTypes.LOADING_AVERAGE_PRICE}function n(e,r){if(!e||!r||e<=0||r<=0)return NaN;var a=e>r,n=a?e/r:r/e;return Math.round(100*n)-100}function t(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n(e,a),i=arguments[3];if(!t&&0!==t)return r.averagePriceRecommendationTypes.NONE;if(!i&&0!==i)throw new Error("AveragePriceInsightsBanner#getClientDerivedRecommendationType:            Invalid argument for recommendationPercentThreshold: "+i);return t>=i?e>a?r.averagePriceRecommendationTypes.ABOVE_AVERAGE_PRICE:r.averagePriceRecommendationTypes.BELOW_AVERAGE_PRICE:r.averagePriceRecommendationTypes.AVERAGE_PRICE}Object.defineProperty(e,"__esModule",{value:!0}),e.getClientDerivedAdvantageType=a,e.getAbsolutePricePercentDifference=n,e.getClientDerivedRecommendationType=t});define("default/flights/results/react/reducers/FlightResultsPage",["exports","common/react/reducers/PageGlobals","flights/results/react/reducers/FlexMatrixReducer","flights/results/react/reducers/AveragePriceInsightsBannerReducer","flights/results/react/reducers/FlexForAllInsightsBannerReducer","flights/results/react/reducers/NearbyAirportInsightsBannerReducer","common/results/react/reducers/SearchPollListenerReducer","common/results/filters/react/reducers/FilterStateReducer","common/results/react/reducers/WatchlistReducer"],function(e,r,t,l,s,a,u,i,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=babelHelpers.interopRequireDefault(r),d=babelHelpers.interopRequireDefault(t),o=babelHelpers.interopRequireDefault(l),f=babelHelpers.interopRequireDefault(s),b=babelHelpers.interopRequireDefault(a),p=babelHelpers.interopRequireDefault(u),R=babelHelpers.interopRequireDefault(i),g=babelHelpers.interopRequireDefault(c);e.default=Redux.combineReducers({PageGlobals:n.default,FlexMatrix:d.default,AveragePriceInsightsBanner:o.default,FlexForAllInsightsBanner:f.default,NearbyAirportInsightsBanner:b.default,SearchPoll:p.default,FilterState:R.default,WatchListReducer:g.default})});define("default/common/utils/react/ImmutableObjectUtils",["exports"],function(e){"use strict";function t(e,t){var n={};return Object.keys(e).filter(function(e){return!t.includes(e)}).forEach(function(t){n[t]=e[t]}),n}Object.defineProperty(e,"__esModule",{value:!0}),e.omit=t,e.default=t});define("default/flights/results/react/FlexMatrixCollapsibleContainer",["exports","stl!flights.results.FlexMatrixCollapsibleContainer.FlexMatrixCollapsibleContainer","stl!flights.results.FlexMatrixCollapsibleContainer.FlexMatrixCollapsibleContainer__Container","stl!flights.results.FlexMatrixCollapsibleContainer.FlexMatrixCollapsibleContainer__Body","flights/results/react/FlexMatrixContainer","flights/results/react/FlexMatrixHeader","flights/results/react/FlexMatrix","flights/results/react/actions/FlexMatrixActions","flights/results/react/constants/FlexMatrixConstants"],function(e,t,l,i,a,n,s,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FlexMatrixCollapsibleContainer=void 0;var u=babelHelpers.interopRequireDefault(t),p=babelHelpers.interopRequireDefault(l),c=babelHelpers.interopRequireDefault(i),d=babelHelpers.interopRequireDefault(n),h=babelHelpers.interopRequireDefault(s),f=babelHelpers.interopRequireWildcard(o),b={accordionOpenDefault:!0,contentHeight:null},x=e.FlexMatrixCollapsibleContainer=function(e){function t(e){babelHelpers.classCallCheck(this,t);var l=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.contentElement=null,r.displayModes.FLEX_FOR_ALL===e.displayMode&&(b.accordionOpenDefault=!1),l.state=b,l.onHeightUpdate=l.onHeightUpdate.bind(l),l.updateHoverState=l.updateHoverState.bind(l),l}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"updateHoverState",value:function(){this.props.updateHoverState("","")}},{key:"componentDidMount",value:function(){this.syncContentHeight()}},{key:"componentWillReceiveProps",value:function(e){var t=!e.noResults&&r.displayModes.PLUS_MINUS_THREE===e.displayMode;this.state.accordionOpenDefault!==t&&this.setState({accordionOpenDefault:t})}},{key:"onHeightUpdate",value:function(e){this.state.contentHeight!==e&&this.setState({contentHeight:e})}},{key:"syncContentHeight",value:function(){var e=this.contentElement&&this.contentElement.clientHeight;e!==this.state.contentHeight&&"number"==typeof e&&this.setState({contentHeight:e})}},{key:"getContainerHeight",value:function(e){return e?this.state.contentHeight?this.state.contentHeight+"px":"auto":0}},{key:"render",value:function(){var e=this,t=this.props,l=t.anyFilterApplied,i=t.displayMode,a=t.extraCssClass,n=t.initialDisplayMode,s=t.fullWidth,o=void 0===this.props.accordionOpen?this.state.accordionOpenDefault:this.props.accordionOpen;return i===r.displayModes.NONE?null:babelHelpers.jsx("div",{className:u.default+" "+a},void 0,babelHelpers.jsx(d.default,{accordionOpen:o,anyFilterApplied:l}),babelHelpers.jsx("div",{className:p.default,style:{height:this.getContainerHeight(o)}},void 0,React.createElement("div",{className:c.default+"}",ref:function(t){e.contentElement=t},onMouseLeave:this.updateHoverState},babelHelpers.jsx(h.default,{initialDisplayMode:n,fullWidth:s,onHeightUpdate:this.onHeightUpdate}))))}}]),t}(a.FlexMatrixContainer);e.default=ReactRedux.connect(function(e,t){var l=e.FlexMatrix,i=e.SearchPoll,a=e.FilterState,n=t.extraCssClass,s=t.fullWidth,o=t.initialDisplayMode;return{extraCssClass:n,fullWidth:s,initialDisplayMode:o,accordionOpen:l.ui.accordionOpen,displayMode:l.ui.displayMode||o,anyFilterApplied:a.ui.anyFilterApplied,noResults:i.noResults}},function(e){return{updateNonstopOnlyState:function(t){return e(f.updateNonstopOnlyState(t))},updateHoverState:function(t,l){return e(f.updateCellHoverState(t,l))}}})(x)});define("default/flights/results/react/FlexMatrix",["exports","stl!flights.results.FlexMatrix.FlexMatrix","stl!flights.results.FlexMatrix.FlexMatrix--no-filters","stl!flights.results.FlexMatrix.FlexMatrix__CheckboxWrapper","stl!flights.results.FlexMatrix.FlexMatrix__GridContainer__Grid","stl!flights.results.FlexMatrix.FlexMatrix__GridRowsContainer","stl!flights.results.FlexMatrix.FlexMatrix__Content","stl!flights.results.FlexMatrix.FlexMatrix__Content--V2","stl!flights.results.FlexMatrix.FlexMatrix__AboveGridRow","stl!flights.results.FlexMatrix.FlexMatrix__AboveGridRow--v2","stl!flights.results.FlexMatrix.FlexMatrix__ReturnAxis__Label","stl!flights.results.FlexMatrix.FlexMatrix__ReturnAxis__Label--v2","stl!flights.results.FlexMatrix.FlexMatrix__Cell--spacer--v2","stl!flights.results.FlexMatrix.FlexMatrix__Axis__Label","stl!flights.results.FlexMatrix.FlexMatrix__ReturnAxis__Label__Text","stl!flights.results.FlexMatrix.FlexMatrix__DepartAxis","stl!flights.results.FlexMatrix.FlexMatrix__ReturnAxisColumn","stl!flights.results.FlexMatrix.FlexMatrix__ReturnAxis","stl!flights.results.FlexMatrix.FlexMatrix__Axis__Icon","stl!flights.results.FlexMatrix.FlexMatrix__FilterExplanation__Text","stl!flights.results.FlexMatrix.FlexMatrix__FilterExplanation__Link","flights/results/_svg_/arrow-down","flights/results/_svg_/arrow-forward","string!flights/results//FLEX_MATRIX_NONSTOP_ONLY_CHECKBOX","string!flights/results//FLEX_MATRIX_NEO_DEPART_AXIS_LABEL","string!flights/results//FLEX_MATRIX_NEO_RETURN_AXIS_LABEL","string!flights/results//FLEX_MATRIX_NEO_FILTER_EXPLANATION","string!flights/results//FLEX_MATRIX_NEO_FILTER_EXPLANATION_RESET","string!flights/results//FLEX_MATRIX_PREDICTION_PRICE_DISCLAIMER","property!horizon.flights.results.flexMatrix.returnLabelInMatrix","property!horizon.flights.results.flexMatrix.useLabelIcons","property!horizon.flights.results.flexMatrix.presentation","property!horizon.flights.results.flexMatrix.scrollToTop","property!horizon.flights.results.flexMatrix.scrollOffset","property!kapi.search.vInternal.flights.flexMatrix.filters.apply","flights/results/react/FlexMatrixDepartLabel","flights/results/react/FlexMatrixReturnLabel","flights/results/react/FlexMatrixGrid","common/widgets/checkbox/react/StyleJamCheckbox","flights/results/react/FlexMatrixBar","flights/results/react/FlexMatrixGridRow","flights/results/react/FlexMatrixGridBlock","flights/results/react/actions/FlexMatrixActions","common/analytics/react/Analytics","common/utils/react/presentate","common/results/filters/react/FilterStateController","common/utils/react/events","common/utils/react/question","flights/results/react/constants/FlexMatrixConstants","common/widgets/checkbox/react/constants/StyleJamCheckboxConstants","common/react/constants/layout","common/react/constants/globals"],function(e,t,l,r,a,s,i,o,n,u,p,f,b,x,d,c,h,g,_,F,M,H,R,v,y,m,C,N,D,q,L,A,k,E,w,S,T,O,j,B,I,X,P,U,W,G,K,z,V,J,Y,Q){"use strict";function Z(e){var t=e.children,l=e.className,r=e.rowWidth;return babelHelpers.jsx("div",{className:l,style:{flex:""+r}},void 0,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.FlexMatrix=e.presentations=e.PureFlexMatrix=void 0;var $,ee,te,le=babelHelpers.interopRequireDefault(t),re=babelHelpers.interopRequireDefault(l),ae=babelHelpers.interopRequireDefault(r),se=babelHelpers.interopRequireDefault(a),ie=babelHelpers.interopRequireDefault(s),oe=babelHelpers.interopRequireDefault(i),ne=babelHelpers.interopRequireDefault(o),ue=babelHelpers.interopRequireDefault(n),pe=babelHelpers.interopRequireDefault(u),fe=babelHelpers.interopRequireDefault(p),be=babelHelpers.interopRequireDefault(f),xe=babelHelpers.interopRequireDefault(b),de=babelHelpers.interopRequireDefault(x),ce=babelHelpers.interopRequireDefault(d),he=babelHelpers.interopRequireDefault(c),ge=babelHelpers.interopRequireDefault(h),_e=babelHelpers.interopRequireDefault(g),Fe=babelHelpers.interopRequireDefault(_),Me=babelHelpers.interopRequireDefault(F),He=babelHelpers.interopRequireDefault(M),Re=babelHelpers.interopRequireDefault(H),ve=babelHelpers.interopRequireDefault(R),ye=babelHelpers.interopRequireDefault(v),me=babelHelpers.interopRequireDefault(y),Ce=babelHelpers.interopRequireDefault(m),Ne=babelHelpers.interopRequireDefault(C),De=babelHelpers.interopRequireDefault(N),qe=babelHelpers.interopRequireDefault(D),Le=babelHelpers.interopRequireDefault(S),Ae=babelHelpers.interopRequireDefault(T),ke=babelHelpers.interopRequireDefault(O),Ee=babelHelpers.interopRequireDefault(j),we=babelHelpers.interopRequireDefault(I),Se=babelHelpers.interopRequireWildcard(P),Te=babelHelpers.interopRequireDefault(U),Oe=babelHelpers.interopRequireDefault(W),je=babelHelpers.interopRequireWildcard(G),Be=babelHelpers.interopRequireDefault(K),Ie=babelHelpers.interopRequireDefault(z),Xe=babelHelpers.interopRequireWildcard(J),Pe=babelHelpers.interopRequireDefault(Q),Ue=e.PureFlexMatrix=function(e){function t(e){babelHelpers.classCallCheck(this,t);var l=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.analytics=null,l.wrapper=null,l.analytics=new Te.default,l.onCellClick=l.onCellClick.bind(l),l}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"toggleNonstopOnly",value:function(e){if(Pe.default.keyCodeSets.SELECT.includes(e.nativeEvent.which)){var t=this.props,l=t.nonstopOnly,r=t.undoStopsFilterState,a=t.updateNonstopOnlyState,s=!l;a(s),r&&je.pushValueSetFilterUpdates({stops:function(e){return babelHelpers.extends({},e,r)}}),this.analytics.trackEvent({action:"click",category:"flexforall",label:"nonstoponly",value:s?"checked":"unchecked"})}}},{key:"resetFilters",value:function(){je.resetAllFilters(),this.analytics.trackEvent({category:"flex-matrix/filter-reset-link",action:"click",value:this.props.flexFilterApplied?"flex-filters":"non-flex-filters"})}},{key:"onCellClick",value:function(){if((0,k.getBoolean)(!1)){var e=this.wrapper.getBoundingClientRect(),t=(e.y?e.y:e.top)+window.scrollY-(0,E.getNumber)(0);window.scrollTo({top:t,behavior:"smooth"})}}},{key:"publishHeightUpdates",value:function(){if(!this.wrapper)return!1;var e=this.props.onHeightUpdate,t=this.wrapper.clientHeight;return Be.default.publish("flights.results.react.FlexMatrix.rendered.height",t),"function"==typeof e&&(e(t),!0)}},{key:"componentDidMount",value:function(){var e=this;this.publishHeightUpdates(),Ie.default.answer("flights.results.react.FlexMatrix.height",function(){return e.wrapper?e.wrapper.clientHeight:null})}},{key:"componentDidUpdate",value:function(){this.publishHeightUpdates()}},{key:"componentWillUnmount",value:function(){Ie.default.forget("flights.results.react.FlexMatrix.height")}},{key:"render",value:function(){var e=this,t=this.props,l=t.anyFilterApplied,r=t.departLabels,a=t.displayMode,s=t.flexFilterApplied,i=t.fullWidth,o=t.hasNonstopToggle,n=t.nonstopOnly,u=t.predictionCellCount,p=t.presentation,f=t.returnLabels,b=t.roundTrip,x=t.uiStateKey;if(a===V.displayModes.NONE)return null;var d=l||s&&V.displayModes.FLEX_FOR_ALL!==a,c=r.length;return React.createElement("div",{className:le.default+" "+(d?"":re.default),ref:function(t){e.wrapper=t}},babelHelpers.jsx("div",{className:p.aboveGridRow},void 0,babelHelpers.jsx("div",{className:de.default+" "+p.bodyContent},void 0,(0,L.getBoolean)(!1)?babelHelpers.jsx(React.Fragment,{},void 0,(0,me.default)(),babelHelpers.jsx(ve.default,{className:Fe.default})):(0,me.default)()),(o||n)&&babelHelpers.jsx("div",{className:ae.default},void 0,babelHelpers.jsx(Ee.default,{id:"FlexMatrix__NonStopToggle",name:"FlexMatrix__NonStopToggle",value:"nonstop",label:ye.default.value(),checked:n,presentation:Xe.presentationKeys.MUTED,size:Y.sizes.MEDIUM,ariaLabel:ye.default.value(),click:function(t){return e.toggleNonstopOnly(t)},keyDown:function(t){return e.toggleNonstopOnly(t)}}))),babelHelpers.jsx("div",{className:se.default+" "+p.bodyContent,role:"grid"},void 0,babelHelpers.jsx(Z,{className:ie.default,rowWidth:c},void 0,babelHelpers.jsx(we.default,{className:he.default,role:"row"},void 0,r.map(function(e){return babelHelpers.jsx(Le.default,{axisLabel:e,filterName:"flexdepart",fullWidth:i,uiStateKey:x})})),babelHelpers.jsx(ke.default,{onCellClick:this.onCellClick})),b&&babelHelpers.jsx(Z,{className:ie.default+" "+ge.default,rowWidth:1},void 0,babelHelpers.jsx("ul",{className:_e.default,role:"grid"},void 0,babelHelpers.jsx(X.FlexMatrixGridBlock,{className:p.spacerCell,isv2:p.gridBlocksV2?1:0,role:"presentation"},void 0,(0,q.getBoolean)(!1)&&babelHelpers.jsx("div",{className:""+de.default},void 0,(0,Ce.default)(),(0,L.getBoolean)(!1)&&babelHelpers.jsx(Re.default,{className:Fe.default}))),f.map(function(e){return babelHelpers.jsx(Ae.default,{axisLabel:e,filterName:"flexreturn",fullWidth:i,uiStateKey:x})}))),b&&!(0,q.getBoolean)(!1)&&babelHelpers.jsx("div",{className:de.default+" "+p.returnAxisLabel},void 0,babelHelpers.jsx("span",{className:ce.default},void 0,(0,Ce.default)()))),(u||d)&&babelHelpers.jsx(B.FlexMatrixBarMultiRow,{isv2:p.gridBlocksV2?1:0},void 0,!!u&&babelHelpers.jsx(B.FlexMatrixBarRow,{className:Me.default},void 0,(0,qe.default)()),d&&babelHelpers.jsx(B.FlexMatrixBarRow,{id:"FlexMatrix__FilterReset"},void 0,l&&babelHelpers.jsx("span",{className:Me.default},void 0,(0,Ne.default)()),babelHelpers.jsx("button",{id:"FlexMatrix__FilterReset",className:"Button-No-Standard-Style "+He.default,onClick:function(){return e.resetFilters()}},void 0,(0,De.default)()))))}}]),t}(React.Component),We=e.presentations=($={},babelHelpers.defineProperty($,V.presentationKeys.DEFAULT,{aboveGridRow:ue.default,bodyContent:oe.default,returnAxisLabel:fe.default,spacerCell:"",gridBlocksV2:!1}),babelHelpers.defineProperty($,V.presentationKeys.V2,{aboveGridRow:pe.default,bodyContent:ne.default,returnAxisLabel:be.default,spacerCell:xe.default,gridBlocksV2:!0}),$),Ge=e.FlexMatrix=(ee=(0,Oe.default)(We,(0,A.getString)()))(te=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),t}(Ue))||te;e.default=ReactRedux.connect(function(e,t){var l=e.FlexMatrix,r=e.SearchPoll,a=e.FilterState,s=t.fullWidth,i=t.initialDisplayMode,o=t.isHidden,n=void 0!==o&&o,u=t.onHeightUpdate,p=l.data,f=p.departLabels,b=p.returnLabels,x=p.roundTrip,d=l.ui,c=d.displayMode,h=void 0===c?i:c,g=d.hasBanner,_=d.hasNonstopToggle,F=d.nonstopOnly,M=d.predictionCellCount,H=d.undoStopsFilterState,R=a.ui,v=R.anyFilterApplied;return{departLabels:f,returnLabels:b,roundTrip:x,displayMode:h,hasBanner:g,hasNonstopToggle:_,nonstopOnly:F,undoStopsFilterState:H,flexFilterApplied:R.flexFilterApplied,predictionCellCount:M,pollStatus:r.pollStatus,isHidden:n,fullWidth:s,onHeightUpdate:u,anyFilterApplied:v&&(0,w.getBoolean)(!0),uiStateKey:"object"===babelHelpers.typeof(l.ui)?JSON.stringify(l.ui):""}},function(e){return{updateNonstopOnlyState:function(t){return e(Se.updateNonstopOnlyState(t))}}})(Ge)});define("default/common/results/filters/react/constants/FilterConstants",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=e.itemSelectedStatus={NOT_SELECTED:0,SELECTED:1,ONLY:2};e.default=t});define("default/flights/results/react/FlexMatrixGridRow",["exports","stl!flights.results.FlexMatrixGridRow.GridRow"],function(e,l){"use strict";function r(e){var l=e.children,r=e.className,i=e.id,s=e.role;return babelHelpers.jsx("ul",{id:i,className:t.default+" "+r,role:s},void 0,l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=babelHelpers.interopRequireDefault(l)});define("default/flights/results/react/FlexMatrixCellLegsPanel",["exports","stl!flights.results.FlexMatrixCellLegsPanel.Panel","stl!flights.results.FlexMatrixCellLegsPanel.Panel__Leg","stl!flights.results.FlexMatrixCellLegsPanel.Panel__Leg--not-first","stl!flights.results.FlexMatrixCellLegsPanel.Panel__Leg__Airline-Logo","stl!flights.results.FlexMatrixCellLegsPanel.Panel__Leg__Info","stl!flights.results.FlexMatrixCellLegsPanel.Panel__Leg__Info__Row","stl!flights.results.FlexMatrixCellLegsPanel.Panel__Leg__Label","stl!flights.results.FlexMatrixCellLegsPanel.Panel__Leg__Airline-Name","stl!flights.results.FlexMatrixCellLegsPanel.Panel__Leg__Details","stl!flights.results.FlexMatrixCellLegsPanel.Panel__Leg__Details__Detail--not-last","stl!flights.results.FlexMatrixCellLegsPanel.Panel__Similar-Flights","string!flights/results//FLEX_MATRIX_CELL_LEGS_DEPART_LABEL","string!flights/results//FLEX_MATRIX_CELL_LEGS_RETURN_LABEL","string!flights/results//FLEX_MATRIX_CELL_SIMILAR_FLIGHTS","string!flights/results//FLEX_MATRIX_CELL_DATE_RANGE"],function(e,l,s,t,a,r,i,n,u,b,p,f,o,_,g,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var L=babelHelpers.interopRequireDefault(l),x=babelHelpers.interopRequireDefault(s),H=babelHelpers.interopRequireDefault(t),h=babelHelpers.interopRequireDefault(a),R=babelHelpers.interopRequireDefault(r),P=babelHelpers.interopRequireDefault(i),c=babelHelpers.interopRequireDefault(n),v=babelHelpers.interopRequireDefault(u),D=babelHelpers.interopRequireDefault(b),C=babelHelpers.interopRequireDefault(p),F=babelHelpers.interopRequireDefault(f),m=babelHelpers.interopRequireDefault(o),M=babelHelpers.interopRequireDefault(_),j=babelHelpers.interopRequireDefault(g),E=babelHelpers.interopRequireDefault(d),q=function(e){function l(){return babelHelpers.classCallCheck(this,l),babelHelpers.possibleConstructorReturn(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return babelHelpers.inherits(l,e),babelHelpers.createClass(l,[{key:"render",value:function(){var e=this.props.cellData.dateRange,l=this.props.flightSetData,s=l.displayFlight,t=l.similarFlights;return babelHelpers.jsx("div",{className:L.default},void 0,s.legs.map(function(e,l){return babelHelpers.jsx("div",{className:x.default+" "+(l>0&&H.default)},void 0,babelHelpers.jsx("div",{className:h.default},void 0,e.airline&&babelHelpers.jsx("img",{src:e.airline.logo,alt:e.airline.name,width:"30"})),babelHelpers.jsx("div",{className:R.default},void 0,babelHelpers.jsx("div",{className:c.default+" "+P.default},void 0,0===l?(0,m.default)():(0,M.default)()),e.airline&&babelHelpers.jsx("div",{className:v.default+" "+P.default},void 0,e.airline.name),babelHelpers.jsx("div",{className:D.default+" "+P.default},void 0,babelHelpers.jsx("span",{className:C.default},void 0,e.origin," – ",e.destination),babelHelpers.jsx("span",{className:C.default},void 0,e.duration),babelHelpers.jsx("span",{},void 0,e.stops))))}),babelHelpers.jsx("div",{className:F.default},void 0,babelHelpers.jsx("span",{},void 0,t>0?(0,j.default)(t.toString()):void 0),babelHelpers.jsx("span",{},void 0,(0,E.default)(e.toString()))))}}]),l}(React.PureComponent);e.default=q});define("default/common/widgets/tip/react/StyleJamTooltip",["exports","prop-types","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Wrapper","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Wrapper--absolute","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Wrapper--base-layer","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Wrapper--modal-layer","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Content","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Pointer","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Pointer--up","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Pointer--right","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Pointer--down","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Pointer--left","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Wrapper:kayak-branded","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Content:kayak-branded","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Pointer--up:kayak-branded","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Pointer--right:kayak-branded","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Pointer--down:kayak-branded","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Pointer--left:kayak-branded","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Wrapper:panel-white","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Content:panel-white","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Pointer--up:panel-white","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Pointer--right:panel-white","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Pointer--down:panel-white","stl!common.widgets.tip.StyleJamTooltip.Tooltip__Pointer--left:panel-white","common/react/Popover","common/widgets/tip/react/constants/TooltipConstants","common/utils/react/presentate"],function(e,t,i,o,l,r,a,n,p,s,u,d,f,m,b,c,h,T,w,g,y,_,R,H,D,P,q){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var S,v,J=babelHelpers.interopRequireDefault(t),k=babelHelpers.interopRequireDefault(i),O=babelHelpers.interopRequireDefault(o),E=babelHelpers.interopRequireDefault(l),V=babelHelpers.interopRequireDefault(r),C=babelHelpers.interopRequireDefault(a),W=babelHelpers.interopRequireDefault(n),N=babelHelpers.interopRequireDefault(p),L=babelHelpers.interopRequireDefault(s),x=babelHelpers.interopRequireDefault(u),A=babelHelpers.interopRequireDefault(d),j=babelHelpers.interopRequireDefault(f),B=babelHelpers.interopRequireDefault(m),F=babelHelpers.interopRequireDefault(b),U=babelHelpers.interopRequireDefault(c),G=babelHelpers.interopRequireDefault(h),I=babelHelpers.interopRequireDefault(T),M=babelHelpers.interopRequireDefault(w),X=babelHelpers.interopRequireDefault(g),Y=babelHelpers.interopRequireDefault(y),z=babelHelpers.interopRequireDefault(_),K=babelHelpers.interopRequireDefault(R),Q=babelHelpers.interopRequireDefault(H),Z=babelHelpers.interopRequireDefault(D),$=babelHelpers.interopRequireDefault(q),ee={default:{wrapper:k.default+" "+O.default,content:C.default,pointerUp:N.default,pointerRight:L.default,pointerDown:x.default,pointerLeft:A.default},"kayak-branded":{wrapper:j.default+" "+O.default,content:B.default,pointerUp:F.default,pointerRight:U.default,pointerDown:G.default,pointerLeft:I.default},"panel-white":{wrapper:M.default+" "+O.default,content:X.default,pointerUp:Y.default,pointerRight:z.default,pointerDown:K.default,pointerLeft:Q.default}},te=(S=(0,$.default)(ee))(v=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"popoverPosition",value:function(e,t){var i=this.props,o=i.hidePointer,l=i.offset,r=this.props.position,a=o?8:3,n=void 0!==l?l:a,p=this.getPositionOffset(r,n,e,t),s=this.getOrientationOffset(r,e,t);return this.shouldFlipPosition(r,p,r.isVertical?e.height:e.width,t)&&(r=r.opposite,p=this.getPositionOffset(r,n,e,t)),{top:r.isVertical?p:s,left:r.isVertical?s:p}}},{key:"getPositionOffset",value:function(e,t,i,o){var l=i.width,r=i.height,a=o.width,n=o.height,p=e.isVertical?n:a,s=e.isVertical?r:l;return e.isAfterTarget?p+t:-s-t}},{key:"getOrientationOffset",value:function(e,t,i){var o=t.width,l=t.height,r=i.width,a=i.height,n=e.isVertical?r:a,p=e.isVertical?o:l;switch(this.props.orientation){case P.orientations.START:return 0;case P.orientations.END:return n-p;case P.orientations.CENTER:default:return n/2-p/2}}},{key:"shouldFlipPosition",value:function(e,t,i,o){if(e.isAfterTarget){return(e.isVertical?o.height+o.y:o.width+o.x)+t+i>(e.isVertical?window.innerHeight:window.innerWidth)}var l=e.isVertical?window.pageYOffset:window.pageXOffset;return(e.isVertical?o.y+t:o.x+t)<l}},{key:"render",value:function(){var e=this,t=this.props,i=t.children,o=t.for,l=t.hidden,r=t.hidePointer,a=t.manageVisibility,n=t.modalLayer,p=t.position,s=t.presentation;return i?babelHelpers.jsx(Z.default,{hidden:l||a,noAutoEvents:!a,showEvent:"mouseover",hideEvent:"mouseout",for:o,className:s.wrapper+" "+(n?V.default:E.default),position:function(){return e.popoverPosition.apply(e,arguments)}},void 0,babelHelpers.jsx("div",{className:""+s.content},void 0,i),!r&&babelHelpers.jsx("div",{className:W.default+" "+s[p.pointerStyles]})):null}}],[{key:"defaultProps",get:function(){return{for:null,hidden:!1,hidePointer:!1,manageVisibility:!1,orientation:P.orientations.CENTER,position:P.positions.BELOW}}},{key:"propTypes",get:function(){return{children:J.default.node.isRequired,for:J.default.node,hidden:J.default.bool,hidePointer:J.default.bool,manageVisibility:J.default.bool,orientation:J.default.oneOf([P.orientations.START,P.orientations.CENTER,P.orientations.END]),position:J.default.oneOf([P.positions.ABOVE,P.positions.RIGHT,P.positions.BELOW,P.positions.LEFT])}}}]),t}(React.PureComponent))||v;e.default=te});define("default/common/widgets/checkbox/react/constants/StyleJamCheckboxConstants",["exports"],function(E){"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.presentationKeys={VANILLA:"VANILLA",ICON_LAYOUT:"ICON_LAYOUT",MUTED:"MUTED",MUTED_UIKIT:"MUTED_UIKIT",BUTTON_STYLE:"BUTTON_STYLE",FLAT_BUTTON_STYLE:"FLAT_BUTTON_STYLE",PHOENIX_RISING_FD:"PHOENIX_RISING_FD",PHOENIX_RISING_RP:"PHOENIX_RISING_RP",FLEX_MATRIX:"FLEX_MATRIX"},E.states={CHECKED:"CHECKED",UNCHECKED:"UNCHECKED",FOCUSED_CHECKED:"FOCUSED_CHECKED",FOCUSED_UNCHECKED:"FOCUSED_UNCHECKED",ALT_HOVER_CHECKED:"ALT_HOVER_CHECKED",ALT_HOVER_UNCHECKED:"ALT_HOVER_UNCHECKED"}});define("default/flights/results/react/FlexMatrixBar",["exports","stl!flights.results.FlexMatrixBar.FlexMatrixBar","stl!flights.results.FlexMatrixBar.FlexMatrixBar--v1","stl!flights.results.FlexMatrixBar.FlexMatrixBar--v2","stl!flights.results.FlexMatrixBar.FlexMatrixBar--MultiRow","stl!flights.results.FlexMatrixBar.FlexMatrixBar--MultiRow__Row"],function(e,l,r,a,t,s){"use strict";function i(e){var l=e.className,r=e.children,a=e.isv2;return babelHelpers.jsx("div",{className:l+" "+f.default+" "+(a?d.default:n.default)},void 0,r)}function u(e){var l=e.className,r=e.children,a=e.isv2;return babelHelpers.jsx("div",{className:l+" "+o.default+" "+(a?d.default:n.default)},void 0,r)}function x(e){var l=e.className,r=e.children;return babelHelpers.jsx("div",{className:l+" "+M.default},void 0,r)}Object.defineProperty(e,"__esModule",{value:!0}),e.FlexMatrixBar=i,e.FlexMatrixBarMultiRow=u,e.FlexMatrixBarRow=x;var f=babelHelpers.interopRequireDefault(l),n=babelHelpers.interopRequireDefault(r),d=babelHelpers.interopRequireDefault(a),o=babelHelpers.interopRequireDefault(t),M=babelHelpers.interopRequireDefault(s)});define("default/common/widgets/checkbox/react/StyleJamCheckbox",["exports","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--base","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox__input--base","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox__label--base","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox__label--default","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox__label--default-size","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--size-s__label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--size-ms__label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--size-l__label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--checked__label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--unchecked__label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--checked--alternate-hover__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--unchecked--alternate-hover__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox__icon--base","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox__icon--default","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox__icon--default-size","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--size-s__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--size-ms__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--size-l__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--checked__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--unchecked__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--iconLayout","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--iconLayout__label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--checked--iconLayout__label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--muted__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--muted--checked__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--muted--unchecked__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--muted--focus--checked__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--muted--focus--unchecked__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--muted-uikit--size-s__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--muted-uikit--size-m__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--muted-uikit--size-l__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--muted-uikit--checked__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--muted-uikit--focus--checked__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--muted-uikit--size-s__label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--muted-uikit--size-m__label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--muted-uikit--size-l__label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--buttonStyle","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--buttonStyle__input","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--buttonStyle__label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--buttonStyle__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--buttonStyle--checked__label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--flatButtonStyle","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--flatButtonStyle__label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--flatButtonStyle__input","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--flatButtonStyle--checked__label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--flatButtonStyle--unchecked__label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--flatButtonStyle__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--flatButtonStyle--checked__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--flatButtonStyle--unchecked__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--rising-fd__label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--rising-fd__label__on","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--rising-fd__label__off","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--rising-fd__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--rising-fd__icon--checked","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--rising-fd__icon--unchecked","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--rising-rp__label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--rising-rp__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--flex-matrix--unchecked__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--flex-matrix--unchecked__icon--base","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox--flex-matrix--unchecked--altermate-hover__icon","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox__label--hidden","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox__icon--with-label","stl!common.widgets.checkbox.StyleJamCheckbox.Checkbox__icon--no-label","common/widgets/checkbox/_svg_/checkmark-uikit","common/widgets/checkbox/react/constants/StyleJamCheckboxConstants","common/react/constants/globals","common/utils/react/presentate","common/react/constants/layout"],function(e,t,l,s,a,o,c,b,i,r,n,u,d,p,h,C,k,f,m,x,H,y,_,S,D,E,g,R,w,q,J,P,K,v,U,L,z,N,M,O,A,I,T,F,B,V,j,G,X,Y,W,Q,Z,$,ee,te,le,se,ae,oe,ce,be,ie,re,ne,ue,de,pe,he){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var Ce,ke,fe,me,xe,He,ye,_e,Se,De,Ee,ge,Re,we,qe,Je,Pe,Ke,ve=babelHelpers.interopRequireDefault(t),Ue=babelHelpers.interopRequireDefault(l),Le=babelHelpers.interopRequireDefault(s),ze=babelHelpers.interopRequireDefault(a),Ne=babelHelpers.interopRequireDefault(o),Me=babelHelpers.interopRequireDefault(c),Oe=babelHelpers.interopRequireDefault(b),Ae=babelHelpers.interopRequireDefault(i),Ie=babelHelpers.interopRequireDefault(r),Te=babelHelpers.interopRequireDefault(n),Fe=babelHelpers.interopRequireDefault(u),Be=babelHelpers.interopRequireDefault(d),Ve=babelHelpers.interopRequireDefault(p),je=babelHelpers.interopRequireDefault(h),Ge=babelHelpers.interopRequireDefault(C),Xe=babelHelpers.interopRequireDefault(k),Ye=babelHelpers.interopRequireDefault(f),We=babelHelpers.interopRequireDefault(m),Qe=babelHelpers.interopRequireDefault(x),Ze=babelHelpers.interopRequireDefault(H),$e=babelHelpers.interopRequireDefault(y),et=babelHelpers.interopRequireDefault(_),tt=babelHelpers.interopRequireDefault(S),lt=babelHelpers.interopRequireDefault(D),st=babelHelpers.interopRequireDefault(E),at=babelHelpers.interopRequireDefault(g),ot=babelHelpers.interopRequireDefault(R),ct=babelHelpers.interopRequireDefault(w),bt=babelHelpers.interopRequireDefault(q),it=babelHelpers.interopRequireDefault(J),rt=babelHelpers.interopRequireDefault(P),nt=babelHelpers.interopRequireDefault(K),ut=babelHelpers.interopRequireDefault(v),dt=babelHelpers.interopRequireDefault(U),pt=babelHelpers.interopRequireDefault(L),ht=babelHelpers.interopRequireDefault(z),Ct=babelHelpers.interopRequireDefault(N),kt=babelHelpers.interopRequireDefault(M),ft=babelHelpers.interopRequireDefault(O),mt=babelHelpers.interopRequireDefault(A),xt=babelHelpers.interopRequireDefault(I),Ht=babelHelpers.interopRequireDefault(T),yt=babelHelpers.interopRequireDefault(F),_t=babelHelpers.interopRequireDefault(B),St=babelHelpers.interopRequireDefault(V),Dt=babelHelpers.interopRequireDefault(j),Et=babelHelpers.interopRequireDefault(G),gt=babelHelpers.interopRequireDefault(X),Rt=babelHelpers.interopRequireDefault(Y),wt=babelHelpers.interopRequireDefault(W),qt=babelHelpers.interopRequireDefault(Q),Jt=babelHelpers.interopRequireDefault(Z),Pt=babelHelpers.interopRequireDefault($),Kt=babelHelpers.interopRequireDefault(ee),vt=babelHelpers.interopRequireDefault(te),Ut=babelHelpers.interopRequireDefault(le),Lt=babelHelpers.interopRequireDefault(se),zt=babelHelpers.interopRequireDefault(ae),Nt=babelHelpers.interopRequireDefault(oe),Mt=babelHelpers.interopRequireDefault(ce),Ot=babelHelpers.interopRequireDefault(be),At=babelHelpers.interopRequireDefault(ie),It=babelHelpers.interopRequireDefault(re),Tt=babelHelpers.interopRequireDefault(ne),Ft=babelHelpers.interopRequireDefault(de),Bt=babelHelpers.interopRequireDefault(pe),Vt={componentClasses:ve.default,inputClasses:Ue.default,labelClasses:Le.default+" "+ze.default,labelStateClasses:(Ce={},babelHelpers.defineProperty(Ce,ue.states.CHECKED,Ie.default),babelHelpers.defineProperty(Ce,ue.states.UNCHECKED,Te.default),Ce),iconClasses:Ve.default+" "+je.default,iconStateClasses:(ke={},babelHelpers.defineProperty(ke,ue.states.CHECKED,Qe.default),babelHelpers.defineProperty(ke,ue.states.UNCHECKED,Ze.default),babelHelpers.defineProperty(ke,ue.states.ALT_HOVER_CHECKED,Fe.default),babelHelpers.defineProperty(ke,ue.states.ALT_HOVER_UNCHECKED,Be.default),ke)},jt=(we={},babelHelpers.defineProperty(we,ue.presentationKeys.VANILLA,Vt),babelHelpers.defineProperty(we,ue.presentationKeys.ICON_LAYOUT,babelHelpers.extends({},Vt,{componentClasses:ve.default+" "+$e.default,labelClasses:Le.default+" "+et.default,labelStateClasses:(fe={},babelHelpers.defineProperty(fe,ue.states.CHECKED,tt.default),babelHelpers.defineProperty(fe,ue.states.UNCHECKED,Te.default),fe)})),babelHelpers.defineProperty(we,ue.presentationKeys.MUTED,babelHelpers.extends({},Vt,{iconClasses:lt.default,iconStateClasses:(me={},babelHelpers.defineProperty(me,ue.states.CHECKED,st.default),babelHelpers.defineProperty(me,ue.states.UNCHECKED,at.default),babelHelpers.defineProperty(me,ue.states.FOCUSED_CHECKED,ot.default),babelHelpers.defineProperty(me,ue.states.FOCUSED_UNCHECKED,ct.default),me),labelStateClasses:{}})),babelHelpers.defineProperty(we,ue.presentationKeys.MUTED_UIKIT,babelHelpers.extends({},Vt,{iconClasses:lt.default,iconStateClasses:(xe={},babelHelpers.defineProperty(xe,ue.states.CHECKED,nt.default),babelHelpers.defineProperty(xe,ue.states.UNCHECKED,at.default),babelHelpers.defineProperty(xe,ue.states.FOCUSED_CHECKED,ut.default),babelHelpers.defineProperty(xe,ue.states.FOCUSED_UNCHECKED,ct.default),xe),iconSizeOverrides:(He={},babelHelpers.defineProperty(He,he.sizes.SMALL,bt.default),babelHelpers.defineProperty(He,he.sizes.MEDIUM,it.default),babelHelpers.defineProperty(He,he.sizes.LARGE,rt.default),He),iconSvg:Tt.default,labelStateClasses:{},labelSizeOverrides:(ye={},babelHelpers.defineProperty(ye,he.sizes.SMALL,dt.default),babelHelpers.defineProperty(ye,he.sizes.MEDIUM,pt.default),babelHelpers.defineProperty(ye,he.sizes.LARGE,ht.default),ye)})),babelHelpers.defineProperty(we,ue.presentationKeys.BUTTON_STYLE,babelHelpers.extends({},Vt,{componentClasses:ve.default+" "+Ct.default,inputClasses:kt.default,labelClasses:ft.default,labelStateClasses:(_e={},babelHelpers.defineProperty(_e,ue.states.CHECKED,xt.default),babelHelpers.defineProperty(_e,ue.states.UNCHECKED,Te.default),_e),iconClasses:mt.default})),babelHelpers.defineProperty(we,ue.presentationKeys.FLAT_BUTTON_STYLE,babelHelpers.extends({},Vt,{componentClasses:ve.default+" "+Ht.default,inputClasses:_t.default,labelClasses:yt.default,labelStateClasses:(Se={},babelHelpers.defineProperty(Se,ue.states.CHECKED,St.default),babelHelpers.defineProperty(Se,ue.states.UNCHECKED,Dt.default),Se),iconClasses:Et.default,iconStateClasses:(De={},babelHelpers.defineProperty(De,ue.states.CHECKED,gt.default),babelHelpers.defineProperty(De,ue.states.UNCHECKED,Rt.default),De)})),babelHelpers.defineProperty(we,ue.presentationKeys.PHOENIX_RISING_FD,babelHelpers.extends({},Vt,{labelClasses:wt.default+" "+ze.default,labelStateClasses:(Ee={},babelHelpers.defineProperty(Ee,ue.states.CHECKED,qt.default),babelHelpers.defineProperty(Ee,ue.states.UNCHECKED,Jt.default),Ee),iconClasses:Pt.default,iconStateClasses:(ge={},babelHelpers.defineProperty(ge,ue.states.CHECKED,Kt.default),babelHelpers.defineProperty(ge,ue.states.UNCHECKED,vt.default),ge)})),babelHelpers.defineProperty(we,ue.presentationKeys.PHOENIX_RISING_RP,babelHelpers.extends({},Vt,{labelClasses:Ut.default+" "+ze.default,iconClasses:Lt.default})),babelHelpers.defineProperty(we,ue.presentationKeys.FLEX_MATRIX,babelHelpers.extends({},Vt,{iconStateClasses:(Re={},babelHelpers.defineProperty(Re,ue.states.CHECKED,Qe.default),babelHelpers.defineProperty(Re,ue.states.UNCHECKED,zt.default+" "+Nt.default),babelHelpers.defineProperty(Re,ue.states.ALT_HOVER_CHECKED,Qe.default),babelHelpers.defineProperty(Re,ue.states.ALT_HOVER_UNCHECKED,Mt.default+" "+Nt.default),Re)})),we),Gt={labelClasses:(qe={},babelHelpers.defineProperty(qe,he.sizes.SMALL,Me.default),babelHelpers.defineProperty(qe,he.sizes.MEDIUM_SMALL,Oe.default),babelHelpers.defineProperty(qe,he.sizes.MEDIUM,Ne.default),babelHelpers.defineProperty(qe,he.sizes.LARGE,Ae.default),qe),iconClasses:(Je={},babelHelpers.defineProperty(Je,he.sizes.SMALL,Xe.default),babelHelpers.defineProperty(Je,he.sizes.MEDIUM_SMALL,Ye.default),babelHelpers.defineProperty(Je,he.sizes.MEDIUM,Ge.default),babelHelpers.defineProperty(Je,he.sizes.LARGE,We.default),Je)},Xt=(Pe=(0,Bt.default)(jt))(Ke=function(e){function t(e){babelHelpers.classCallCheck(this,t);var l=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.state={checked:e.checked,focused:e.focused},l}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,null,[{key:"defaultProps",get:function(){return{size:he.sizes.MEDIUM,presentation:ue.presentationKeys.VANILLA,manageStateManually:!1}}}]),babelHelpers.createClass(t,[{key:"componentWillReceiveProps",value:function(e){e.manageStateManually&&e.checked!==this.state.checked&&e.checked!==this.props.checked&&this.setState({checked:e.checked,"aria-checked":e.checked})}},{key:"id",value:function(e){return this.props.id+(e?"_"+e:"")}},{key:"toggle",value:function(){this.props.disabled||this.setState({checked:!this.state.checked,"aria-checked":!this.state.checked})}},{key:"handleClick",value:function(e){this.props.click&&this.props.click(e),this.props.manageStateManually||this.toggle()}},{key:"handleChange",value:function(e){this.props.change&&this.props.change(e)}},{key:"handleFocus",value:function(e){this.props.focus&&this.props.focus(e),this.props.manageStateManually||this.setState({focused:!0})}},{key:"handleBlur",value:function(e){this.props.blur&&this.props.blur(e),this.props.manageStateManually||this.setState({focused:!1})}},{key:"handleKeyDown",value:function(e){this.props.keyDown&&this.props.keyDown(e),!this.props.manageStateManually&&Ft.default.keyCodeSets.SELECT.includes(e.nativeEvent.which)&&this.toggle()}},{key:"getStlStateClasses",value:function(e){var t=this.props,l=t.checked,s=t.focused,a=t.alternateHovered;return l?s&&e[ue.states.FOCUSED_CHECKED]?e[ue.states.FOCUSED_CHECKED]:a&&e[ue.states.ALT_HOVER_CHECKED]||e[ue.states.CHECKED]:s&&e[ue.states.FOCUSED_UNCHECKED]?e[ue.states.FOCUSED_UNCHECKED]:a&&e[ue.states.ALT_HOVER_UNCHECKED]||e[ue.states.UNCHECKED]}},{key:"render",value:function(){var e=this,t=babelHelpers.extends({},this.props,this.state),l=t.label,s=t.value,a=t.name,o=t.checked,c=t.disabled,b=t.presentation,i=t.size,r=t.extraClassName,n=t.showLabel,u=void 0===n||n,d=t.ariaLabel,p=t.ariaControls,h=t.ariaLive,C=t.tabIndex,k=b.componentClasses,f=b.inputClasses,m=b.iconClasses,x=b.labelClasses,H=this.getStlStateClasses(b.iconStateClasses),y=this.getStlStateClasses(b.labelStateClasses),_=b.iconSizeOverrides?b.iconSizeOverrides[i]:Gt.iconClasses[i],S=b.labelSizeOverrides?b.labelSizeOverrides[i]:Gt.labelClasses[i];return babelHelpers.jsx("div",{className:"StyleJamCheckbox "+k+" "+r},void 0,babelHelpers.jsx("input",{id:this.id(),className:f,name:a,value:s,checked:o?"checked":void 0,type:"checkbox","aria-checked":o,disabled:c?"disabled":void 0,"aria-disabled":c,"aria-label":d||this.id("label"),"aria-controls":p,"aria-live":h,"aria-atomic":h?"true":void 0,tabIndex:C,onClick:function(t){return e.handleClick(t)},onChange:function(t){return e.handleChange(t)},onBlur:function(t){return e.handleBlur(t)},onFocus:function(t){return e.handleFocus(t)},onKeyDown:function(t){return e.handleKeyDown(t)}},this.id("inputKey")),babelHelpers.jsx("div",{id:""+this.id("icon"),className:m+" "+H+" "+_+"\n                        "+(u?At.default:It.default)},void 0,b.iconSvg&&o?b.iconSvg():void 0),babelHelpers.jsx("label",{id:""+this.id("label"),htmlFor:""+this.id(),className:x+" "+y+" "+S+" "+(u?"":Ot.default),"data-name":a,"aria-label":l},void 0,l))}}]),t}(React.Component))||Ke;e.default=Xt});define("default/flights/results/_svg_/calendar-star",["exports","common/react/ReactSvgInline"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){return React.createElement(t.default,Object.assign({key:"default/flights/results/_svg_/calendar-star"},e||{},{svg:'<svg width="19.5" height="19.5" viewBox="0 0 19.5 19.5" xmlns="http://www.w3.org/2000/svg"> <path fill="currentColor" d="M15.8333333,2.5 L15.8333333,0 L13.3333333,0 L13.3333333,2.5 L6.66666667,2.5 L6.66666667,0 L4.16666667,0 L4.16666667,2.5 L0.833333333,2.5 L0.833333333,5.83333333 L19.1666667,5.83333333 L19.1666667,2.5 L15.8333333,2.5 Z M0.833333333,7.5 L0.833333333,17.5 C0.833333333,18.4204746 1.57952542,19.1666667 2.5,19.1666667 L17.5,19.1666667 C18.4204746,19.1666667 19.1666667,18.4204746 19.1666667,17.5 L19.1666667,7.5 L0.833333333,7.5 Z M8.43099983,12.067833 C8.7001665,12.067833 8.94183316,11.9061663 9.04433316,11.657833 L10.0743332,9.16699966 L11.1043332,11.657833 C11.2076665,11.9061663 11.4501665,12.067833 11.7184998,12.067833 L14.1668332,12.067833 L12.2118332,13.985333 C12.0509998,14.1436663 11.9809998,14.3719997 12.0259998,14.592833 L12.6259998,17.500333 L10.4451665,16.032833 C10.2209998,15.8819997 9.9276665,15.8819997 9.70349983,16.032833 L7.5226665,17.500333 L8.12433316,14.607833 C8.17183316,14.3786663 8.09599983,14.1419997 7.92349983,13.9836663 L5.83349983,12.067833 L8.43099983,12.067833 Z"></path> </svg>'}))}});define("default/flights/results/react/FlexMatrixRecommendationController",["exports","string!flights/results//FLEX_MATRIX_PREDICTION_RECOMMENDATION_ALL_SIMILAR","string!flights/results//FLEX_MATRIX_PREDICTION_RECOMMENDATION_ALREADY_CHEAPEST","string!flights/results//FLEX_MATRIX_PREDICTION_RECOMMENDATION_SAVINGS_DEPART_BEFORE","string!flights/results//FLEX_MATRIX_PREDICTION_RECOMMENDATION_SAVINGS_DEPART_AFTER","string!flights/results//FLEX_MATRIX_PREDICTION_RECOMMENDATION_SAVINGS_RETURN_BEFORE","string!flights/results//FLEX_MATRIX_PREDICTION_RECOMMENDATION_SAVINGS_RETURN_AFTER","string!flights/results//FLEX_MATRIX_PREDICTION_RECOMMENDATION_SAVINGS_DEPART_RETURN","string!flights/results//FLEX_MATRIX_PREDICTION_RECOMMENDATION_SAVINGS_LIMITED","string!flights/results//FLEX_MATRIX_PREDICTION_RECOMMENDATION_PLUS_MINUS_THREE_RT","string!flights/results//FLEX_MATRIX_PREDICTION_RECOMMENDATION_PLUS_MINUS_THREE_OW","property!horizon.flights.results.insightsContainer.enabled","property!flights.results.neoFlex.prediction.recommendation.minSavings.absolute.usd","property!flights.results.neoFlex.prediction.recommendation.minSavings.daysAway.0","property!flights.results.neoFlex.prediction.recommendation.minSavings.daysAway.1","property!flights.results.neoFlex.prediction.recommendation.minSavings.daysAway.2","property!flights.results.neoFlex.prediction.recommendation.minSavings.daysAway.3","property!flights.results.neoFlex.prediction.recommendation.minSavings.minor.daysAway.2","property!flights.results.neoFlex.prediction.recommendation.minSavings.minor.daysAway.3","flights/results/react/constants/FlexMatrixConstants","common/results/react/constants/SearchPollConstants","flights/results/react/utils/FlexMatrixClientPredictionUtils","common/utils/react/events","common/utils/react/logger"],function(e,t,r,i,s,n,l,a,o,p,d,_,E,u,R,A,f,c,m,b,g,I,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var y=babelHelpers.interopRequireDefault(t),M=babelHelpers.interopRequireDefault(r),S=babelHelpers.interopRequireDefault(i),D=babelHelpers.interopRequireDefault(s),h=babelHelpers.interopRequireDefault(n),C=babelHelpers.interopRequireDefault(l),P=babelHelpers.interopRequireDefault(a),H=babelHelpers.interopRequireDefault(o),O=babelHelpers.interopRequireDefault(p),F=babelHelpers.interopRequireDefault(d),x=babelHelpers.interopRequireDefault(N),L=babelHelpers.interopRequireDefault(T),X=function(e){function t(){var e,r,i,s,n,l;babelHelpers.classCallCheck(this,t);for(var a=arguments.length,o=Array(a),p=0;p<a;p++)o[p]=arguments[p];return s=n=babelHelpers.possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.configMap=(r={},babelHelpers.defineProperty(r,b.recommendationConfigKeys.MIN_SAVINGS_ABSOLUTE_USD,E.getNumber),babelHelpers.defineProperty(r,b.recommendationConfigKeys.MIN_SAVINGS_QUERY_DATES,u.getNumber),babelHelpers.defineProperty(r,b.recommendationConfigKeys.MIN_SAVINGS_ONE_DAY_AWAY,R.getNumber),babelHelpers.defineProperty(r,b.recommendationConfigKeys.MIN_SAVINGS_TWO_DAYS_AWAY,A.getNumber),babelHelpers.defineProperty(r,b.recommendationConfigKeys.MIN_SAVINGS_THREE_DAYS_AWAY,f.getNumber),babelHelpers.defineProperty(r,b.recommendationConfigKeys.MIN_SAVINGS_MINOR_TWO_DAYS_AWAY,c.getNumber),babelHelpers.defineProperty(r,b.recommendationConfigKeys.MIN_SAVINGS_MINOR_THREE_DAYS_AWAY,m.getNumber),r),n.stringMap=(i={},babelHelpers.defineProperty(i,b.recommendationStringKeys.TAB_ALL_SIMILAR_DATES,y.default),babelHelpers.defineProperty(i,b.recommendationStringKeys.TAB_ALREADY_CHEAPEST_DATES,M.default),babelHelpers.defineProperty(i,b.recommendationStringKeys.TAB_CHEAPER_DEPART_BEFORE,S.default),babelHelpers.defineProperty(i,b.recommendationStringKeys.TAB_CHEAPER_DEPART_AFTER,D.default),babelHelpers.defineProperty(i,b.recommendationStringKeys.TAB_CHEAPER_RETURN_BEFORE,h.default),babelHelpers.defineProperty(i,b.recommendationStringKeys.TAB_CHEAPER_RETURN_AFTER,C.default),babelHelpers.defineProperty(i,b.recommendationStringKeys.TAB_CHEAPER_DEPART_RETURN,P.default),babelHelpers.defineProperty(i,b.recommendationStringKeys.TAB_CHEAPER_LIMITED_SAVINGS,H.default),babelHelpers.defineProperty(i,b.recommendationStringKeys.TAB_FLEX_SEARCH_RECOMMENDED_RT,O.default),babelHelpers.defineProperty(i,b.recommendationStringKeys.TAB_FLEX_SEARCH_RECOMMENDED_OW,F.default),i),l=s,babelHelpers.possibleConstructorReturn(n,l)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"shouldComponentUpdate",value:function(e){return e.displayMode!==this.props.displayMode&&e.searchStatus!==this.props.searchStatus}},{key:"publishRecommendation",value:function(e,t){var r=null;b.displayModes.FLEX_DATE_PREDICTIONS===e?r=(0,I.findPredictedExactDateRecommendation)(t,this.configMap,this.stringMap):b.displayModes.PLUS_MINUS_THREE===e&&(r=(0,I.findPredictedFlexDateRecommendation)(t,this.configMap,this.stringMap)),x.default.publish("flights.results.react.flexMatrix.predictedDates.recommendation",r)}},{key:"publishInsightsTabEnabled",value:function(e){var t=null;e===b.displayModes.NONE?t=!1:this.props.displayMode===b.displayModes.NONE&&(t=!0),null!==t&&x.default.publish("flights.insights.setTabEnabled",{name:"flex",enabled:t})}},{key:"componentWillReceiveProps",value:function(e){e.searchStatus===g.searchPollStatus.SEARCH_FINISHED&&this.publishRecommendation(e.displayMode,e.matrixEntries),e.displayMode!==this.props.displayMode&&(0,_.getBoolean)(!1)&&this.publishInsightsTabEnabled(e.displayMode)}},{key:"componentDidCatch",value:function(e,t){new L.default("FlexMatrixRecommendationController").error("Error finding recommended flex date message",e,t)}},{key:"render",value:function(){return null}}]),t}(React.Component),v=ReactRedux.connect(function(e){var t=e.SearchPoll,r=e.FlexMatrix;return{displayMode:r.ui.displayMode,matrixEntries:r.data.matrixEntries,searchStatus:t.status}})(X);e.default=v});define("default/flights/results/react/FlexMatrixCellTooltips",["exports","prop-types","stl!flights.results.FlexMatrixCellTooltips.Cell--Predicted__Tooltip","stl!flights.results.FlexMatrixCellTooltips.Cell--Predicted__Tooltip__Icon","stl!flights.results.FlexMatrixCellTooltips.Cell--Predicted__Tooltip__Icon__Inner","stl!flights.results.FlexMatrixCellTooltips.Text--NoWrap","string!flights/results//FLEX_MATRIX_PREDICTION_TOOLTIP_CONTENT_ONE_WAY","string!flights/results//FLEX_MATRIX_PREDICTION_TOOLTIP_CONTENT_ROUND_TRIP","string!flights/results//FLEX_MATRIX_DATE_RANGE","flights/results/react/FlexMatrixCellLegsPanel","common/icon/react/SvgIcon","common/widgets/tip/react/StyleJamTooltip","flights/results/react/constants/FlexMatrixConstants","flights/results/react/constants/InsightsBannerConstants","common/results/react/constants/SearchPollConstants","common/widgets/tip/react/constants/TooltipConstants","common/utils/react/logger","flights/results/react/utils/FlexMatrixClientBuilder"],function(e,t,l,r,a,i,s,o,n,u,p,d,c,f,h,g,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var C=babelHelpers.interopRequireDefault(t),x=babelHelpers.interopRequireDefault(l),R=babelHelpers.interopRequireDefault(r),m=babelHelpers.interopRequireDefault(a),y=babelHelpers.interopRequireDefault(i),T=babelHelpers.interopRequireDefault(s),_=babelHelpers.interopRequireDefault(o),S=babelHelpers.interopRequireDefault(n),D=babelHelpers.interopRequireDefault(u),E=babelHelpers.interopRequireDefault(p),H=babelHelpers.interopRequireDefault(d),F=babelHelpers.interopRequireDefault(b),O=babelHelpers.interopRequireWildcard(v),M={},P={},q=new Set,I=function(e){function t(e){babelHelpers.classCallCheck(this,t);var l=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.state={},l.logger=new F.default("FlexMatrixCellTooltips"),c.displayModes.FLEX_FOR_ALL_BANNER===e.displayMode&&l.logger.warnInternal("FlexMatrixCellTooltips Component not supported for displayModes that allow nonstop airport toggle."),l}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"getTooltipContent",value:function(e,l){if(!e||e.disabled)return null;if(e.prediction)return t.getFlexMatrixCellLegsPanel(e,l);var r=this.props,a=r.flightSetKey;return r.searchCompleted&&e[a]&&e[a].displayFlight&&e[a].displayFlight.legs.length?t.getLegsPanel(e,l):null}},{key:"componentWillReceiveProps",value:function(e){var l=this.props.searchStatus,r=[h.searchPollStatus.SEARCH_STARTED,h.searchPollStatus.NO_SEARCH];r.includes(e.searchStatus)&&!r.includes(l)&&t.clearCached()}},{key:"preComputeTooltipContent",value:function(){var e=this;Object.keys(this.props.matrixEntries).forEach(function(t){e.getTooltipContent(e.props.matrixEntries[t],t)})}},{key:"componentDidUpdate",value:function(e){var t=this.props,l=t.predictionAjaxStatus,r=t.searchStatus;(h.searchPollStatus.SEARCH_FINISHED===r&&e.searchStatus!==r||f.ajaxRequestStatus.RESPONSE_RECEIVED===l&&l!==e.predictionAjaxStatus)&&this.preComputeTooltipContent()}},{key:"render",value:function(){var e=this,t=this.props,l=t.hoveredDepartCell,r=t.hoveredReturnCell,a=t.matrixEntries,i=void 0,s=O.makeMatrixEntryKey(l,r);s&&((i=a[s])||this.logger.error("Matrix entry key mismatch between matrixEntries and hoveredDepartCell/hoveredReturnCell key.\nhovered cell id: "+s));var o=this.getTooltipContent(i,s);return o?babelHelpers.jsx(H.default,{hidden:!!this.state.hidden||void 0,hidePointer:!0,offset:0,presentation:"panel-white",position:g.positions.BELOW},void 0,babelHelpers.jsx("div",{onMouseOver:function(){return e.setState({hidden:!0})},onFocus:function(){}},void 0,o)):null}}],[{key:"getNoWrapHtmlString",value:function(e){return'<span class="'+y.default+'">'+e+"</span>"}},{key:"getPredictionTooltipHtml",value:function(e,l,r){if(P[r])return P[r];var a=void 0;if(l){var i=S.default.value(O.filterDateToDayOfWeek(e),O.filterDateToDayOfWeek(l));a=_.default.value(t.getNoWrapHtmlString(i))}else a=T.default.value(t.getNoWrapHtmlString(O.filterDateToDayOfWeek(e)));return P[r]=a,a}},{key:"getLegsPanel",value:function(e,t){var l=babelHelpers.jsx(D.default,{cellData:e,flightSetData:e.allFlights});return M[t]&&(M[t]=void 0),e.allFlights.displayFlight&&e.allFlights.displayFlight.legs.forEach(function(e){q.has(e.airline.name)||((new window.Image).src=e.airline.logo,q.add(e.airline.name))}),l}},{key:"getFlexMatrixCellLegsPanel",value:function(e,l){if(M[l])return M[l];var r=babelHelpers.jsx("div",{className:x.default},void 0,babelHelpers.jsx(E.default,{name:"magnifying-glass",className:m.default,parentClassName:R.default,width:20,height:20}),babelHelpers.jsx("div",{dangerouslySetInnerHTML:{__html:t.getPredictionTooltipHtml(e.departFilterValue,e.returnFilterValue,l)}}));return M[l]=r,r}},{key:"clearCached",value:function(){M={},P={}}}]),t}(React.Component);I.propTypes={displayMode:C.default.oneOf(Object.values(c.displayModes)).isRequired,hoveredDepartCell:C.default.string,hoveredReturnCell:C.default.string,flightSetKey:C.default.string.isRequired,matrixEntries:C.default.objectOf(C.default.any).isRequired,predictionAjaxStatus:C.default.oneOf(Object.values(f.ajaxRequestStatus)).isRequired,searchCompleted:C.default.bool.isRequired,searchStatus:C.default.oneOf(Object.values(h.searchPollStatus)).isRequired},I.defaultProps={hoveredDepartCell:"",hoveredReturnCell:""},e.default=ReactRedux.connect(function(e){var t=e.FlexMatrix,l=e.SearchPoll;return{displayMode:t.ui.displayMode,hoveredDepartCell:t.ui.hoveredDepartCell,hoveredReturnCell:t.ui.hoveredReturnCell,flightSetKey:t.ui.nonstopOnly?"nonstopFlights":"allFlights",matrixEntries:t.data.matrixEntries,predictionAjaxStatus:t.clientDerivedData.ajaxStatus,searchCompleted:l.completed,searchStatus:l.status}})(I)});define("default/flights/results/_svg_/arrow-down",["exports","common/react/ReactSvgInline"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){return React.createElement(t.default,Object.assign({key:"default/flights/results/_svg_/arrow-down"},e||{},{svg:'<svg width="8" height="5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 5"><path d="M1.422.574l-.844.852 3.45 3.42L7.42 1.48 6.578.627l-2.55 2.528" fill="#717585"/></svg> '}))}});define("default/flights/results/react/FlexMatrixGrid",["exports","property!horizon.flights.results.priceforecast.fetchMonthAverage","property!horizon.flights.results.flexMatrix.showTooltip","stl!flights.results.FlexMatrixGrid.Grid","stl!flights.results.FlexMatrixGrid.Grid__Row","flights/results/react/FlexMatrixCell","flights/results/react/FlexMatrixGridRow","flights/results/react/actions/SearchPredictionsAjaxActions","flights/results/react/constants/InsightsBannerConstants","flights/results/react/FlexMatrixCellTooltips","flights/results/react/actions/FlexMatrixActions","flights/results/react/utils/FlexMatrixClientBuilder"],function(e,t,r,a,l,i,s,n,o,u,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FlexMatrixGrid=void 0;var p=babelHelpers.interopRequireDefault(a),v=babelHelpers.interopRequireDefault(l),h=babelHelpers.interopRequireDefault(i),f=babelHelpers.interopRequireDefault(s),S=babelHelpers.interopRequireWildcard(n),x=babelHelpers.interopRequireDefault(u),b=babelHelpers.interopRequireWildcard(d),R=babelHelpers.interopRequireWildcard(c),C={departUpdatedUiStates:[],returnUpdatedUiStates:[],updateGrid:!1},m=e.FlexMatrixGrid=function(e){function a(e){babelHelpers.classCallCheck(this,a);var t=babelHelpers.possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.element=null,t.isHoveredInterval=null,t.isHoveredIntervalTimeMs=100,t.isHoveredMouseMoveListener=null,t.tooltipsComponent=null,t.state=babelHelpers.extends({},C),t}return babelHelpers.inherits(a,e),babelHelpers.createClass(a,[{key:"makeUiStateKey",value:function(e){return Object.keys(e).sort().reduce(function(t,r){return t+"_"+e[r]},"")}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,r=t.ajaxStatus,a=t.SearchPoll,l=t.uiState;return!0===e.SearchPoll.resultsChanged||a.status!==e.SearchPoll.status||r===o.ajaxRequestStatus.RESPONSE_RECEIVED&&e.ajaxStatus!==r||this.makeUiStateKey(l)!==this.makeUiStateKey(e.uiState)}},{key:"startPrediction",value:function(){(0,t.getBoolean)(!1)?this.props.dispatchListenerPrediction():this.props.dispatchPredictionRequest()}},{key:"componentDidMount",value:function(){this.props.ajaxStatus===o.ajaxRequestStatus.START_REQUEST&&this.startPrediction(),(0,r.getBoolean)(!0)&&(this.tooltipsComponent=babelHelpers.jsx(x.default,{}))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,r=t.ajaxStatus,a=t.uiState,l=babelHelpers.extends({},C);a.hoveredDepartCell!==e.uiState.hoveredDepartCell&&(l.departUpdatedUiStates=[a.hoveredDepartCell,e.uiState.hoveredDepartCell]),a.hoveredReturnCell!==e.uiState.hoveredReturnCell&&(l.returnUpdatedUiStates=[a.hoveredReturnCell,e.uiState.hoveredReturnCell]);var i=a.defaultDatesSelected!==e.uiState.defaultDatesSelected,s=a.nonstopOnly!==e.uiState.nonstopOnly,n=e.ajaxStatus===o.ajaxRequestStatus.RESPONSE_RECEIVED||r!==o.ajaxRequestStatus.RESPONSE_RECEIVED;l.updateGrid=i||s||n,r!==o.ajaxRequestStatus.START_REQUEST&&e.ajaxStatus===o.ajaxRequestStatus.START_REQUEST&&this.startPrediction(),this.setState(l)}},{key:"componentWillUnmount",value:function(){this.isHoveredInterval&&window.clearInterval(this.isHoveredInterval),this.isHoveredMouseMoveListener=null}},{key:"handleMouseOver",value:function(){var e=this;this.isHoveredInterval&&window.clearInterval(this.isHoveredInterval),this.isHoveredMouseMoveListener=function(t){if(e.element){var r=e.element.getBoundingClientRect(),a=r.top,l=r.right,i=r.bottom,s=r.left;window.requestAnimationFrame(function(){(t.clientX<s||t.clientX>l||t.clientY<a||t.clientY>i)&&(window.clearInterval(e.isHoveredInterval),e.props.updateHoverState(!1))}),e.isHoveredMouseMoveListener=null}},this.isHoveredInterval=window.setInterval(function(){e.element&&(e.props.hoveredDepartCell||window.clearInterval(e.isHoveredInterval),document.addEventListener("mousemove",e.isHoveredMouseMoveListener,{once:!0}))},this.isHoveredIntervalTimeMs)}},{key:"handleMouseLeave",value:function(){window.clearInterval(this.isHoveredInterval),this.isHoveredMouseMoveListener=null,this.props.updateHoverState(!1)}},{key:"renderCell",value:function(e,t,r,a,l){var i=this.props,s=i.matrixEntries,n=i.onCellClick;return babelHelpers.jsx(h.default,{cellId:e,cellData:s[e],selectedCells:r,column:a,hasUiUpdate:l,onCellClick:n,tooltip:t===e?this.tooltipsComponent:null})}},{key:"render",value:function(){var e=this,t=this.props,r=t.columnLabels,a=t.rowLabels,l=t.matrixEntries,i=t.hoveredDepartCell,s=t.hoveredReturnCell;if(!l||!Object.keys(l).length)return null;var n=this.state.updateGrid,o=Object.keys(l).sort(),u=Object.values(l).filter(function(e){return e.selected}),d=R.makeMatrixEntryKey(i,s);return React.createElement("div",{className:p.default,ref:function(t){e.element=t},role:"rowgroup",onMouseOver:function(){return e.handleMouseOver()},onMouseLeave:function(){return e.handleMouseLeave()},onFocus:function(){}},a.map(function(t,a){var i=o.slice(a*r.length,(a+1)*r.length),s=n||e.state.returnUpdatedUiStates.includes(t.filterValue);return babelHelpers.jsx(f.default,{className:v.default,role:"row"},void 0,i.map(function(t,r){var a=s||e.state.departUpdatedUiStates.includes(l[t].departFilterValue);return e.renderCell(t,d,u,r,a||s)}))}))}}]),a}(React.Component);e.default=ReactRedux.connect(function(e){var t=e.SearchPoll,r=e.FlexMatrix;return{SearchPoll:t,ajaxStatus:r.clientDerivedData.ajaxStatus,rowLabels:r.data.returnLabels,columnLabels:r.data.departLabels,matrixEntries:r.data.matrixEntries,hoveredDepartCell:r.ui.hoveredDepartCell,hoveredReturnCell:r.ui.hoveredReturnCell,uiState:r.ui}},function(e){return{dispatchListenerPrediction:function(){return e(S.listenFlexDatePredictions())},dispatchPredictionRequest:function(){return e(S.fetchFlexDatePredictions())},updateHoverState:function(){return e(b.updateCellHoverState(null,null))}}})(m)});define("default/flights/results/react/FlexMatrixCell",["exports","prop-types","stl!flights.results.FlexMatrixCell.Cell","stl!flights.results.FlexMatrixCell.Cell--has-results","stl!flights.results.FlexMatrixCell.Cell__Border","stl!flights.results.FlexMatrixCell.Cell__Border--active","stl!flights.results.FlexMatrixCell.Cell__Border--inactive","stl!flights.results.FlexMatrixCell.Cell__Border--active--v2","stl!flights.results.FlexMatrixCell.Cell__Border--inactive--v2","stl!flights.results.FlexMatrixCell.Cell__Border--best--v2","stl!flights.results.FlexMatrixCell.Cell__Border--hovered","stl!flights.results.FlexMatrixCell.Cell__Border--selected","stl!flights.results.FlexMatrixCell.Cell__Bg","stl!flights.results.FlexMatrixCell.Cell__Bg__category","stl!flights.results.FlexMatrixCell.Cell__Bg__category--default","stl!flights.results.FlexMatrixCell.Cell__Bg__category--good","stl!flights.results.FlexMatrixCell.Cell__Bg__category--best","stl!flights.results.FlexMatrixCell.Cell__Bg__category--best--v2","stl!flights.results.FlexMatrixCell.Cell__Bg__category--active","stl!flights.results.FlexMatrixCell.Cell__Bg__category--inactive","stl!flights.results.FlexMatrixCell.Cell__Bg__interaction--adjacent-hovered","stl!flights.results.FlexMatrixCell.Cell__Bg__interaction--adjacent-selected","stl!flights.results.FlexMatrixCell.Cell__Inner","stl!flights.results.FlexMatrixCell.Cell__Inner--default","stl!flights.results.FlexMatrixCell.Cell__Inner--default--bold","stl!flights.results.FlexMatrixCell.Cell__Inner--good","stl!flights.results.FlexMatrixCell.Cell__Inner--good--bold","stl!flights.results.FlexMatrixCell.Cell__Inner--best","stl!flights.results.FlexMatrixCell.Cell__Inner--best--bold","stl!flights.results.FlexMatrixCell.Cell__Inner--best--v2","stl!flights.results.FlexMatrixCell.Cell__Inner--best--bold--v2","stl!flights.results.FlexMatrixCell.Cell__Inner--bad","stl!flights.results.FlexMatrixCell.Cell__Inner--bad--bold","stl!flights.results.FlexMatrixCell.Cell__Inner--prediction","stl!flights.results.FlexMatrixCell.Cell__Inner--active","stl!flights.results.FlexMatrixCell.Cell__Inner--inactive","stl!flights.results.FlexMatrixCell.Cell__Inner__Loading-shimmer","stl!flights.results.FlexMatrixCell.Cell__Inner--medium","stl!flights.results.FlexMatrixCell.Cell__Inner--small","string!flights/results//FLEX_MATRIX_CELL_ARIA_LABEL","string!flights/results//FLEX_MATRIX_CELL_ARIA_LABEL_ONE_WAY","string!flights/results//FLEX_MATRIX_CELL_EMPTY_LABEL","property!horizon.flights.results.flexMatrix.presentation","property!horizon.flights.results.flexMatrix.useSelectedHighlighting","common/results/filters/react/FilterStateController","flights/results/react/FlexMatrixGridBlock","flights/results/react/actions/FlexMatrixActions","common/analytics/react/Analytics","common/utils/react/presentate","flights/results/react/constants/FlexMatrixConstants","common/results/filters/react/constants/FilterConstants","flights/results/react/constants/InsightsBannerConstants"],function(e,l,t,r,a,i,s,n,o,u,d,p,f,c,b,C,h,g,x,_,v,F,y,D,R,H,m,L,S,M,q,I,B,E,P,T,k,A,O,U,V,j,N,G,w,X,W,Y,z,K,J,Q){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FlexMatrixCell=e.presentations=e.PureFlexMatrixCell=void 0;var Z,$,ee,le=babelHelpers.interopRequireDefault(l),te=babelHelpers.interopRequireDefault(t),re=babelHelpers.interopRequireDefault(r),ae=babelHelpers.interopRequireDefault(a),ie=babelHelpers.interopRequireDefault(i),se=babelHelpers.interopRequireDefault(s),ne=babelHelpers.interopRequireDefault(n),oe=babelHelpers.interopRequireDefault(o),ue=babelHelpers.interopRequireDefault(u),de=babelHelpers.interopRequireDefault(d),pe=babelHelpers.interopRequireDefault(p),fe=babelHelpers.interopRequireDefault(f),ce=babelHelpers.interopRequireDefault(c),be=babelHelpers.interopRequireDefault(b),Ce=babelHelpers.interopRequireDefault(C),he=babelHelpers.interopRequireDefault(h),ge=babelHelpers.interopRequireDefault(g),xe=babelHelpers.interopRequireDefault(x),_e=babelHelpers.interopRequireDefault(_),ve=babelHelpers.interopRequireDefault(v),Fe=babelHelpers.interopRequireDefault(F),ye=babelHelpers.interopRequireDefault(y),De=babelHelpers.interopRequireDefault(D),Re=babelHelpers.interopRequireDefault(R),He=babelHelpers.interopRequireDefault(H),me=babelHelpers.interopRequireDefault(m),Le=babelHelpers.interopRequireDefault(L),Se=babelHelpers.interopRequireDefault(S),Me=babelHelpers.interopRequireDefault(M),qe=babelHelpers.interopRequireDefault(q),Ie=babelHelpers.interopRequireDefault(I),Be=babelHelpers.interopRequireDefault(B),Ee=babelHelpers.interopRequireDefault(E),Pe=babelHelpers.interopRequireDefault(P),Te=babelHelpers.interopRequireDefault(T),ke=babelHelpers.interopRequireDefault(k),Ae=babelHelpers.interopRequireDefault(A),Oe=babelHelpers.interopRequireDefault(O),Ue=babelHelpers.interopRequireDefault(U),Ve=babelHelpers.interopRequireDefault(V),je=babelHelpers.interopRequireDefault(j),Ne=babelHelpers.interopRequireDefault(G),Ge=babelHelpers.interopRequireWildcard(w),we=babelHelpers.interopRequireWildcard(W),Xe=babelHelpers.interopRequireDefault(Y),We=babelHelpers.interopRequireDefault(z),Ye={ariaLabel:"",loadedTimerSet:!1},ze=e.PureFlexMatrixCell=function(e){function l(e){babelHelpers.classCallCheck(this,l);var t=babelHelpers.possibleConstructorReturn(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return t.analytics=null,t.cancelClickFocusEvents=!1,t.loadingAnimationDelay=0,t.pendingLoadTransition=void 0,t.forceComponentUpdate=!1,t.state=Ye,t.analytics=new Xe.default,t.loadingAnimationDelay=1250*Math.random(),t}return babelHelpers.inherits(l,e),babelHelpers.createClass(l,[{key:"shouldComponentUpdate",value:function(e){var l=this.forceComponentUpdate;return this.forceComponentUpdate=!1,l||e.resultsChanged||e.hasUiUpdate||!!this.props.tooltip!=!!e.tooltip||this.props.selected!==e.selected}},{key:"componentWillReceiveProps",value:function(e){if(!e.cellData.disabled){var l={};this.state.ariaLabel&&(e.isLoading||this.props.cellId!==e.cellId||this.props.cellData!==e.cellData)&&(l.ariaLabel=Ye.ariaLabel),this.props.isLoading&&!e.isLoading?l.loadedTimerSet=!0:e.isLoading&&(this.clearPendingLoadTransition(),l.loadedTimerSet=!1),Object.keys(l).length&&this.setState(l)}}},{key:"componentDidUpdate",value:function(){var e=this;this.state.loadedTimerSet&&!this.pendingLoadTransition&&(this.pendingLoadTransition=setTimeout(function(){e.pendingLoadTransition=void 0,e.state.loadedTimerSet=!1,e.forceComponentUpdate=!0,e.forceUpdate()},this.loadingAnimationDelay))}},{key:"componentWillUnmount",value:function(){this.clearPendingLoadTransition()}},{key:"clearPendingLoadTransition",value:function(){this.pendingLoadTransition&&(window.clearTimeout(this.pendingLoadTransition),this.pendingLoadTransition=void 0)}},{key:"updateHoverState",value:function(e){var l=this.props,t=l.cellData,r=l.hoveredDepartCell,a=l.hoveredReturnCell,i=l.isLoading,s=l.updateHoverState;this.state.loadedTimerSet&&!i&&e&&(this.clearPendingLoadTransition(),this.setState({loadedTimerSet:!1}));var n=e?t.departFilterValue:"",o=e?t.returnFilterValue:"";n===r&&o===a||s(n,o)}},{key:"updateFocusState",value:function(e){if(this.cancelClickFocusEvents)return void(this.cancelClickFocusEvents=!1);e&&!this.state.ariaLabel&&this.setState(babelHelpers.extends({},this.state,{ariaLabel:this.generateAriaLabel()})),this.updateHoverState(e)}},{key:"onCellClick",value:function(){var e=this.props,l=e.cellData,t=e.standardCellCount;this.cancelClickFocusEvents=!0,l.prediction?this.trackSelect("flex-matrix/prediction-cell"):(window.isNaN(t)||t>1)&&this.updateFilterState()}},{key:"trackSelect",value:function(e){var l=this.props,t=l.cellData,r=l.flightSetData,a=void 0;r&&(a={price:r.displayPrice,price_category:r.priceCategory,similar_flight_count:r.similarFlights}),this.analytics.trackEvent({category:e,action:"select",value:t.departFilterValue+"_"+t.returnFilterValue,params:a})}},{key:"updateFilterState",value:function(){var e=this.props,l=e.cellData,t=e.departLabels,r=e.nonstopOnly,a=e.returnLabels,i=e.roundTrip,s=e.setUndoStopsFilterState,n={flexdepart:this.createFlexDateFilterThunk(l.departFilterValue,t)};i&&(n.flexreturn=this.createFlexDateFilterThunk(l.returnFilterValue,a)),r&&(n.stops=function(e){return{0:2,1:0,2:0}},s(Ge.getCurrentValueSetFilterState("stops"))),Ge.pushValueSetFilterUpdates(n),this.trackSelect("flex-matrix/cell")}},{key:"createFlexDateFilterThunk",value:function(e,l){var t=this;return function(r){return babelHelpers.extends({},t.newFilterStateFromPoll(l,J.itemSelectedStatus.NOT_SELECTED),babelHelpers.defineProperty({},e,J.itemSelectedStatus.ONLY))}}},{key:"newFilterStateFromPoll",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J.itemSelectedStatus.SELECTED,t={};return e.forEach(function(e){t[e.filterValue]=l}),t}},{key:"generateAriaLabel",value:function(){var e=this.props,l=e.cellData,t=e.departLabels,r=e.flightSetData,a=e.returnLabels,i=e.roundTrip,s=t.find(function(e){return e.filterValue===l.departFilterValue});if(!s)return"";if(!i)return Ve.default.value(r.similarFlights,r.displayPrice,r.similarFlights,s.display);var n=a.find(function(e){return e.filterValue===l.returnFilterValue});return Ue.default.value(r.similarFlights,r.displayPrice,r.similarFlights,s.display,n.display)}},{key:"getInnerPriceStyles",value:function(){var e,l=this.props,t=l.cellData,r=l.displayMode,a=l.predictionCellCount,i=l.presentation;if(t.prediction){var s;return s={},babelHelpers.defineProperty(s,K.priceCategories.BAD_PRICE,Ee.default),babelHelpers.defineProperty(s,K.priceCategories.DEFAULT,Ee.default),babelHelpers.defineProperty(s,K.priceCategories.GOOD_PRICE,He.default),babelHelpers.defineProperty(s,K.priceCategories.BEST_PRICE,He.default),s}if(a){var n;return n={},babelHelpers.defineProperty(n,K.priceCategories.BAD_PRICE,K.displayModes.FLEX_FOR_ALL===r?Re.default:Be.default),babelHelpers.defineProperty(n,K.priceCategories.DEFAULT,Re.default),babelHelpers.defineProperty(n,K.priceCategories.GOOD_PRICE,me.default),babelHelpers.defineProperty(n,K.priceCategories.BEST_PRICE,i.textBestBold),n}return e={},babelHelpers.defineProperty(e,K.priceCategories.BAD_PRICE,K.displayModes.FLEX_FOR_ALL===r?De.default:Ie.default),babelHelpers.defineProperty(e,K.priceCategories.DEFAULT,De.default),babelHelpers.defineProperty(e,K.priceCategories.GOOD_PRICE,He.default),babelHelpers.defineProperty(e,K.priceCategories.BEST_PRICE,i.textBest),e}},{key:"renderWrapperElement",value:function(e,l){var t=this,r=this.props,a=r.cellData,i=r.cellId,s=r.isLoading,n=r.presentation,o=te.default+" "+(l||e?"":re.default),u=!l&&a.prediction&&a.searchUrl,d={onMouseDown:function(){return e||l?void 0:t.onCellClick()},onMouseOver:function(){return e||s?void 0:t.updateHoverState(!0)},onFocus:function(){return e||s?void 0:t.updateFocusState(!0)},onBlur:function(){return e||s?void 0:t.updateFocusState(!1)},ariaLabel:this.ariaLabel,tabIndex:0},p=function(e){var l=e.children;return React.createElement(X.FlexMatrixGridBlock,babelHelpers.extends({id:"FlexMatrixCell__"+i,className:o,role:"gridcell",tabIndex:u?-1:0,isv2:n.gridBlocksV2?1:0},u?{}:d),l)};return u?function(e){var l=e.children;return babelHelpers.jsx(p,{},void 0,React.createElement(X.FlexMatrixGridBlockLink,babelHelpers.extends({href:a.searchUrl,target:"_blank",className:o,isv2:n.gridBlocksV2?1:0},d),l))}:function(e){var l=e.children;return babelHelpers.jsx(p,{},void 0,l)}}},{key:"render",value:function(){var e=this.props,l=e.cellData,t=e.defaultDatesSelected,r=e.departLabels,a=e.displayMode,i=e.hoveredDepartCell,s=e.hoveredReturnCell,n=e.selectedCells,o=e.flexFilterApplied,u=e.isLoading,d=e.flightSetData,p=e.presentation,f=e.returnLabels,c=e.roundTrip,b=e.selected,C=e.smallDisplayCurrency,h=e.tooltip,g=u||this.state.loadedTimerSet,x=!g&&d.priceCategory===K.priceCategories.BEST_PRICE,_=!g&&d.priceCategory===K.priceCategories.GOOD_PRICE,v=parseInt(i,10)-parseInt(l.departFilterValue,10),F=parseInt(s,10)-parseInt(l.returnFilterValue,10),y=!(l.disabled||u||0!==v||c&&0!==F),D=r.length>1&&f.length>1&&(0===v&&F>0||0===F&&v<0),R=""!==i||""!==s,H=!1;if(Ne.default.getBoolean(!1)&&n)for(var m=0;m<n.length;m+=1){var L=n[m],S=parseInt(L.departFilterValue,10)-parseInt(l.departFilterValue,10),M=parseInt(L.returnFilterValue,10)-parseInt(l.returnFilterValue,10);if(H=r.length>1&&f.length>1&&(0===S&&M>0||0===M&&S<0))break}var q=!l||!d||!d.displayPrice,I=(a===K.displayModes.PLUS_MINUS_THREE||!t)&&!b||q,B=void 0;B=x?p.bgBest:_?p.bgGood:be.default;var E=I&&!y?_e.default:xe.default,P="";D?P=ve.default:b||!H||R||(P=Fe.default);var T=this.getInnerPriceStyles()[d.priceCategory],k=!y&&I?Te.default:Pe.default,A=C?Oe.default:Ae.default,O=d.displayPrice?d.displayPrice:je.default.value(),U=void 0;U=y?de.default:!u&&Ne.default.getBoolean(!1)&&o&&b&&!R?pe.default:x&&p.borderBest?p.borderBest:I?p.borderInactive:p.borderActive;var V=this.renderWrapperElement(q,g);return babelHelpers.jsx(V,{},void 0,babelHelpers.jsx("div",{className:fe.default+" "+ce.default+" "+B+" "+E}),babelHelpers.jsx("div",{className:fe.default+" "+P}),babelHelpers.jsx("div",{className:ae.default+" "+U}),babelHelpers.jsx("div",{className:ye.default+" "+T+" "+k+" "+A},void 0,g?babelHelpers.jsx("div",{className:ke.default,style:{animationDelay:this.props.column/r.length+"s"}}):O),h)}}]),l}(React.Component);ze.propTypes={cellData:le.default.objectOf(le.default.any).isRequired,cellId:le.default.string.isRequired,column:le.default.number.isRequired,defaultDatesSelected:le.default.bool.isRequired,departLabels:le.default.arrayOf(le.default.any).isRequired,displayMode:le.default.oneOf(Object.values(K.displayModes)).isRequired,flightSetData:le.default.objectOf(le.default.any),flexFilterApplied:le.default.bool,hasUiUpdate:le.default.bool.isRequired,hoveredDepartCell:le.default.string,hoveredReturnCell:le.default.string,selectedCells:le.default.arrayOf(le.default.any),isLoading:le.default.bool.isRequired,presentation:le.default.objectOf(le.default.any).isRequired,resultsChanged:le.default.bool.isRequired,returnLabels:le.default.arrayOf(le.default.any).isRequired,roundTrip:le.default.bool.isRequired,selected:le.default.bool.isRequired,smallDisplayCurrency:le.default.bool,tooltip:le.default.objectOf(le.default.any)},ze.defaultProps={flightSetData:{},hoveredDepartCell:"",hoveredReturnCell:"",smallDisplayCurrency:!1,flexFilterApplied:!1,selectedCells:[],tooltip:null};var Ke=e.presentations=(Z={},babelHelpers.defineProperty(Z,K.presentationKeys.DEFAULT,{bgBest:he.default,bgGood:Ce.default,borderActive:ie.default,borderInactive:se.default,borderBest:"",textBest:Le.default,textBestBold:Se.default,gridBlocksV2:void 0}),babelHelpers.defineProperty(Z,K.presentationKeys.V2,{bgBest:ge.default,borderActive:ne.default,borderInactive:oe.default,borderBest:ue.default,textBest:Me.default,textBestBold:qe.default,gridBlocksV2:!0}),Z),Je=e.FlexMatrixCell=($=(0,We.default)(Ke,(0,N.getString)()))(ee=function(e){function l(){return babelHelpers.classCallCheck(this,l),babelHelpers.possibleConstructorReturn(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return babelHelpers.inherits(l,e),l}(ze))||ee;e.default=ReactRedux.connect(function(e,l){var t=e.FlexMatrix,r=e.SearchPoll,a=e.FilterState,i=l.cellId,s=l.selectedCells,n=l.cellData,o=l.column,u=l.hasUiUpdate,d=l.tooltip,p=t.clientDerivedData.ajaxStatus,f=t.config.smallDisplayCurrency,c=t.data,b=c.departLabels,C=c.returnLabels,h=c.roundTrip,g=t.ui,x=g.defaultDatesSelected,_=g.displayMode,v=g.hoveredDepartCell,F=g.hoveredReturnCell,y=g.nonstopOnly,D=g.predictionCellCount,R=g.standardCellCount,H=r.completed,m=r.resultsChanged;return{smallDisplayCurrency:f,departLabels:b,returnLabels:C,roundTrip:h,defaultDatesSelected:x,displayMode:_,hoveredDepartCell:v,hoveredReturnCell:F,selectedCells:s,flexFilterApplied:a.ui.flexFilterApplied,nonstopOnly:y,predictionCellCount:D,resultsChanged:m,standardCellCount:R,cellData:n,cellId:i,column:o,hasUiUpdate:u,tooltip:d,flightSetData:y?n.nonstopFlights:n.allFlights,isLoading:!(n.allFlights.displayPrice||n.disabled||H||n.prediction&&p===Q.ajaxRequestStatus.RESPONSE_RECEIVED),selected:n.selected}},function(e){return{setUndoStopsFilterState:function(l){return e(we.setUndoStopsFilterState(l))},updateHoverState:function(l,t){return e(we.updateCellHoverState(l,t))}}})(Je)});define("default/flights/results/_svg_/stops-nonstop",["exports","common/react/ReactSvgInline"],function(t,e){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(t){return React.createElement(e.default,Object.assign({key:"default/flights/results/_svg_/stops-nonstop"},t||{},{svg:'<svg width="23px" height="13px" viewBox="0 0 23 13" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-width="2" fill="none"> <polyline points="15.3606061 8 18.4512764 11 21.5424242 8"></polyline> <path d="M18.4242424,10.8092335 L18.4242424,8.96374154 C18.4242424,4.98803566 15.0663939,1.76470588 10.924339,1.76470588 C6.78209093,1.76470588 3.42424242,4.98803566 3.42424242,8.96374154 L3.42424242,9.96325472"></path> <path d="M0,10 L7,10"></path> </svg>'}))}});define("default/flights/results/react/FlexMatrixReturnLabel",["exports","flights/results/react/FlexMatrixAxisLabel","flights/results/react/actions/FlexMatrixActions"],function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=babelHelpers.interopRequireDefault(t),a=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return React.createElement(l.default,babelHelpers.extends({},this.props,{checkboxId:"FlexAxisLabelCheckbox_return_"+this.props.axisLabel.filterValue,role:"columnheader"}))}}]),t}(React.Component);e.default=ReactRedux.connect(function(e,t){var r=e.FlexMatrix,l=t.axisLabel;return{axisLabel:l,filterName:t.filterName,uiStateKey:t.uiStateKey,allLabels:r.data.returnLabels,enabledLabelCount:r.ui.enabledReturnLabelCount,isHovered:l.filterValue===r.ui.hoveredReturnCell}},function(e){return{updateHoverState:function(t){return e((0,r.updateAxisHoverState)(null,t))}}})(a)});define("default/common/react/Popover",["exports","context","react-dom","stl!common.Popover.Popover"],function(e,t,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=babelHelpers.interopRequireDefault(t),r=babelHelpers.interopRequireDefault(i),s=babelHelpers.interopRequireDefault(o),l=n.default.isServer(),a=function(e){function t(e){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));i._node=null,i._targetNode=null,i._containerNode=null,i._wrapperNode=null,i._shouldFireOnShow=!1,i._onShowEventObject=null;var o=i.props,n=o.noAutoEvents,r=void 0!==n&&n,s=o.showEvent,l=void 0===s?r?null:"mouseover":s,a=o.showEvents,h=void 0===a?l:a,d=o.hideEvent,u=void 0===d?r?null:"mouseout":d,p=o.hideEvents,v=void 0===p?u:p,c=o.position,f=void 0===c?function(){return{top:0,left:0}}:c;return i.state={visible:i.isVisibleByProps()},i.showEvents=h,i.hideEvents=v,i.position=f.bind(i),i.toggle=i.toggle.bind(i),i.show=i.show.bind(i),i.hide=i.hide.bind(i),i.throttledSetPosition=i.throttledSetPosition.bind(i),i}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.bind()}},{key:"componentDidUpdate",value:function(){this.bind()}},{key:"componentWillUpdate",value:function(){this.unbind()}},{key:"componentWillUnmount",value:function(){this.unbind()}},{key:"componentWillReceiveProps",value:function(e){var t=this.isVisibleByProps(e);this.isVisibleByProps()!==t&&this.setState(babelHelpers.extends({},this.state,{visible:t}))}},{key:"bind",value:function(){var e=this,t=this.targetNode;t&&!this.isVisibleByProps()&&(this.showEvents&&this.showEvents.split(" ").map(function(i){return t.addEventListener(i,e.show)}),this.hideEvents&&this.hideEvents.split(" ").map(function(i){return t.addEventListener(i,e.hide)})),this.setPosition(),window.addEventListener("scroll",this.throttledSetPosition),window.addEventListener("resize",this.throttledSetPosition),null!==this.containerNode&&(this.containerNode.addEventListener("scroll",this.throttledSetPosition),this.containerNode.addEventListener("resize",this.throttledSetPosition))}},{key:"unbind",value:function(){var e=this,t=this.targetNode;t&&!this.isVisibleByProps()&&(this.showEvents&&this.showEvents.split(" ").map(function(i){return t.removeEventListener(i,e.show)}),this.hideEvents&&this.hideEvents.split(" ").map(function(i){return t.removeEventListener(i,e.hide)})),window.removeEventListener("scroll",this.throttledSetPosition),window.removeEventListener("resize",this.throttledSetPosition),null!==this.containerNode&&(this.containerNode.removeEventListener("scroll",this.throttledSetPosition),this.containerNode.removeEventListener("resize",this.throttledSetPosition))}},{key:"setPosition",value:function(){var e=this;if(!this._node||!this.targetNode)return void setTimeout(function(){return e.setPosition()},100);if(this._node&&this._targetNode&&this._targetNode.getBoundingClientRect){var t=this._targetNode.getBoundingClientRect();if(null!==this._containerNode){var i=this._containerNode.getBoundingClientRect(),o=i.top,n=i.height,r=t.top,s=t.height;if(r+s<o)return void this.hide();if(o+n<r+s)return void this.hide()}var l=this._node.getBoundingClientRect(),a=document.documentElement.getBoundingClientRect(),h=a.width,d=l.width,u=l.height,p=t.top,v=t.left,c=t.width,f=this.position(l,t),g=f.top,b=f.left,m=void 0===b?null:b,_=f.right,N=void 0===_?null:_,w=f.override,y=f.position,E=void 0===y?this.props.fixedPosition?"fixed":"":y,P=w||{},S=P.top,k=void 0===S?null:S,x=P.left,B=void 0===x?null:x,C=P.right,H=void 0===C?null:C,O=P.width,L=void 0===O?null:O,R=P.height,j=void 0===R?null:R,M=[],T=!E||"absolute"===(""+E).toLowerCase();E&&!T&&M.push("position: "+E+"!important");var F=T?window:{},V=F.pageXOffset,q=void 0===V?0:V,D=F.pageYOffset,W=void 0===D?0:D,z=null!==L?L:d;z&&("number"==typeof z&&(z=Math.ceil(z)+"px"),M.push("width: "+z+"!important"));var I=null!==j?j:u;I&&("number"==typeof I&&(I=Math.ceil(I)+"px"),M.push("height: "+I+"!important")),null!==k?M.push("top: "+Math.round(W+k)+"px!important"):M.push("top: "+Math.round(W+p+g)+"px!important"),null!=B?M.push("left: "+Math.round(q+B)+"px!important"):null!=m?M.push("left: "+Math.round(q+v+m)+"px!important"):null!=H?M.push("right: "+Math.round(h-(q+H))+"px!important"):null!=N&&M.push("right: "+Math.round(h-(q+v+c+N))+"px!important"),this._node.style.cssText=M.join(";"),this._shouldFireOnShow&&(this.fireShowEvents(this._onShowEventObject),this._shouldFireOnShow=!1)}}},{key:"throttledSetPosition",value:function(){this.state.visible&&window.requestAnimationFrame(this.setPosition.bind(this))}},{key:"toggle",value:function(e,t){var i=e,o=t;null!=e&&"object"===(void 0===e?"undefined":babelHelpers.typeof(e))&&(o=i,i=null),i=null!=i?!!i:!this.state.visible,this.state.visible!==i&&(i?this.show(o):this.hide(o))}},{key:"show",value:function(e){var t=this;if(!e)return void this.setState(function(i){return i.visible||(t._shouldFireOnShow=!0,t._onShowEventObject=e),babelHelpers.extends({},i,{visible:!0})});var i=e.relatedTarget,o=this.targetNode;o&&o!==i&&!o.contains(i)&&this.setState(function(i){return i.visible||(t._shouldFireOnShow=!0,t._onShowEventObject=e),babelHelpers.extends({},i,{visible:!0})})}},{key:"hide",value:function(e){var t=this;if(!e)return void this.setState(function(e){return babelHelpers.extends({},e,{visible:!1})});var i=e.relatedTarget,o=this.targetNode;o&&o!==i&&!o.contains(i)&&this.setState(function(i){return i.visible&&t.fireHideEvents(e),babelHelpers.extends({},i,{visible:!1})})}},{key:"fireShowEvents",value:function(e){var t=this.props,i=t.onShow,o=t.onToggle;"function"==typeof i&&i.call(this,e,this),"function"==typeof o&&o.call(this,!0,e,this)}},{key:"fireHideEvents",value:function(e){var t=this.props,i=t.onHide,o=t.onToggle;"function"==typeof i&&i.call(this,e,this),"function"==typeof o&&o.call(this,!1,e,this)}},{key:"targetOf",value:function(e){var t=e.currentTarget,i=e.relatedTarget,o=i||document.activeElement;return o&&(t&&t.contains(o)||this._node&&this._node.contains(o))}},{key:"isVisibleByProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.hidden,i=e.visible;return!(void 0===t?!i:t)}},{key:"render",value:function(){var e=this;if(!this.state.visible||l)return null;var t=this.props,i=t.className,o=void 0===i?"":i,n=t.children,a=[s.default,o].filter(Boolean).join(" ");return r.default.createPortal(React.createElement("div",{className:a,ref:function(t){e._node=t}},n),this.wrapperNode)}},{key:"isVisible",get:function(){return this.state.visible}},{key:"targetNode",get:function(){if(!this._targetNode){var e=this.props.for;if(e){if("string"!=typeof e)return this._targetNode=e,this._targetNode;if(this._targetNode=document.getElementById(e),this._targetNode)return this._targetNode;var t=document.getElementsByClassName(e)||document.querySelector(e);if(t&&t.length)return this._targetNode=t.item(0),this._targetNode}for(var i=this;i._reactInternalFiber;)i=i._reactInternalFiber.return.stateNode;i&&!i.getBoundingClientRect&&(i=document.documentElement),this._targetNode=i,this._targetNode.popoverNode=this._node}return this._targetNode}},{key:"containerNode",get:function(){var e=this.props.container;if(!e)return null;if(!this._containerNode&&e){if("string"!=typeof e)return this._containerNode=e,this._containerNode;if(this._containerNode=document.getElementById(e),this._containerNode)return this._containerNode;var t=document.getElementsByClassName(e)||document.querySelector(e);if(t&&t.length)return this._containerNode=t.item(0),this._containerNode}return this._containerNode}},{key:"wrapperNode",get:function(){if(!this._wrapperNode){var e=document.getElementsByClassName("js-popoverWrapper");e&&e.length&&(this._wrapperNode=e.item(0)),this._wrapperNode||(this._wrapperNode=document.createElement("div"),this._wrapperNode.classList.add("js-popoverWrapper"),document.body.appendChild(this._wrapperNode))}return this._wrapperNode}}],[{key:"attachTo",value:function(e,t){return function(i){e.node=i,e.ref=i,e.popover=i&&i.popover||i,"function"==typeof t&&t.call(e,i)}}},{key:"toggle",value:function(e,t){if(t.stopPropagation(),e.popover){for(var i,o=arguments.length,n=Array(o>2?o-2:0),r=2;r<o;r++)n[r-2]=arguments[r];(i=e.popover).toggle.apply(i,[t].concat(n))}}},{key:"show",value:function(e,t){t.stopPropagation(),e.popover&&e.popover.show(t)}},{key:"hide",value:function(e,t){t.stopPropagation(),e.popover&&e.popover.hide(t)}},{key:"blur",value:function(e,t){t.stopPropagation(),e.popover&&!e.popover.targetOf(t)&&e.popover.hide(t)}}]),t}(React.PureComponent);e.default=a});define("default/common/widgets/checkbox/_svg_/checkmark-uikit",["exports","common/react/ReactSvgInline"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){return React.createElement(t.default,Object.assign({key:"default/common/widgets/checkbox/_svg_/checkmark-uikit"},e||{},{svg:'<svg width="16px" height="16px" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="#1E93F5"> <path transform="translate(1.000000, 2.000000)" d="M10.5,0 L3.81,7.66281248 L1.3125,5.43115832 L0,7.05490669 L2.88,9.63050754 C3.47395721,10.1690151 4.3603377,10.1125777 4.89,9.50252738 L12,1.44777564 L10.5,0 Z"></path> </svg>'}))}});define("default/flights/results/_svg_/arrow-forward",["exports","common/react/ReactSvgInline"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){return React.createElement(t.default,Object.assign({key:"default/flights/results/_svg_/arrow-forward"},e||{},{svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><path fill="none" stroke="currentColor" stroke-width="10" stroke-linecap="round" stroke-linejoin="round" d="M165 100H35m100 35l30-35-30-35"/></svg>'}))}});define("default/flights/results/react/FlexMatrixStandardHeader",["exports","prop-types","stl!flights.results.FlexMatrixStandardHeader.Heading","stl!flights.results.FlexMatrixStandardHeader.Chevron","stl!flights.results.FlexMatrixStandardHeader.Chevron--opened","stl!flights.results.FlexMatrixStandardHeader.Container","stl!flights.results.FlexMatrixStandardHeader.Container--opened","stl!flights.results.FlexMatrixStandardHeader.Container--closed","stl!flights.results.FlexMatrixStandardHeader.SubHeading","stl!flights.results.FlexMatrixStandardHeader.SubHeading--opened","stl!flights.results.FlexMatrixStandardHeader.SubHeading--closed","property!horizon.flights.results.flexMatrix.presentation","string!flights/results//FLEX_MATRIX_NEO_HEADING","string!flights/results//FLEX_MATRIX_NEO_HEADING_ACCORDION_CLOSED","common/icon/react/SvgIcon","flights/results/react/FlexMatrixBar","flights/results/react/constants/FlexMatrixConstants"],function(e,t,r,l,a,s,i,n,u,d,o,p,f,b,H,x,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=babelHelpers.interopRequireDefault(t),g=babelHelpers.interopRequireDefault(r),R=babelHelpers.interopRequireDefault(l),D=babelHelpers.interopRequireDefault(a),M=babelHelpers.interopRequireDefault(s),S=babelHelpers.interopRequireDefault(i),F=babelHelpers.interopRequireDefault(n),q=babelHelpers.interopRequireDefault(u),C=babelHelpers.interopRequireDefault(d),_=babelHelpers.interopRequireDefault(o),v=babelHelpers.interopRequireDefault(f),O=babelHelpers.interopRequireDefault(b),N=babelHelpers.interopRequireDefault(H),m=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.accordionOpen;return babelHelpers.jsx(x.FlexMatrixBar,{className:M.default+" "+(e?S.default:F.default),isv2:p.getString===c.presentationKeys.V2?1:0},void 0,babelHelpers.jsx("span",{className:g.default},void 0,(0,v.default)()),babelHelpers.jsx("span",{className:q.default+" "+(e?C.default:_.default)},void 0,(0,O.default)()),babelHelpers.jsx(N.default,{name:"chevron",className:R.default+" "+(e&&D.default),width:"19",height:"12"}))}}]),t}(React.Component);e.default=m,m.propTypes={accordionOpen:h.default.bool.isRequired}});define("default/flights/results/react/FlexMatrixDepartLabel",["exports","flights/results/react/FlexMatrixAxisLabel","flights/results/react/actions/FlexMatrixActions"],function(e,t,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=babelHelpers.interopRequireDefault(t),r=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return React.createElement(a.default,babelHelpers.extends({},this.props,{checkboxId:"FlexAxisLabelCheckbox_depart_"+this.props.axisLabel.filterValue,role:"columnheader"}))}}]),t}(React.Component);e.default=ReactRedux.connect(function(e,t){var l=e.FlexMatrix,a=t.axisLabel;return{axisLabel:a,filterName:t.filterName,fullWidth:t.fullWidth,uiStateKey:t.uiStateKey,allLabels:l.data.departLabels,isHovered:a.filterValue===l.ui.hoveredDepartCell,enabledLabelCount:l.ui.enabledDepartLabelCount}},function(e){return{updateHoverState:function(t){return e((0,l.updateAxisHoverState)(t,null))}}})(r)});define("default/common/utils/react/presentate",["exports","common/utils/react/logger"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=babelHelpers.interopRequireDefault(t),r=new n.default("common/react/utils/presentate");e.default=function(e,t){return function(n){return function(a){function o(){return babelHelpers.classCallCheck(this,o),babelHelpers.possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return babelHelpers.inherits(o,a),babelHelpers.createClass(o,[{key:"remapPresentation",value:function(){var n=void 0===t?this.props.presentation:t;return n&&e[n]?e[n]:this.getDefaultPresentation(n)}},{key:"getDefaultPresentation",value:function(t){if(n.defaultProps&&n.defaultProps.presentation){var a=n.defaultProps.presentation;if("string"==typeof a&&e[a])return e[a];if("object"===(void 0===a?"undefined":babelHelpers.typeof(a))&&Object.values(e).includes(a))return a}else{if(e.default||e.DEFAULT)return e.default||e.DEFAULT;"undefined"!==t&&"null"!==t?r.error("No presentation found for "+t+" in "+n.name+"'s presentation map ",e):r.error("No default presentation defined for "+n.name+'. Use:\n                    "static get defaultProps() {\n                        return {\n                            presentation: presentationMap.<<default presentation>>,\n                        };\n                    }"\n                    syntax in the component\'s class to define a default presentation.')}return{}}},{key:"render",value:function(){var e=babelHelpers.extends({},this.props,{presentation:this.remapPresentation()});return React.createElement(n,e)}}]),o}(React.Component)}}});define("default/flights/results/react/FlexMatrixGridBlock",["exports","stl!flights.results.FlexMatrixGridBlock.GridBlock","stl!flights.results.FlexMatrixGridBlock.GridBlock--ListItem","stl!flights.results.FlexMatrixGridBlock.GridBlock--Link","stl!flights.results.FlexMatrixGridBlock.GridBlock--AlignLeft","stl!flights.results.FlexMatrixGridBlock.GridBlock--AlignCenter","stl!flights.results.FlexMatrixGridBlock.GridBlock--v1","stl!flights.results.FlexMatrixGridBlock.GridBlock--v2"],function(e,l,t,r,i,a,s,u){"use strict";function d(e){return Object.keys(e).filter(function(e){return e.startsWith("on")}).reduce(function(l,t){return babelHelpers.extends({},l,babelHelpers.defineProperty({},t,e[t]))},{})}function n(e){var l=e.ariaLabel,t=e.children,r=e.className,i=e.id,a=e.isLeftAlign,s=e.isv2,u=e.role,n=e.tabIndex,f=r+"         "+(a?x.default:p.default)+"         "+(s?B.default:k.default);return React.createElement("li",babelHelpers.extends({id:i,className:o.default+" "+c.default+" "+f,"aria-label":l,role:u,tabIndex:n},d(e)),t)}function f(e){var l=e.ariaLabel,t=e.children,r=e.className,i=e.href,a=e.id,s=e.isLeftAlign,u=e.isv2,n=e.role,f=e.target,c=r+"         "+(s?x.default:p.default)+"         "+(u?B.default:k.default);return React.createElement("a",babelHelpers.extends({id:a||void 0,href:i,target:f||void 0,className:o.default+" "+b.default+" "+c,"aria-label":l,role:n,tabIndex:0},d(e)),t)}Object.defineProperty(e,"__esModule",{value:!0}),e.FlexMatrixGridBlock=n,e.FlexMatrixGridBlockLink=f;var o=babelHelpers.interopRequireDefault(l),c=babelHelpers.interopRequireDefault(t),b=babelHelpers.interopRequireDefault(r),x=babelHelpers.interopRequireDefault(i),p=babelHelpers.interopRequireDefault(a),k=babelHelpers.interopRequireDefault(s),B=babelHelpers.interopRequireDefault(u)});define("default/flights/results/react/FlexMatrixHeader",["exports","prop-types","stl!flights.results.FlexMatrixHeader.FlexMatrixHeader","stl!flights.results.FlexMatrixHeader.FlexMatrixHeader--opened","stl!flights.results.FlexMatrixHeader.FlexMatrixHeader--openable","flights/results/react/FlexMatrixStandardHeader","flights/results/react/FlexForAllInsightsBanner","flights/results/react/actions/FlexMatrixActions","common/react/constants/globals","flights/results/react/constants/InsightsBannerConstants","flights/results/react/constants/FlexMatrixConstants","flights/results/react/constants/FlexForAllInsightsContants","flights/results/react/utils/InsightsBannerUtils","common/analytics/react/Analytics"],function(e,t,a,s,i,r,l,n,o,d,u,c,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FlexMatrixHeader=void 0;var f=babelHelpers.interopRequireDefault(t),b=babelHelpers.interopRequireDefault(a),g=babelHelpers.interopRequireDefault(s),y=babelHelpers.interopRequireDefault(i),x=babelHelpers.interopRequireDefault(r),F=babelHelpers.interopRequireDefault(l),R=babelHelpers.interopRequireWildcard(n),H=babelHelpers.interopRequireDefault(o),M=babelHelpers.interopRequireDefault(h),v=e.FlexMatrixHeader=function(e){function t(){babelHelpers.classCallCheck(this,t);var e=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.analytics=new M.default,e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"updateAccordionState",value:function(e){var t=this.props,a=t.dispatchAccordionOpened,s=t.dispatchDismissNotification,i=t.hasBanner,r=t.hasNotification,l=t.InsightsBanner;if(a(e),s(),this.analytics.trackEvent({category:"flex-matrix",action:e?"show":"hide"}),i){var n=l.data,o=n.advantageType,u=n.recommendationType,c=n.type,h=e?"matrixopen":"matrixclose",f=r&&d.advantageTypes.SAVINGS===o?"filtersavings":void 0;this.analytics.trackEvent((0,p.getAnalyticsData)(o,u,c,h,f))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.accordionOpen,s=t.anyFilterApplied,i=t.displayMode,r=t.filtersChanged,l=t.hasBanner,n=t.hasNotification,o=t.hasResults,c=t.InsightsBanner,p=t.queryDatesSelected,h=t.savingsMissedThreshold,f=t.selectedDateCount,R=i!==u.displayModes.FLEX_FOR_ALL_BANNER||c.ui&&c.ui.shouldDisplay&&!d.advantageTypeGroups.NO_DATA.includes(c.data.advantageType);return babelHelpers.jsx("button",{id:"FlexMatrixHeader",className:"Button-No-Standard-Style "+b.default+" "+(a?g.default:"")+" "+(R?y.default:""),onClick:function(){return R&&e.updateAccordionState(!a)},onKeyPress:function(t){return R&&t.keyCode===H.default.keyCodes.RETURN&&e.updateAccordionState(!a)}},void 0,l?babelHelpers.jsx(F.default,{accordionOpen:a,anyFilterApplied:s,queryDatesSelected:p,filtersChanged:r,hasNotification:n,hasResults:o,InsightsBanner:c,savingsMissedThreshold:h,selectedDateCount:f}):babelHelpers.jsx(x.default,{accordionOpen:a}))}}]),t}(React.Component);v.propTypes={accordionOpen:f.default.bool.isRequired,anyFilterApplied:f.default.bool.isRequired,dispatchAccordionOpened:f.default.func.isRequired,displayMode:f.default.oneOf(Object.values(u.displayModes)).isRequired,filtersChanged:f.default.bool,hasBanner:f.default.bool.isRequired,hasResults:f.default.bool.isRequired,InsightsBanner:f.default.shape(c.flexInsightsBannerShape),queryDatesSelected:f.default.bool,savingsMissedThreshold:f.default.bool,selectedDateCount:f.default.number.isRequired},v.defaultProps={filtersChanged:!1,InsightsBanner:{},queryDatesSelected:!1,savingsMissedThreshold:!1},e.default=ReactRedux.connect(function(e,t){var a=e.FlexForAllInsightsBanner,s=e.FilterState,i=e.FlexMatrix;return{accordionOpen:t.accordionOpen,anyFilterApplied:t.anyFilterApplied,InsightsBanner:a&&a.ui.shouldDisplay?a:{},displayMode:i.ui.displayMode,filtersChanged:s.ui.filtersChanged,hasBanner:i.ui.hasBanner&&a.ui.shouldDisplay,hasNotification:a.ui.hasNotification,hasResults:i.data.matrixEntries&&!!Object.keys(i.data.matrixEntries).length,queryDatesSelected:a.data.queryDatesSelected,savingsMissedThreshold:a.data.savingsMissedThreshold,selectedDateCount:i.data.selectedDateCount}},function(e){return{dispatchAccordionOpened:function(t){return e(R.updateAccordionState(t))},dispatchDismissNotification:function(){return e(R.dismissNotification())}}})(v)});define("default/flights/results/react/FlexMatrixAxisLabel",["exports","prop-types","stl!flights.results.FlexMatrixAxisLabel.AxisLabel","stl!flights.results.FlexMatrixAxisLabel.AxisLabel--default","stl!flights.results.FlexMatrixAxisLabel.AxisLabel--default--v2","stl!flights.results.FlexMatrixAxisLabel.AxisLabel--selected--v2","stl!flights.results.FlexMatrixAxisLabel.AxisLabel--hovered","stl!flights.results.FlexMatrixAxisLabel.AxisLabel--selected","stl!flights.results.FlexMatrixAxisLabel.AxisLabel--valid","stl!flights.results.FlexMatrixAxisLabel.AxisLabel--disabled","stl!flights.results.FlexMatrixAxisLabel.AxisLabel__Text","stl!flights.results.FlexMatrixAxisLabel.AxisLabel--v2__Text","stl!flights.results.FlexMatrixAxisLabel.AxisLabel--wide__Text","stl!flights.results.FlexMatrixAxisLabel.AxisLabel--narrow__Text","stl!flights.results.FlexMatrixAxisLabel.AxisLabel--disabled__Text","property!horizon.flights.results.flexMatrix.presentation","property!horizon.flights.results.flexMatrix.useSelectedHighlighting","common/widgets/checkbox/react/StyleJamCheckbox","flights/results/react/FlexMatrixGridBlock","common/analytics/react/Analytics","common/results/filters/react/FilterStateController","common/react/constants/layout","flights/results/react/constants/FlexMatrixConstants","common/results/filters/react/constants/FilterConstants","common/widgets/checkbox/react/constants/StyleJamCheckboxConstants","common/utils/react/presentate","common/react/constants/globals"],function(e,t,l,a,i,r,s,u,n,o,d,b,c,f,p,x,h,S,L,m,g,y,H,v,E,C,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FlexMatrixAxisLabel=e.presentations=e.PureFlexMatrixAxisLabel=void 0;var k,F,R,A=babelHelpers.interopRequireDefault(t),M=babelHelpers.interopRequireDefault(l),T=babelHelpers.interopRequireDefault(a),q=babelHelpers.interopRequireDefault(i),_=babelHelpers.interopRequireDefault(r),O=babelHelpers.interopRequireDefault(s),N=babelHelpers.interopRequireDefault(u),P=babelHelpers.interopRequireDefault(n),V=babelHelpers.interopRequireDefault(o),K=babelHelpers.interopRequireDefault(d),W=babelHelpers.interopRequireDefault(b),j=babelHelpers.interopRequireDefault(c),w=babelHelpers.interopRequireDefault(f),z=babelHelpers.interopRequireDefault(p),B=babelHelpers.interopRequireDefault(h),I=babelHelpers.interopRequireDefault(S),U=babelHelpers.interopRequireDefault(m),X=babelHelpers.interopRequireWildcard(g),Y=babelHelpers.interopRequireWildcard(H),G=babelHelpers.interopRequireWildcard(E),J=babelHelpers.interopRequireDefault(C),Q=babelHelpers.interopRequireDefault(D),Z=e.PureFlexMatrixAxisLabel=function(e){function t(){babelHelpers.classCallCheck(this,t);var e=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.analytics=new U.default,e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"shouldComponentUpdate",value:function(e){return!0===e.resultsChanged||this.props.uiStateKey!==e.uiStateKey||this.props.selectedStatus!==e.selectedStatus}},{key:"handleCheckboxChange",value:function(){var e=this.props,t=e.filterName,l=e.filterValue,a=e.isChecked,i=e.labelText,r=e.pendingFilterData,s=babelHelpers.defineProperty({},t,this.createStateUpdateThunk());X.pushValueSetFilterUpdates(s,r),this.analytics.trackEvent({category:"flex-matrix/"+t+"/axis-checkbox",action:a?"uncheck":"check",label:i,value:l})}},{key:"createStateUpdateThunk",value:function(){var e=this,t=this.props,l=t.displayMode,a=t.filterValue,i=t.selectedStatus,r=l===Y.displayModes.FLEX_FOR_ALL_BANNER?v.itemSelectedStatus.NOT_SELECTED:v.itemSelectedStatus.SELECTED;return function(t){switch(i){case v.itemSelectedStatus.NOT_SELECTED:return e.validateOnlyState(babelHelpers.extends({},t||{},babelHelpers.defineProperty({},a,v.itemSelectedStatus.SELECTED)));case v.itemSelectedStatus.SELECTED:return e.flagOnlyState(babelHelpers.extends({},t||{},babelHelpers.defineProperty({},a,v.itemSelectedStatus.NOT_SELECTED)));case v.itemSelectedStatus.ONLY:return babelHelpers.defineProperty({},a,v.itemSelectedStatus.SELECTED);default:return babelHelpers.defineProperty({},a,r)}}}},{key:"validateOnlyState",value:function(e){var t=this.props.allLabels.map(function(e){return e.filterValue}),l=t.filter(function(t){return t&&e[t]===v.itemSelectedStatus.ONLY});return 1===l.length?t.some(function(t){return!e[t]||e[t]!==v.itemSelectedStatus.NOT_SELECTED})&&(e[l]=v.itemSelectedStatus.SELECTED):l.length>1&&l.forEach(function(t){e[t]=v.itemSelectedStatus.SELECTED}),e}},{key:"flagOnlyState",value:function(e){var t=this.props.allLabels.filter(function(t){return void 0===e[t.filterValue]||e[t.filterValue]===v.itemSelectedStatus.SELECTED});return 1===t.length&&(this.props.allLabels.forEach(function(t){e[t.filterValue]=v.itemSelectedStatus.NOT_SELECTED}),e[t[0].filterValue]=v.itemSelectedStatus.ONLY),e}},{key:"render",value:function(){var e=this,t=this.props,l=t.checkboxId,a=t.enabledLabelCount,i=t.filterValue,r=t.flexFilterApplied,s=t.isDisabled,u=t.isHovered,n=t.fullWidth,o=t.presentation,d=t.role,b=t.searchCompleted,c=t.selectedStatus,f=t.updateHoverState,p=moment(i,Y.flexFilterDateFormat),x=p.isValid()&&Q.default.dateFormats.dayOfWeek?p.format(Q.default.dateFormats.dayOfWeek):"--",h=(s?z.default:"")+" "+(n?j.default:w.default),S="";return S=u?O.default:B.default.getBoolean(!1)&&b&&1===c&&r?N.default:o.axisLabelDefault,babelHelpers.jsx(L.FlexMatrixGridBlock,{className:M.default+" "+S+"\n                    "+(s?V.default:P.default),onClick:function(){return s||!window.isNaN(a)&&a<2?void 0:e.handleCheckboxChange()},onMouseOver:function(){return s?void 0:f(i)},onMouseLeave:function(){return s?void 0:f("")},onFocus:function(){return s?void 0:f(i)},onBlur:function(){return s?void 0:f("")},role:d,isleftalign:n?1:0,isv2:o.gridBlocksV2?1:0},void 0,babelHelpers.jsx("div",{className:o.labelText+" "+h},void 0,x),babelHelpers.jsx(I.default,{id:l,extraClassName:s?z.default:void 0,name:l,value:i,checked:c!==v.itemSelectedStatus.NOT_SELECTED,disabled:s,alternateHovered:u,presentation:o.checkboxPresentation,size:o.checkboxSize,showLabel:!1,ariaLabel:x,manageStateManually:!0}))}}]),t}(React.Component);Z.propTypes={allLabels:A.default.arrayOf(A.default.objectOf(A.default.any)).isRequired,checkboxId:A.default.string.isRequired,enabledLabelCount:A.default.number.isRequired,filterName:A.default.string.isRequired,isHovered:A.default.bool.isRequired,fullWidth:A.default.bool,pendingFilterData:A.default.objectOf(A.default.any).isRequired,presentation:A.default.objectOf(A.default.any).isRequired,role:A.default.string.isRequired,selectedStatus:A.default.number.isRequired,uiStateKey:A.default.string.isRequired,updateHoverState:A.default.func.isRequired},Z.defaultProps={fullWidth:!1};var $=e.presentations=(k={},babelHelpers.defineProperty(k,Y.presentationKeys.DEFAULT,{axisLabelDefault:T.default,axisLabelSelected:N.default,labelText:K.default,checkboxSize:y.sizes.SMALL,checkboxPresentation:G.presentationKeys.FLEX_MATRIX,gridBlocksV2:!1}),babelHelpers.defineProperty(k,Y.presentationKeys.V2,{axisLabelDefault:q.default,axisLabelSelected:_.default,labelText:W.default,checkboxSize:y.sizes.MEDIUM,checkboxPresentation:G.presentationKeys.MUTED_UIKIT,gridBlocksV2:!0}),k),ee=e.FlexMatrixAxisLabel=(F=(0,J.default)($,(0,x.getString)()))(R=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),t}(Z))||R;e.default=ReactRedux.connect(function(e,t){var l=e.FilterState,a=e.FlexMatrix,i=e.SearchPoll,r=t.allLabels,s=t.axisLabel,u=t.checkboxId,n=t.enabledLabelCount,o=t.filterName,d=t.isHovered,b=t.fullWidth,c=void 0!==b&&b,f=t.role,p=t.uiStateKey,x=t.updateHoverState,h=s.checked,S=s.disabled,L=s.filterValue,m=i.completed;return{allLabels:r,checkboxId:u,enabledLabelCount:n,filterName:o,isHovered:d,fullWidth:c,role:f,uiStateKey:p,updateHoverState:x,filterValue:L,isChecked:h,isDisabled:S,resultsChanged:i.resultsChanged,searchCompleted:m,displayMode:a.ui.displayMode,selectedStatus:s.checked?1:0,pendingFilterData:l.ui.pendingFilterData,flexFilterApplied:l.ui.flexFilterApplied}})(ee)});define("default/flights/results/react/FlexMatrixContainer",["exports","flights/results/react/FlexMatrix","flights/results/react/FlexMatrixRecommendationController","common/results/react/SearchPollListener","common/results/filters/react/FilterStateController"],function(e,t,l,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FlexMatrixContainer=void 0;var a=babelHelpers.interopRequireDefault(t),s=babelHelpers.interopRequireDefault(l),n=babelHelpers.interopRequireWildcard(r),o=babelHelpers.interopRequireWildcard(i),u=e.FlexMatrixContainer=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentWillMount",value:function(){n.addListener(this,this.props.SearchPoll),o.registerReactFilters(t.filterNames,t.listenerKey)}},{key:"componentWillUnmount",value:function(){n.removeListener(this),o.unregisterReactFilters(t.filterNames,t.listenerKey)}},{key:"render",value:function(){var e=this.props,t=e.initialDisplayMode,l=e.fullWidth;return babelHelpers.jsx("div",{},void 0,babelHelpers.jsx(a.default,{initialDisplayMode:t,fullWidth:l}),babelHelpers.jsx(s.default,{}))}}]),t}(React.Component);u.listenerKey="FlexMatrix",u.filterNames=["flexdepart","flexreturn"];var c=ReactRedux.connect(function(e,t){var l=e.SearchPoll;return{fullWidth:t.fullWidth,initialDisplayMode:t.initialDisplayMode,SearchPoll:l}})(u);e.default=c});define("default/common/widgets/tip/react/constants/TooltipConstants",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={ABOVE:{name:"ABOVE",pointerStyles:"pointerDown",isAfterTarget:!1,isVertical:!0},RIGHT:{name:"RIGHT",pointerStyles:"pointerLeft",isAfterTarget:!0,isVertical:!1},BELOW:{name:"BELOW",pointerStyles:"pointerUp",isAfterTarget:!0,isVertical:!0},LEFT:{name:"LEFT",pointerStyles:"pointerRight",isAfterTarget:!1,isVertical:!1}};t.ABOVE.opposite=t.BELOW,t.RIGHT.opposite=t.LEFT,t.BELOW.opposite=t.ABOVE,t.LEFT.opposite=t.RIGHT;e.positions=babelHelpers.extends({},t),e.orientations={START:"START",CENTER:"CENTER",END:"END"}});define("default/flights/results/react/FlexForAllInsightsBanner",["exports","prop-types","stl!flights.results.FlexForAllInsightsBanner.Container","stl!flights.results.FlexForAllInsightsBanner.Container--opened","stl!flights.results.FlexForAllInsightsBanner.Container--opened--v2","stl!flights.results.FlexForAllInsightsBanner.Container--closed","stl!flights.results.FlexForAllInsightsBanner.Icon--BestDate","stl!flights.results.FlexForAllInsightsBanner.Icon--Savings","stl!flights.results.FlexForAllInsightsBanner.Icon--FlightQuality","stl!flights.results.FlexForAllInsightsBanner.Icon--Loading","stl!flights.results.FlexForAllInsightsBanner.Chevron--UiKit","stl!flights.results.FlexForAllInsightsBanner.Chevron--closed","stl!flights.results.FlexForAllInsightsBanner.Chevron--open","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_ALREADY_BEST","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_ALL_SAME","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_DEPART_EARLIER","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_DEPART_LATER","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_RETURN_EARLIER","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_RETURN_LATER","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_CHANGE_BOTH","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_NONSTOP_DEPART_EARLIER","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_NONSTOP_DEPART_LATER","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_NONSTOP_RETURN_EARLIER","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_NONSTOP_RETURN_LATER","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_NONSTOP_CHANGE_BOTH","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_NONSTOP_SAVE_DEPART_EARLIER","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_NONSTOP_SAVE_DEPART_LATER","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_NONSTOP_SAVE_RETURN_EARLIER","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_NONSTOP_SAVE_RETURN_LATER","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_NONSTOP_SAVE_CHANGE_BOTH","string!flights/results//FLEX_MATRIX_NEO_HEADING_LOADING","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_SUBHEADING_ALREADY_BEST","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_SUBHEADING_ALL_SAME","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_SUBHEADING_RECOMMENDED_DATES","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_SUBHEADING_ALREADY_BEST_MISSED_THRESHOLD","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_SUBHEADING_ALL_SAME_MISSED_THRESHOLD","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_SUBHEADING_NEW_DATES","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_SUBHEADING_CHEAPER_FILTERED","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_SUBHEADING_NONSTOP_FILTERED","string!flights/results//FLEX_MATRIX_NEO_HEADING_SAVINGS_SUBHEADING_LOADING","flights/results/_svg_/calendar-star","flights/results/_svg_/calendar-inverted","flights/results/_svg_/stops-nonstop","property!horizon.flights.results.flexMatrix.presentation","flights/results/react/InsightsBanner","common/utils/react/logger","common/react/constants/layout","flights/results/react/constants/FlexMatrixConstants","common/icon/react/SvgIcon","flights/results/react/constants/InsightsBannerConstants","flights/results/react/constants/FlexForAllInsightsContants"],function(e,s,t,a,l,r,n,i,p,o,d,u,f,b,_,g,A,E,T,N,R,H,S,I,y,D,h,O,v,P,G,L,F,c,M,q,X,B,m,V,x,U,C,Y,z,k,w,j,K,Q,W){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var J,Z,$,ee,se,te,ae,le,re,ne,ie=babelHelpers.interopRequireDefault(s),pe=babelHelpers.interopRequireDefault(t),oe=babelHelpers.interopRequireDefault(a),de=babelHelpers.interopRequireDefault(l),ue=babelHelpers.interopRequireDefault(r),fe=babelHelpers.interopRequireDefault(n),be=babelHelpers.interopRequireDefault(i),_e=babelHelpers.interopRequireDefault(p),ge=babelHelpers.interopRequireDefault(o),Ae=babelHelpers.interopRequireDefault(d),Ee=babelHelpers.interopRequireDefault(u),Te=babelHelpers.interopRequireDefault(f),Ne=babelHelpers.interopRequireDefault(b),Re=babelHelpers.interopRequireDefault(_),He=babelHelpers.interopRequireDefault(g),Se=babelHelpers.interopRequireDefault(A),Ie=babelHelpers.interopRequireDefault(E),ye=babelHelpers.interopRequireDefault(T),De=babelHelpers.interopRequireDefault(N),he=babelHelpers.interopRequireDefault(R),Oe=babelHelpers.interopRequireDefault(H),ve=babelHelpers.interopRequireDefault(S),Pe=babelHelpers.interopRequireDefault(I),Ge=babelHelpers.interopRequireDefault(y),Le=babelHelpers.interopRequireDefault(D),Fe=babelHelpers.interopRequireDefault(h),ce=babelHelpers.interopRequireDefault(O),Me=babelHelpers.interopRequireDefault(v),qe=babelHelpers.interopRequireDefault(P),Xe=babelHelpers.interopRequireDefault(G),Be=babelHelpers.interopRequireDefault(L),me=babelHelpers.interopRequireDefault(F),Ve=babelHelpers.interopRequireDefault(c),xe=babelHelpers.interopRequireDefault(M),Ue=babelHelpers.interopRequireDefault(q),Ce=babelHelpers.interopRequireDefault(X),Ye=babelHelpers.interopRequireDefault(B),ze=babelHelpers.interopRequireDefault(m),ke=babelHelpers.interopRequireDefault(V),we=babelHelpers.interopRequireDefault(x),je=babelHelpers.interopRequireDefault(U),Ke=babelHelpers.interopRequireDefault(C),Qe=babelHelpers.interopRequireDefault(z),We=babelHelpers.interopRequireDefault(k),Je=babelHelpers.interopRequireDefault(K),Ze={borderedIconSvgs:(J={},babelHelpers.defineProperty(J,Q.advantageTypes.ALREADY_BEST,we.default),babelHelpers.defineProperty(J,Q.advantageTypes.ALL_SAME,we.default),babelHelpers.defineProperty(J,Q.advantageTypes.SAVINGS,je.default),babelHelpers.defineProperty(J,Q.advantageTypes.NONSTOP,Ke.default),babelHelpers.defineProperty(J,Q.advantageTypes.NONSTOP_SAVINGS,Ke.default),babelHelpers.defineProperty(J,Q.advantageTypes.LOADING,je.default),J),iconSvgSize:(Z={},babelHelpers.defineProperty(Z,Q.advantageTypes.ALREADY_BEST,w.sizes.MEDIUM),babelHelpers.defineProperty(Z,Q.advantageTypes.ALL_SAME,w.sizes.MEDIUM),babelHelpers.defineProperty(Z,Q.advantageTypes.SAVINGS,w.sizes.MEDIUM),babelHelpers.defineProperty(Z,Q.advantageTypes.NONSTOP,w.sizes.LARGE),babelHelpers.defineProperty(Z,Q.advantageTypes.NONSTOP_SAVINGS,w.sizes.LARGE),babelHelpers.defineProperty(Z,Q.advantageTypes.LOADING,w.sizes.MEDIUM),Z),iconThemeStl:($={},babelHelpers.defineProperty($,Q.advantageTypes.ALREADY_BEST,fe.default),babelHelpers.defineProperty($,Q.advantageTypes.ALL_SAME,fe.default),babelHelpers.defineProperty($,Q.advantageTypes.SAVINGS,be.default),babelHelpers.defineProperty($,Q.advantageTypes.NONSTOP,_e.default),babelHelpers.defineProperty($,Q.advantageTypes.NONSTOP_SAVINGS,be.default),babelHelpers.defineProperty($,Q.advantageTypes.LOADING,ge.default),$),savingsHeadingMessages:(ae={},babelHelpers.defineProperty(ae,Q.advantageTypes.ALREADY_BEST,Ne.default),babelHelpers.defineProperty(ae,Q.advantageTypes.ALL_SAME,Re.default),babelHelpers.defineProperty(ae,Q.advantageTypes.SAVINGS,(ee={},babelHelpers.defineProperty(ee,W.flexRecommendationTypes.DEPART_BEFORE,He.default),babelHelpers.defineProperty(ee,W.flexRecommendationTypes.DEPART_AFTER,Se.default),babelHelpers.defineProperty(ee,W.flexRecommendationTypes.RETURN_BEFORE,Ie.default),babelHelpers.defineProperty(ee,W.flexRecommendationTypes.RETURN_AFTER,ye.default),babelHelpers.defineProperty(ee,W.flexRecommendationTypes.BOTH,De.default),ee)),babelHelpers.defineProperty(ae,Q.advantageTypes.NONSTOP,(se={},babelHelpers.defineProperty(se,W.flexRecommendationTypes.DEPART_BEFORE,he.default),babelHelpers.defineProperty(se,W.flexRecommendationTypes.DEPART_AFTER,Oe.default),babelHelpers.defineProperty(se,W.flexRecommendationTypes.RETURN_BEFORE,ve.default),babelHelpers.defineProperty(se,W.flexRecommendationTypes.RETURN_AFTER,Pe.default),babelHelpers.defineProperty(se,W.flexRecommendationTypes.BOTH,Ge.default),se)),babelHelpers.defineProperty(ae,Q.advantageTypes.NONSTOP_SAVINGS,(te={},babelHelpers.defineProperty(te,W.flexRecommendationTypes.DEPART_BEFORE,Le.default),babelHelpers.defineProperty(te,W.flexRecommendationTypes.DEPART_AFTER,Fe.default),babelHelpers.defineProperty(te,W.flexRecommendationTypes.RETURN_BEFORE,ce.default),babelHelpers.defineProperty(te,W.flexRecommendationTypes.RETURN_AFTER,Me.default),babelHelpers.defineProperty(te,W.flexRecommendationTypes.BOTH,qe.default),te)),babelHelpers.defineProperty(ae,Q.advantageTypes.LOADING,Xe.default),babelHelpers.defineProperty(ae,Q.advantageTypes.DEFAULT,Xe.default),ae),savingsSubHeadingMessages:(le={},babelHelpers.defineProperty(le,Q.advantageTypes.ALREADY_BEST,Be.default),babelHelpers.defineProperty(le,Q.advantageTypes.ALL_SAME,me.default),babelHelpers.defineProperty(le,Q.advantageTypes.SAVINGS,Ve.default),babelHelpers.defineProperty(le,Q.advantageTypes.NONSTOP,Ve.default),babelHelpers.defineProperty(le,Q.advantageTypes.NONSTOP_SAVINGS,Ve.default),babelHelpers.defineProperty(le,Q.advantageTypes.LOADING,ke.default),babelHelpers.defineProperty(le,Q.advantageTypes.DEFAULT,ke.default),le),missedThresholdSavingsSubHeadingMessages:(re={},babelHelpers.defineProperty(re,Q.advantageTypes.ALREADY_BEST,xe.default),babelHelpers.defineProperty(re,Q.advantageTypes.ALL_SAME,Ue.default),babelHelpers.defineProperty(re,Q.advantageTypes.SAVINGS,Ve.default),babelHelpers.defineProperty(re,Q.advantageTypes.NONSTOP,Ve.default),babelHelpers.defineProperty(re,Q.advantageTypes.NONSTOP_SAVINGS,Ve.default),babelHelpers.defineProperty(re,Q.advantageTypes.LOADING,ke.default),re),savingsFilteredSubHeadingMessages:(ne={},babelHelpers.defineProperty(ne,Q.advantageTypes.ALREADY_BEST,Be.default),babelHelpers.defineProperty(ne,Q.advantageTypes.ALL_SAME,me.default),babelHelpers.defineProperty(ne,Q.advantageTypes.SAVINGS,Ye.default),babelHelpers.defineProperty(ne,Q.advantageTypes.NONSTOP,ze.default),babelHelpers.defineProperty(ne,Q.advantageTypes.NONSTOP_SAVINGS,Ye.default),babelHelpers.defineProperty(ne,Q.advantageTypes.LOADING,ke.default),ne)},$e=function(e){function s(e){babelHelpers.classCallCheck(this,s);var t=babelHelpers.possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return t.logger=new We.default("flights/results/FlexForAllInsightsBanner"),t}return babelHelpers.inherits(s,e),babelHelpers.createClass(s,[{key:"getErrorMessageFallback",value:function(){var e=this,s=this.props.InsightsBanner.data||{},t=s.advantageType,a=s.recommendationType,l=function(){for(var s=arguments.length,l=Array(s),r=0;r<s;r++)l[r]=arguments[r];return e.logger.error("invalid Flex Savings Header message combination: savings type: "+t+" \n date change type: "+a),Ze.savingsHeadingMessages[Q.advantageTypes.DEFAULT].value(l)};return l.value=l,l}},{key:"render",value:function(){var e=this.props,s=e.accordionOpen,t=e.anyFilterApplied,a=e.hasNotification,l=e.hasResults,r=e.InsightsBanner,n=e.queryDatesSelected,i=e.savingsMissedThreshold,p=e.selectedDateCount,o=r.data,d=o.advantageType,u=o.departDaysAway,f=o.displaySavings,b=o.recommendationType,_=o.returnDaysAway,g=o.subheadingDateRange,A=o.type,E=u||_||0,T=void 0;T=Ze.savingsHeadingMessages[d]?"function"==typeof Ze.savingsHeadingMessages[d]?Ze.savingsHeadingMessages[d]:Ze.savingsHeadingMessages[d][b]||this.getErrorMessageFallback():this.getErrorMessageFallback();var N=Ze.savingsSubHeadingMessages[Q.advantageTypes.DEFAULT];!n&&1===p&&t?N=Ce.default:a?N=Ze.savingsFilteredSubHeadingMessages[d]:i?N=Ze.missedThresholdSavingsSubHeadingMessages[d]:Ze.savingsSubHeadingMessages[d]&&(N=Ze.savingsSubHeadingMessages[d]);var R=void 0;return R=s?(0,Y.getString)()===j.presentationKeys.V2?de.default:oe.default:ue.default,babelHelpers.jsx(Qe.default,{advantageType:d,bannerData:Ze,containerCssClasses:pe.default+" "+R,hasBorder:!0,hasResults:l,headingMessage:T.value(E,E,f),props:this.props,recommendationType:b,showNotificationIndicator:a,subHeadingMessage:N.value(g,f),type:A},void 0,l&&d!==Q.advantageTypes.LOADING&&babelHelpers.jsx(Je.default,{name:"chevron-stroke",className:Ae.default+" "+(s?Te.default:Ee.default),width:"16",height:"16"}))}}]),s}(React.Component);e.default=$e,$e.propTypes={accordionOpen:ie.default.bool.isRequired,anyFilterApplied:ie.default.bool.isRequired,hasNotification:ie.default.bool.isRequired,hasResults:ie.default.bool.isRequired,InsightsBanner:ie.default.shape(W.flexInsightsBannerShape).isRequired,queryDatesSelected:ie.default.bool.isRequired,selectedDateCount:ie.default.string.isRequired}});define("default/react-dom",["exports","module","context"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{get:function(){return!0},set:function(){}}),t.exports=ReactDOM});define("default/flights/results/react/FlightsWatchlistItem",["exports","stl!flights.results.FlightsWatchlistItem.Watchlist__Item","stl!flights.results.FlightsWatchlistItem.Watchlist__Item__Section","stl!flights.results.FlightsWatchlistItem.Watchlist__Item__Footer","stl!flights.results.FlightsWatchlistItem.Watchlist__Item__PriceAndProvider","stl!flights.results.FlightsWatchlistItem.Watchlist__Item__Price","stl!flights.results.FlightsWatchlistItem.Watchlist__Item__Book","stl!flights.results.FlightsWatchlistItem.Watchlist__FlightItem__LegInfo","stl!flights.results.FlightsWatchlistItem.Watchlist__FlightItem__Leg__Icon","stl!flights.results.FlightsWatchlistItem.Watchlist__FlightItem__Leg","stl!flights.results.FlightsWatchlistItem.Watchlist__FlightItem__Leg__Icons","stl!flights.results.FlightsWatchlistItem.Watchlist__FlightItem__Leg__Info","stl!flights.results.FlightsWatchlistItem.Watchlist__FlightItem__Leg__Info__Row","stl!flights.results.FlightsWatchlistItem.Watchlist__FlightItem__Leg__Info__ArrivalDeparture","stl!flights.results.FlightsWatchlistItem.Watchlist__FlightItem__Leg__Info__DepartureDay","stl!flights.results.FlightsWatchlistItem.Watchlist__FlightItem__Leg__Info__Airports","stl!flights.results.FlightsWatchlistItem.Watchlist__FlightItem__Leg__Info__Duration","stl!flights.results.FlightsWatchlistItem.Watchlist__FlightItem__Leg__Info__LayoverInfo","stl!flights.results.FlightsWatchlistItem.Watchlist__FlightItem__Leg__OperatingAirlines","stl!flights.results.FlightsWatchlistItem.Watchlist__FlightItem__Toggle","stl!flights.results.FlightsWatchlistItem.Watchlist__FlightItem__BookBtnWrapper","string!flights/results//WATCHLIST_ARRIVAL_DEPARTURE_TIME","string!flights/results//WATCHLIST_DEPARTURE_DATE","string!flights/results//WATCHLIST_AIRPORTS","string!flights/results//BOOK_LABEL","common/results/react/WatchlistItem","common/analytics/react/Analytics"],function(e,t,l,s,i,a,r,u,o,n,p,h,_,b,c,d,f,g,m,v,I,H,W,D,F,R,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var q=babelHelpers.interopRequireDefault(t),x=babelHelpers.interopRequireDefault(l),j=babelHelpers.interopRequireDefault(s),y=babelHelpers.interopRequireDefault(i),A=babelHelpers.interopRequireDefault(a),L=babelHelpers.interopRequireDefault(r),N=babelHelpers.interopRequireDefault(u),T=babelHelpers.interopRequireDefault(o),B=babelHelpers.interopRequireDefault(n),C=babelHelpers.interopRequireDefault(p),P=babelHelpers.interopRequireDefault(h),S=babelHelpers.interopRequireDefault(_),w=babelHelpers.interopRequireDefault(b),E=babelHelpers.interopRequireDefault(c),M=babelHelpers.interopRequireDefault(d),O=babelHelpers.interopRequireDefault(f),U=babelHelpers.interopRequireDefault(g),Y=babelHelpers.interopRequireDefault(m),K=babelHelpers.interopRequireDefault(v),V=babelHelpers.interopRequireDefault(I),z=babelHelpers.interopRequireDefault(H),G=(babelHelpers.interopRequireDefault(W),babelHelpers.interopRequireDefault(D)),J=babelHelpers.interopRequireDefault(F),Q=babelHelpers.interopRequireDefault(R),X=babelHelpers.interopRequireDefault(k),Z=new X.default,$=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"flightItemLeg",value:function(e){var t=moment(e.departureDateFull,"MMDDYYYY").format(R9.globals.dateFormats.shortDP);return babelHelpers.jsx("div",{className:B.default+" "+x.default},void 0,babelHelpers.jsx("div",{className:C.default},void 0,babelHelpers.jsx("img",{className:T.default,src:e.icon,alt:"logo"})),babelHelpers.jsx("div",{className:P.default},void 0,babelHelpers.jsx("div",{className:S.default},void 0,babelHelpers.jsx("div",{className:w.default},void 0,(0,z.default)(e.departureTime,e.arrivalTime)),babelHelpers.jsx("div",{className:E.default},void 0,t)),babelHelpers.jsx("div",{className:S.default},void 0,babelHelpers.jsx("div",{className:M.default},void 0,(0,G.default)(e.departureAirport,e.arrivalAirport)),babelHelpers.jsx("div",{className:O.default},void 0,e.duration),babelHelpers.jsx("div",{className:U.default,dangerouslySetInnerHTML:{__html:e.layoverInfo}}))))}},{key:"createAlert",value:function(){var e=this,t=this.props.item,l=t.legs,s=t.oneway,i=t.numTravelers,a=t.resultId,r=t.cabinCode,u=moment(l[0].departureDateFull),o={dt:3,startDate:u.format(R9.globals.apiDateFormat),origincode:l[0].departureAirport,dest:l[0].arrivalAirport,oneway:s,sendFrequency:1,"deliveryType[]":"email",travelers:i,cabin:r,email:!0};return s||(o.endDate=moment(l[1].departureDateFull).format(R9.globals.apiDateFormat),o.dest=l[1].departureAirport),this.alertAction(o).then(function(t){e.updateStore(!1,t.alertId),R9.events.publish("watching",{resultId:a,searchId:e.props.searchId})})}},{key:"openSplitBookingDialog",value:function(){var e=this.props,t=e.item.resultId,l=e.searchId;Z.trackEvent("watchlist-drawer/split-booking/click"),R9.ajax.execute("flights/results/SplitBookingDialog",{data:{resultId:t,searchId:l}})}},{key:"openBookingUrl",value:function(e,t){var l=this.props.item,s=l.resultId,i=l.provider,a=l.isWhisky;R9.events.publish("clickout.open",{data:{resultId:s,url:t,provider:i,target:"_blank",isWhisky:!!a},element:e.target,event:e,callback:function(){Z.trackEvent("watchlist-drawer/booking/click")}}),R9.events.publish("tags.dataLayer.push",babelHelpers.extends({},this.props.item.tagLayerOptions))}},{key:"renderItem",value:function(){var e=this,t=this.props.item;if(!t)return null;var l=t,s=t.isMultiCity,i=l.legs.map(function(t){return e.flightItemLeg(t)}),a=null;l.operatingAirlineMsg&&""!==l.operatingAirlineMsg&&(a=babelHelpers.jsx("div",{className:B.default+" "+Y.default},void 0,l.operatingAirlineMsg));var r=l.displayPrice,u=l.provider,o=l.bookingUrl,n=l.splitBooking,p=s?null:babelHelpers.jsx("div",{className:K.default},void 0,this.renderToggleButton()),h=null;return n?h=babelHelpers.jsx("div",{className:V.default},void 0,babelHelpers.jsx("button",{className:L.default,onClick:function(){return e.openSplitBookingDialog()}},void 0,(0,J.default)())):o&&(h=babelHelpers.jsx("div",{className:V.default},void 0,babelHelpers.jsx("a",{className:L.default,onClick:function(t){return e.openBookingUrl(t,o)}},void 0,(0,J.default)()))),babelHelpers.jsx("div",{className:q.default},void 0,babelHelpers.jsx("div",{className:N.default},void 0,i,a),babelHelpers.jsx("div",{className:B.default+" "+x.default+" "+j.default},void 0,p,babelHelpers.jsx("div",{className:y.default},void 0,r?babelHelpers.jsx("div",{className:A.default},void 0,r):null,u?babelHelpers.jsx("div",{},void 0,u):null),h))}}]),t}(Q.default);e.default=$});define("default/common/results/_svg_/watchlist",["exports","common/react/ReactSvgInline"],function(e,a){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){return React.createElement(a.default,Object.assign({key:"default/common/results/_svg_/watchlist"},e||{},{svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.33 2h-.95v.3a2 2 0 0 1 .95 1.7v16a2 2 0 0 1-.95 1.7v.3h.95a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM20.33 2h-1v.29a2 2 0 0 1 1 1.71v16a2 2 0 0 1-1 1.71V22h1a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM14.33 2h-10a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm-2 13l-3-3-3 3V4h6z"/></svg> '}))}});define("default/common/results/react/Watchlist",["exports","stl!common.results.Watchlist.Watchlist","stl!common.results.Watchlist.Watchlist--inactive","stl!common.results.Watchlist.Watchlist--active","stl!common.results.Watchlist.Watchlist--active--open","stl!common.results.Watchlist.Watchlist__Header","stl!common.results.Watchlist.Watchlist__Header__Icon","stl!common.results.Watchlist.Watchlist__Header__Label","stl!common.results.Watchlist.Watchlist__Header__Toggle","stl!common.results.Watchlist.Watchlist__Wrapper","stl!common.results.Watchlist.Watchlist__Wrapper--stop-scroll","stl!common.results.Watchlist.Watchlist__Wrapper--allow-scroll","stl!common.results.Watchlist.Watchlist__Wrapper--hidden","stl!common.results.Watchlist.Watchlist__Wrapper--visible","stl!common.results.Watchlist.Watchlist__Toggle","stl!common.results.Watchlist.Watchlist__Header__Toggle--closed","stl!common.results.Watchlist.Watchlist__Header__Icon__AlertCount","stl!common.results.Watchlist.Watchlist__Header__Icon__SVG","stl!common.results.Watchlist.Watchlist__LoaderWrapper","stl!common.results.Watchlist.Watchlist__Loader","stl!common.results.Watchlist.Watchlist__Loader__Dot","stl!common.results.Watchlist.Watchlist__Header__Edit","string!common/results//WATCHLIST_HEADER","string!common/results//WATCHLIST_HEADER_DONE_EDITING","string!common/results//WATCHLIST_HEADER_EDIT","common/results/_svg_/watchlist","prop-types","common/icon/react/SvgIcon","common/results/react/actions/WatchlistActions","common/analytics/react/Analytics","stl!common.results.Watchlist.Watchlist--cars"],function(e,t,s,a,i,l,r,n,o,u,c,h,d,p,m,f,b,g,v,W,H,R,I,y,_,k,D,S,w,T,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.stlWatchlistCars=void 0;var q=babelHelpers.interopRequireDefault(t),C=babelHelpers.interopRequireDefault(s),L=babelHelpers.interopRequireDefault(a),j=babelHelpers.interopRequireDefault(i),N=babelHelpers.interopRequireDefault(l),x=babelHelpers.interopRequireDefault(r),P=babelHelpers.interopRequireDefault(n),A=babelHelpers.interopRequireDefault(o),U=babelHelpers.interopRequireDefault(u),F=babelHelpers.interopRequireDefault(c),V=babelHelpers.interopRequireDefault(h),K=babelHelpers.interopRequireDefault(d),O=babelHelpers.interopRequireDefault(p),M=babelHelpers.interopRequireDefault(m),z=babelHelpers.interopRequireDefault(f),G=babelHelpers.interopRequireDefault(b),J=babelHelpers.interopRequireDefault(g),X=babelHelpers.interopRequireDefault(v),Y=babelHelpers.interopRequireDefault(W),B=babelHelpers.interopRequireDefault(H),Q=babelHelpers.interopRequireDefault(R),Z=babelHelpers.interopRequireDefault(I),ee=babelHelpers.interopRequireDefault(y),te=babelHelpers.interopRequireDefault(_),se=babelHelpers.interopRequireDefault(k),ae=babelHelpers.interopRequireDefault(D),ie=babelHelpers.interopRequireDefault(S),le=babelHelpers.interopRequireDefault(T),re=babelHelpers.interopRequireDefault(E),ne="watchlist-drawer",oe=new le.default;e.stlWatchlistCars=re.default;var ue=function(e){function t(e){babelHelpers.classCallCheck(this,t);var s=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.itemRefs={},s.state={searchId:null,open:!1,active:!1,refreshingList:!1,streaming:!1,editing:!1},s.updateStore=s.updateStore.bind(s),s.getVertical=s.getVertical.bind(s),s.handleKeyUp=s.handleKeyUp.bind(s),s.addItemToWatchlist=s.addItemToWatchlist.bind(s),s.updateWatchlistItems=s.updateWatchlistItems.bind(s),s.mouseWheel=s.mouseWheel.bind(s),s.debouncedAdjustHeight=R9.Common.Utils.debounce(s.adjustHeight.bind(s),100),s.onRemovedFromList=s.onRemovedFromList.bind(s),s.onRemoveItem=s.onRemoveItem.bind(s),s.onStorageEvent=s.onStorageEvent.bind(s),s.onWatchlistChanged=s.onWatchlistChanged.bind(s),s}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"startWatching",value:function(){var e=this;R9.events.subscribe("resultItem.saved",function(t){return e.onItemSaved(t.resultItemId)}),R9.events.subscribe("common.results.refreshing",function(){e.setState({refreshingList:!0})}),R9.events.subscribe("resultspage.streaming.start",function(){e.setState({streaming:!0})}),R9.events.subscribe("resultspage.searchId.changed",function(t){e.setState({searchId:t.searchId})}),R9.events.subscribe("resultspage.streaming.done",function(){e.setState({streaming:!1})}),R9.events.subscribe("search.poll.response",function(t){e.state.streaming||e.updateWatchlistItems(t.savedResultIds)}),R9.events.subscribe("resultItem.removed",function(t){return e.onRemovedFromList(t)})}},{key:"hide",value:function(){this.setState({hide:!0})}},{key:"unHide",value:function(){this.setState({hide:!1})}},{key:"getVertical",value:function(){return null}},{key:"onItemSaved",value:function(e){this.setState({active:!0,open:!this.state.userInteractedState||"open"===this.state.userInteractedState,refreshingList:!0}),this.addItemToWatchlist(e)}},{key:"onWatchlistChanged",value:function(){R9.events.publish("watchlist.changed",{state:this.state,items:this.itemRefs})}},{key:"onRemovedFromList",value:function(e){this.setState({refreshingList:!1}),this.props.dispatch((0,w.removeFromWatchlist)(this.getVertical(),e.resultItemId)),this.onWatchlistChanged()}},{key:"onRemoveItem",value:function(e){var t=this;oe.trackEvent({subPageId:ne,category:"remove-saved"});var s={tripId:e.tripId,resultId:e.resultId,searchId:this.state.searchId},a={url:"/s/run/saveToMyTrips/remove",type:"POST",headers:{"X-CSRF":R9.globals.formtoken},spinner:!0,data:JSON.stringify(s),contentType:"application/json",dataType:"json"};this.setState({refreshingList:!0}),$.ajax(a).then(function(e){e.success&&(t.onRemovedFromList(babelHelpers.extends({},s,{resultItemId:s.resultId}),e),R9.events.publish("watchlist.results.removed",{resultId:s.resultId,requestData:s,responseData:e}))})}},{key:"componentWillReceiveProps",value:function(e){var t=e.list.length>0,s=e.list.length>this.props.list.length;this.setState({active:t,open:t&&(!this.state.userInteractedState||"open"===this.state.userInteractedState),items:[],hasNewItems:s}),t||this.setState({editing:!1})}},{key:"componentDidMount",value:function(){this.startWatching(),this.adjustHeight(),window.addEventListener("resize",this.debouncedAdjustHeight),window.addEventListener("storage",this.onStorageEvent)}},{key:"onStorageEvent",value:function(){}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debouncedAdjustHeight)}},{key:"componentDidUpdate",value:function(){this.adjustHeight()}},{key:"getViewportDimensions",value:function(){return{width:window.innerWidth,height:window.innerHeight}}},{key:"adjustHeight",value:function(){var e=this,t=this.calculateHeight(),s=this.getViewportDimensions(),a=s.height,i=s.width,l=$(".col-list-body"),r=l.offset().left+l.outerWidth(),n=i-r+10,o=Object.keys(this.itemRefs).length,u=a-100;n<this.watchListElem.clientWidth&&o&&this.itemRefs[0]&&(u=this.itemRefs[0].getHeight()+25),t=Math.min(u,t),0===t?(this.listWrapper.style.height="auto",this.adjustHeightForNewItem()):(R9.dom.swapClasses($(this.listWrapper),V.default,F.default),this.listWrapper.style.height=t+"px",setTimeout(function(){R9.dom.swapClasses($(e.listWrapper),F.default,V.default),e.adjustHeightForNewItem()},1e3))}},{key:"adjustHeightForNewItem",value:function(){if(this.state.hasNewItems){var e=this.listWrapper.clientHeight,t=this.listWrapper.scrollHeight-e;this.listWrapper.scrollTop=t,this.setState({hasNewItems:!1})}}},{key:"calculateHeight",value:function(){var e=0;if(this.state.open)for(var t=0;t<Math.min(this.props.list.length,3);t++)this.itemRefs[t]&&(e+=this.itemRefs[t].getHeight());return e}},{key:"hideListInternal",value:function(){this.setState({open:!1})}},{key:"toggleList",value:function(e){oe.trackEvent({subPageId:ne,category:"list-toggle",action:this.state.open?"hide":"show"});var t=!this.state.open;this.setState({open:t}),e&&this.setState({userInteractedState:t?"open":"closed"})}},{key:"toggleEdit",value:function(){oe.trackEvent({subPageId:ne,category:"edit-toggle",action:this.state.editing?"hide":"show"}),this.setState({editing:!this.state.editing})}},{key:"handleKeyUp",value:function(e){13!==e.keyCode&&32!==e.keyCode||this.toggleList(!0)}},{key:"renderItem",value:function(){return null}},{key:"updateStore",value:function(e,t,s){this.props.dispatch((0,w.toggleItemState)(this.getVertical(),e.resultId,t,s))}},{key:"getRenderedItems",value:function(){var e=this;return this.props.list&&this.props.list.length?this.props.list.map(function(t,s){return e.renderItem(t,s)}):null}},{key:"addItemToWatchlist",value:function(e){var t=this,s=this;e&&R9.action.execute(this.props.dataFetchUrl,{searchId:this.state.searchId,watchedResultIds:[e],priceType:this.getPriceType()},function(e){var a=e.watchlist;t.setState({refreshingList:!1}),a&&a.length&&(oe.trackEvent({subPageId:ne,category:"watchlist-item",action:"add"}),s.props.dispatch((0,w.addToWatchlist)(s.getVertical(),a[0])))},function(){t.setState({refreshingList:!1})})}},{key:"updateWatchlistItems",value:function(e){var t=this;e&&e.length?R9.action.execute(this.props.dataFetchUrl,{searchId:this.state.searchId,watchedResultIds:e,priceType:this.getPriceType()},function(e){t.props.dispatch((0,w.updateWatchlist)(t.getVertical(),e.watchlist))}):t.props.dispatch((0,w.updateWatchlist)(t.getVertical(),[]))}},{key:"getPriceType",value:function(){return null}},{key:"mouseWheel",value:function(e){var t=e.currentTarget,s=e.deltaY,a=t.clientHeight,i=t.scrollHeight,l=t.scrollTop,r=s<0;r||l!==i-a?r&&0===l&&(t.scrollTop=0,e.stopPropagation(),e.preventDefault()):(t.scrollTop=i,e.stopPropagation(),e.preventDefault())}},{key:"onEditListKeyUp",value:function(e){var t=e.keyCode;t!==R9.globals.keyCode.RETURN&&t!==R9.globals.keyCode.SPACE||(this.toggleEdit(),e.stopPropagation())}},{key:"render",value:function(){var e=this,t=U.default+"\n            "+(this.state.open&&!this.state.hide?O.default+" "+V.default:K.default),s=this.state.open&&!this.state.hide?""+A.default:A.default+" "+z.default,a=this.getRenderedItems(),i=this.state.refreshingList?babelHelpers.jsx("div",{className:X.default},void 0,babelHelpers.jsx("div",{className:Y.default},void 0,[1,2,3].map(function(){return babelHelpers.jsx("span",{className:B.default},void 0," ")}))):null,l=this.state.editing?(0,ee.default)():(0,te.default)();return React.createElement("div",{className:this.baseClassName+" "+this.listStateClassName,ref:function(t){e.watchListElem=t}},babelHelpers.jsx("div",{className:N.default,onClick:function(){e.toggleList(!0)},onKeyUp:this.handleKeyUp,tabIndex:"0",role:"button"},void 0,babelHelpers.jsx("div",{className:x.default},void 0,babelHelpers.jsx("div",{className:G.default},void 0,a&&a.length),babelHelpers.jsx(se.default,{className:J.default})),babelHelpers.jsx("span",{className:P.default},void 0,(0,Z.default)()),babelHelpers.jsx("span",{className:Q.default,onClick:function(t){e.toggleEdit(),t.stopPropagation()},role:"button",tabIndex:"0",onKeyUp:function(t){e.onEditListKeyUp(t)}},void 0,l),babelHelpers.jsx("div",{className:s},void 0,babelHelpers.jsx(ie.default,{name:"chevron",className:M.default}))),React.createElement("div",{className:t,ref:function(t){e.listWrapper=t},onWheel:this.mouseWheel,key:"listWrapper"},a),i)}},{key:"listStateClassName",get:function(){var e=j.default;return this.state.open||(e=this.state.active?L.default:C.default),this.state.hide&&(e=C.default),e}},{key:"baseClassName",get:function(){return q.default}}]),t}(React.Component);e.default=ue,ue.props={isAnon:ae.default.bool.isRequired}});define("default/common/results/react/WatchlistItem",["exports","stl!common.results.WatchlistItem.Watchlist__Item","stl!common.results.WatchlistItem.Watchlist__Item--fading","stl!common.results.WatchlistItem.Watchlist__Item__Delete","string!common/results//WATCHLIST_ALERTS","string!common/results//DELETE_FROM_WATCHLIST","prop-types","common/widgets/button/react/ToggleButton","common/analytics/react/Analytics"],function(e,t,r,i,n,o,s,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=babelHelpers.interopRequireDefault(t),c=babelHelpers.interopRequireDefault(r),p=babelHelpers.interopRequireDefault(i),d=babelHelpers.interopRequireDefault(n),f=babelHelpers.interopRequireDefault(o),h=babelHelpers.interopRequireDefault(a),m=babelHelpers.interopRequireDefault(l),g=new m.default,v=function(e){function t(e){babelHelpers.classCallCheck(this,t);var r=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={fading:!1,checked:!e.item.isPaused},r.onToggle=r.onToggle.bind(r),r.renderToggleButton=r.renderToggleButton.bind(r),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onToggle",value:function(){var e=this;this.props.isAnon?R9.Social.WebCredentials.trySignIn(function(){R9.authentication.showLogin({success:function(){e.toggleAlerts().then(function(){setTimeout(function(){window.location.reload()},1e3)})}})}):this.toggleAlerts()}},{key:"toggleAlerts",value:function(){if(this.props.item.alertId){if(this.props.item.isExpired)return this.onEditClick();var e=!this.state.checked;return this.setState({checked:e}),this.onTogglePauseItem(e)}return this.createAlert()}},{key:"onEditClick",value:function(){var e=this;return g.trackEvent("watchlist-drawer/edit/click"),this.setState({fading:!0}),this.getEditDialog().then(this.onEditDialogLoaded.bind(this)).always(function(){return e.setState({fading:!1})})}},{key:"onEditDialogLoaded",value:function(e){e.open()}},{key:"getEditDialog",value:function(){var e={id:this.props.item.alertId,f:this.props.item.type};return new Promise(function(t,r){R9.ajax.execute("/account/pages/WatchListEditDialog",{data:e}).then(function(e){var r=$("#"+e.id).getWidget();return t(r,e)}).fail(function(e){return r(e)})})}},{key:"createAlert",value:function(){return new Promise(function(e){e()})}},{key:"onTogglePauseItem",value:function(e){var t=this,r=e?"unpause":"pause",i=this.props.item.alertId;return g.trackEvent("watchlist-drawer/"+r+"/click"),this.alertAction({alertid:i,action:r}).then(function(){t.updateStore(!e)}).catch(function(){return t.setState({checked:!e})})}},{key:"alertAction",value:function(e){return new Promise(function(t,r){$.ajax({url:"/h/hermes/prefs/ajax/alert/v1",type:"post",headers:{"X-CSRF":R9.globals.formtoken},data:e}).then(function(e){if(e||r(new Error("No response")),e.success)e.success&&t(e);else{var i=e.more_errors?e.more_errors:[e.error];r(new Error(i))}}).catch(function(e){r(new Error("AJAX error "+e))})})}},{key:"removeItem",value:function(){g.trackEvent("watchlist-drawer/remove/click"),this.props.onRemove(this.props.item)}},{key:"componentWillReceiveProps",value:function(e){this.setState({fading:!1,checked:!e.item.isPaused})}},{key:"renderToggleButton",value:function(){return babelHelpers.jsx(h.default,{isChecked:this.state.checked,onToggle:this.onToggle,labelText:(0,d.default)()})}},{key:"renderItem",value:function(){return null}},{key:"getHeight",value:function(){return this.el.clientHeight+10}},{key:"updateStore",value:function(e,t){this.props.updateStore&&this.props.updateStore(this.props.item,e,t||this.props.item.alertId)}},{key:"render",value:function(){var e=this,t=u.default+" "+(this.state.fading?c.default:""),r=this.renderItem();if(null==r)return null;var i=this.props.isEditing?babelHelpers.jsx("div",{className:p.default,onClick:function(){e.removeItem()}},void 0,(0,f.default)()):null;return React.createElement("div",{className:t,ref:function(t){e.el=t},key:this.props.item.resultId+"_wrapper"},r,i)}}]),t}(React.Component);e.default=v,v.propTypes={item:s.PropTypes.object.isRequired,searchId:s.PropTypes.string,isAnon:s.PropTypes.bool.isRequired,isEditing:s.PropTypes.bool.isRequired,updateStore:s.PropTypes.func,onRemove:s.PropTypes.func},v.defaultProps={searchId:null,onRemove:function(){},updateStore:function(){}}});define("default/flights/results/react/FlightsWatchlist",["exports","flights/results/react/FlightsWatchlistItem","common/results/react/Watchlist"],function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=babelHelpers.interopRequireDefault(t),r=babelHelpers.interopRequireDefault(s),a=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"getVertical",value:function(){return"flights"}},{key:"renderItem",value:function(e,t){var s=this;return React.createElement(i.default,{item:e,ref:function(e){s.itemRefs[t]=e},isAnon:this.props.isAnon,searchId:this.state.searchId,isEditing:this.state.editing,updateStore:this.updateStore,onRemove:this.onRemoveItem,key:e.resultId+"_flightWatchlistItem"})}}]),t}(r.default);e.default=ReactRedux.connect(function(e){return{list:[].concat(e.WatchListReducer.flights)}},function(e){return{dispatch:e,dataFetchUrl:"account/pages/FlightWatchlistDataAction"}})(a)});define("default/common/widgets/button/react/ToggleButton",["exports","stl!common.widgets.button.ToggleButton.ToggleButton","stl!common.widgets.button.ToggleButton.ToggleButton__Label","stl!common.widgets.button.ToggleButton.ToggleButton__Slider","stl!common.widgets.button.ToggleButton.ToggleButton__Slider--checked","stl!common.widgets.button.ToggleButton.ToggleButton__Slider--unchecked","stl!common.widgets.button.ToggleButton.ToggleButton__Slider__Circle","stl!common.widgets.button.ToggleButton.ToggleButton__Slider__Circle--checked","stl!common.widgets.button.ToggleButton.ToggleButton__Slider__Circle--unchecked","common/widgets/button/_svg_/toggle","prop-types","common/utils/react/presentate"],function(e,t,l,o,s,n,a,r,i,u,g,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.presentationKeys=void 0;var b,d,c,f=babelHelpers.interopRequireDefault(t),h=babelHelpers.interopRequireDefault(l),m=babelHelpers.interopRequireDefault(o),C=babelHelpers.interopRequireDefault(s),_=babelHelpers.interopRequireDefault(n),T=babelHelpers.interopRequireDefault(a),k=babelHelpers.interopRequireDefault(r),y=babelHelpers.interopRequireDefault(i),H=babelHelpers.interopRequireDefault(u),B=babelHelpers.interopRequireDefault(p),L={componentClass:f.default,labelClass:h.default,sliderClass:m.default,sliderStateClasses:{checked:C.default,unchecked:_.default},toggleClass:T.default,toggleStateClasses:{checked:k.default,unchecked:y.default},showCheckMark:!1,hasLabel:!0,labelOnLeft:!1},v=e.presentationKeys={VANILLA:"vanilla",NO_LABEL:"no-label"},w=(b={},babelHelpers.defineProperty(b,v.VANILLA,L),babelHelpers.defineProperty(b,v.NO_LABEL,babelHelpers.extends({},L,{hasLabel:!1})),b),R=(d=(0,B.default)(w))(c=function(e){function t(e){babelHelpers.classCallCheck(this,t);var l=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.toggle=l.toggle.bind(l),l.handleKeyUp=l.handleKeyUp.bind(l),l}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"toggle",value:function(){this.props.onToggle&&this.props.onToggle()}},{key:"handleKeyUp",value:function(e){13!==e.keyCode&&32!==e.keyCode||this.toggle()}},{key:"render",value:function(){var e=this.props,t=e.presentation,l=e.isChecked,o=t.sliderClass+" "+(l?t.sliderStateClasses.checked:t.sliderStateClasses.unchecked),s=t.toggleClass+" "+(l?t.toggleStateClasses.checked:t.toggleStateClasses.unchecked)+" "+(t.showCheckMark?"":"no-check-mark"),n=null;return t.hasLabel&&(n=babelHelpers.jsx("div",{className:t.labelClass},void 0,this.props.labelText)),babelHelpers.jsx("div",{className:t.componentClass,onClick:this.toggle,onKeyUp:this.handleKeyUp,tabIndex:"0",role:"button"},void 0,t.labelOnLeft?n:null,babelHelpers.jsx("div",{className:o},void 0,babelHelpers.jsx(H.default,{className:s})),t.labelOnLeft?null:n)}}]),t}(React.Component))||c;e.default=R,R.propTypes={isChecked:g.PropTypes.bool,labelText:g.PropTypes.string,onToggle:g.PropTypes.func,presentation:g.PropTypes.string},R.defaultProps={isChecked:!1,labelText:"",onToggle:function(){},presentation:v.VANILLA}});define("default/common/widgets/button/_svg_/toggle",["exports","common/react/ReactSvgInline"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e){return React.createElement(t.default,Object.assign({key:"default/common/widgets/button/_svg_/toggle"},e||{},{svg:'<svg version="1.1" viewBox="0 0 220 220" xmlns="http://www.w3.org/2000/svg"> <defs> <style>.no-check-mark .check-mark-tick{ display: none; }</style> </defs> <g fill-rule="evenodd"> <circle cx="110" cy="110" r="110"/> <path class="check-mark-tick" d="m69.5 120.5l19 30" stroke="currentColor" stroke-linecap="square" stroke-width="20"/> <path class="check-mark-tick" d="m89.5 150.5l52-76" stroke="currentColor" stroke-linecap="square" stroke-width="20"/> </g> </svg> '}))}});