define("default/common/results/react/actions/SearchPollActions",["exports"],function(e){"use strict";function t(e){var t=(e.destination||"").split("/"),a=babelHelpers.slicedToArray(t,2),r=a[0],n=a[1],o=(e.origin||"").split("/"),i=babelHelpers.slicedToArray(o,2),l=i[0],d=i[1];return{activeCabin:e.cabin,depart_date:e.depart_date,depart_date_canon:e.depart_date_canon,depart_date_flex:e.depart_date_flex,destination:r,destinationId:n,flexCategory:e.flex_category,isMulticity:e.isMulticity,isOneWay:e.oneWay,legCount:e.legCount,origin:l,originId:d,preserveFilters:e.preserveFilters,return_date:e.return_date,return_date_canon:e.return_date_canon,return_date_flex:e.return_date_flex,resultsChanged:!0,travelers:e.travelers}}function a(e){return babelHelpers.extends({},t(e),{isFlex:void 0===e.flex_category||void 0===e.depart_date_flex?void 0:"exact"!==e.flex_category&&"exact"!==e.depart_date_flex&&(!e.return_date_flex||"exact"!==e.return_date_flex),isRoundTrip:void 0===e.oneWay?void 0:!e.oneWay,showPlusMinusThree:void 0===e.flex_category||void 0===e.cabin||void 0===e.oneWay?void 0:"plusminusthree"===e.flex_category&&"e"===e.cabin&&!e.oneWay})}function r(e){return babelHelpers.extends({},t(e),{isFlex:"exact"!==e.flex_category&&"exact"!==e.depart_date_flex&&(!e.return_date_flex||"exact"!==e.return_date_flex),isRoundTrip:!e.oneWay,showPlusMinusThree:"plusminusthree"===e.flex_category&&"e"===e.cabin&&!e.oneWay})}function n(){return{type:c,payload:{}}}function o(e){return{type:u,payload:a(e)}}function i(e){return{type:f,payload:e}}function l(e){return{type:s,payload:r(e)}}function d(){return{type:p,payload:{completed:!0}}}Object.defineProperty(e,"__esModule",{value:!0}),e.clearSearch=n,e.updateStartSearchState=o,e.updateSearchPoll=i,e.startSearchPolling=l,e.endSearchPolling=d;var _="SearchPollListener.",c=e.CLEAR_SEARCH=_+"CLEAR_SEARCH",u=e.UPDATE_START_SEARCH_PARAMS=_+"UPDATE_START_SEARCH_PARAMS",s=e.INIT_POLLING=_+"INIT_POLLING",p=e.END_POLLING=_+"END_POLLING",f=e.POLL_RESPONSE=_+"POLL_RESPONSE"});define("default/flights/results/react/utils/FlexMatrixClientBuilder",["exports","moment","common/utils/react/logger","flights/results/react/constants/FlexMatrixConstants","common/react/constants/globals"],function(e,a,t,r,l){"use strict";function i(e,a){return a?a+"_"+e:e}function n(e,a){return _[a]||(_[a]=e.replace(v,function(e,t,r,l){return t+a+l})),_[a]}function d(e){return M[e]?M[e]:(0,F.default)(e,h.default.dateFormats.isoDate)}function u(e){return L[e]?L[e]:d(e).format(r.flexFilterDateFormat)}function s(e){return R[e]||(R[e]=(0,F.default)(e,r.flexFilterDateFormat)),R[e]}function o(e){if(!T[e]){var a=s(e);T[e]=a.format(h.default.dateFormats.dayOfWeek)}return T[e]}function f(){_={},M={},L={},R={},T={}}function c(e,a,t){var l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{checked:t,disabled:!1,_daysFromWeek:"number"==typeof a?a:e.diff(a,"days"),filterValue:e.format(r.flexFilterDateFormat),queryDate:l}}function p(e,a,t,l){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.displayModes.NONE,d=Array.from(arguments).join("_");if(g[d])return g[d];var u={departLabels:[],matrixEntries:{},returnLabels:[],disableNonstopToggle:!1,placeholder:!0,roundTrip:!e||!!a,selectedDateCount:0},o=t||"plusminusthree",f=l,p=!1;if([r.displayModes.FLEX_DATE_PREDICTIONS,r.displayModes.FLEX_FOR_ALL_BANNER].includes(n)){var m="exact"===o&&(!f||"exact"===f);r.displayModes.FLEX_DATE_PREDICTIONS===n?(p=m,o="plusminusthree",f=u.roundTrip?"plusminusthree":f):r.displayModes.FLEX_FOR_ALL_BANNER===n&&m&&(p=!0,u.roundTrip?"exact"===f&&(o="plusminusone",f="plusminusone"):o="plusminustwo")}void 0===f&&(f="plusminusthree");for(var y=babelHelpers.slicedToArray(r.flexDateNumericalRanges[o],2),D=y[0],b=y[1],h=e?(0,F.default)(e):(0,F.default)().add(-1*D,"days"),x=h?(0,F.default)(e).add(D,"days"):(0,F.default)(),v=(0,F.default)(x).startOf("week"),E=void 0,V=D;V<=b;V+=1){var _=!p||h.get("date")===x.get("date");u.departLabels.push(c(x,v,_,h.isSame(x))),x.add(1,"days")}if(u.roundTrip){var M=babelHelpers.slicedToArray(r.flexDateNumericalRanges[f],2),L=M[0],R=M[1],T=a?(0,F.default)(a).add(L,"days"):(0,F.default)().add(b+L,"days");E=a?(0,F.default)(a):(0,F.default)().add(-1*L,"days");for(var C=L;C<=R;C+=1){var k=!p||E.get("date")===T.get("date");u.returnLabels.push(c(T,v,k,E.isSame(T))),T.add(1,"days")}}else u.returnLabels=[{}];return u.departLabels.forEach(function(e){return u.returnLabels.forEach(function(a){var t=void 0===a.daysFromWeek?1:a._daysFromWeek-e._daysFromWeek,r=e.checked&&(!a||a.checked);r&&(u.selectedDateCount+=1),u.matrixEntries[i(e.filterValue,a.filterValue)]=babelHelpers.extends({},A,{departFilterValue:e.filterValue,returnFilterValue:a.filterValue||"",departDaysAway:s(e.filterValue).diff(h,"day"),returnDaysAway:a.filterValue&&E?s(a.filterValue).diff(E,"day"):0,queryDate:e.queryDate&&(!a||a.queryDate),selected:r,disabled:t<0,dateRange:t})})}),g[d]=u,u}function m(e,a){if(!e)return null;var t=window.location,l=t.origin,i=t.pathname,d=(0,F.default)(e,r.flexFilterDateFormat).format(h.default.dateFormats.isoDate),u=void 0;if(a){var s=n(i,d),o=(0,F.default)(a,r.flexFilterDateFormat).format(h.default.dateFormats.isoDate);u=s.replace(V,function(e,a,t){return a+o})}else u=i.replace(E,function(e,a,t){return a+d});return l+u}function y(e,a,t,r){new b.default("FlexMatrixClientBuilder").warnInternal("axis label needed to be backfilled for date "+e+". This shouldn't ever be needed.");var l="exact"!==r||e===t;return c(d(e),a,l)}function D(e,a){var t={},l={},n={},d=a.SearchPoll||{},o=d.depart_date_canon,c=d.flexCategory,p=d.return_date_canon,D=a.FlexMatrix.data||{},F=D.departLabels,b=D.returnLabels;f();var h=s(o),g=!!p&&s(p);return e.forEach(function(e){var a=u(e.startDate),d=e.endDate?u(e.endDate):null,f=i(a,d),D=Math.abs(e.startModifier)+(d?Math.abs(e.endModifier):0),x={},v={};F&&(l[a]||(l[a]=F.find(function(e){return e.filterValue===a})||y(e.startDate,e.startModifier,o,c)),x=l[a],d&&(n[d]||(n[d]=b.find(function(e){return e.filterValue===d})||y(e.endDate,e.endModifier,p,c)),v=n[d])),t[f]=babelHelpers.extends({},A,{allFlights:babelHelpers.extends({},A.allFlights,{displayPrice:R9&&R9.Common?R9.Common.Utils.formatPrice(e.minPrice):""+e.minPrice,price:e.minPrice,priceCategory:r.priceCategories.DEFAULT}),departFilterValue:x.filterValue,returnFilterValue:v.filterValue,departDaysAway:s(x.filterValue).diff(h,"day"),returnDaysAway:v.filterValue&&g?s(v.filterValue).diff(g,"day"):0,queryDate:x.queryDate&&!!v.queryDate,selected:!!x.checked&&!!v.checked,disabled:D<0,prediction:!0,placeholder:!1,searchUrl:m(x.filterValue,v.filterValue),dateRange:D})}),t}Object.defineProperty(e,"__esModule",{value:!0}),e.makeMatrixEntryKey=i,e.isoDateToMoment=d,e.predictionDateToCanonical=u,e.canonicalDateToMoment=s,e.filterDateToDayOfWeek=o,e.buildPlaceholderPollData=p,e.buildPredictedMatrixEntries=D;var F=babelHelpers.interopRequireDefault(a),b=babelHelpers.interopRequireDefault(t),h=babelHelpers.interopRequireDefault(l),g={},x=h.default.dateFormats.isoDate.replace(/\w/g,"\\d")+"[-0-9A-z]{0,}",v=new RegExp("(^.+/)("+x+")(/"+x+")","g"),E=new RegExp("(^.+/)("+x+")","g"),V=new RegExp("(^.+/"+x+"/)("+x+")","g"),_={},M={},L={},R={},T={},A={allFlights:{categoryThresholds:null,cheapestFlight:null,displayPrice:null,price:0,priceCategory:r.priceCategories.DEFAULT,similarFlights:0},departFilterValue:"",returnFilterValue:"",queryDate:!1,selected:!1,disabled:!1,prediction:!1,placeholder:!0,searchUrl:null}});define("default/common/utils/react/logger",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){},o={error:n,warn:n,log:n,info:n,debug:n,profile:n,profileEnd:n,time:n,timeEnd:n},r={errorInternal:n,warnInternal:n,console:n,consoleGroup:n};e.default=function(){return"undefined"!=typeof R9&&R9.logger?R9.logger:"undefined"!=typeof console?function(){return babelHelpers.extends({},console,r)}:function(){return babelHelpers.extends({},o,r)}}()});define("default/flights/results/react/reducers/FlexMatrixReducer",["exports","flights/results/react/actions/FlexMatrixActions","common/results/filters/react/actions/FilterStateActions","common/results/react/actions/SearchPollActions","flights/results/react/actions/SearchPredictionsAjaxActions","flights/results/react/constants/InsightsBannerConstants","flights/results/react/constants/FlexMatrixConstants","flights/results/react/utils/FlexMatrixClientBuilder","flights/results/react/utils/FlexMatrixClientPredictionUtils","common/results/react/reducers/SearchPollListenerReducer","common/results/react/constants/SearchPollConstants"],function(e,t,a,r,l,n,i,s,d,u,o){"use strict";function c(e,t){return i.displayModes.FLEX_FOR_ALL!==t||e.queryDate}function p(e,t){return!0===t.config.flexDatePredictionsEnabled?"plusminusthree":e}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.displayModes.NONE;return t.valueMap?e.map(function(e){return babelHelpers.extends({},e,{checked:t.valueMap[e.filterValue]&&void 0!==t.valueMap[e.filterValue].selected?!!t.valueMap[e.filterValue].selected:c(e,a)})}):e}function f(e,t,a,r){var l=t.length,n={};return Object.values(a).filter(function(e){return e.prediction||e.placeholder||e.disabled}).forEach(function(e){n[e[r]]=(n[e[r]]||0)+1}),e.reduce(function(e,t){return e.concat(babelHelpers.extends({},t,{disabled:n[t.filterValue]===l}))},[])}function b(e){var t=e.departLabels,a=e.matrixEntries;return f(t,e.returnLabels,a,"departFilterValue")}function x(e){var t=e.departLabels,a=e.matrixEntries;return f(e.returnLabels,t,a,"returnFilterValue")}function _(e,t,a){var r=t.filter(function(e){return e.checked}).map(function(e){return e.filterValue}),l=a?a.filter(function(e){return e.checked}).map(function(e){return e.filterValue}):null,n=t.filter(function(e){return e.queryDate}).map(function(e){return e.filterValue}),i=a?a.filter(function(e){return e.queryDate}).map(function(e){return e.filterValue}):null,s=e.data.matrixEntries,d={};return Object.keys(s).forEach(function(e){d[e]=babelHelpers.extends({},s[e],{queryDate:n.includes(s[e].departFilterValue)&&(null===i||i.includes(s[e].returnFilterValue)),selected:r.includes(s[e].departFilterValue)&&(null===l||l.includes(s[e].returnFilterValue))})}),d}function y(e,t,a){if(!e)return null;var r={},l=!1;return Object.keys(t).forEach(function(a){var n=(!t[a]||t[a].placeholder)&&e[a];n&&!l&&(l=!0),r[a]=n?e[a]:t[a]}),l?((0,d.setMatrixEntryPriceCategories)(r,a.config),r):null}function R(e,t){if(!e.isMulticity){if(t.config.flexDatePredictionsEnabled)return i.displayModes.FLEX_DATE_PREDICTIONS;if("exact"===e.depart_date_flex&&t.config.flexForAllEnabled)return i.displayModes.FLEX_FOR_ALL_BANNER;if("exact"!==e.depart_date_flex||e.return_date_flex&&"exact"!==e.return_date_flex)return i.displayModes.PLUS_MINUS_THREE}return i.displayModes.NONE}function g(e,t,a){if([o.searchPollStatus.NO_RESULTS,o.searchPollStatus.SEARCH_ERROR].includes((0,u.getPollStatus)(e)))return i.displayModes.NONE;if(void 0===e.isFlex)return t.ui.displayMode;if(!e.isMulticity){if(t.config.flexDatePredictionsEnabled)return i.displayModes.FLEX_DATE_PREDICTIONS;if(!0===e.isFlex&&!1!==e.showPlusMinusThree)return i.displayModes.PLUS_MINUS_THREE;if(t.config.flexForAllEnabled&&!e.isFlex&&a&&e.flexForAllInsightsBanner&&(!e.completed||0!==e.filteredCount)&&!n.advantageTypeGroups.NO_ADVANTAGE.includes(e.flexForAllInsightsBanner.advantageType))return i.displayModes.FLEX_FOR_ALL_BANNER}return i.displayModes.NONE}function S(e,t,a){return e.flexMatrix&&e.flexMatrix.displayMode===i.displayModes.FLEX_FOR_ALL_BANNER&&a&&e.flexForAllInsightsBanner&&n.advantageTypeGroups.NO_DATA.includes(e.flexForAllInsightsBanner.advantageType)?i.displayModes.NONE:g(e,t,a)}Object.defineProperty(e,"__esModule",{value:!0}),e.initialState=void 0,e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.payload||{},r=a.depart_date_canon,l=a.return_date_canon,d=a.depart_date_flex,u=a.return_date_flex,o=void 0,c=void 0,f=void 0,v=void 0,D=void 0,P=void 0;switch(t.type){case O.CLEAR_SEARCH:case O.INIT_POLLING:case O.UPDATE_START_SEARCH_PARAMS:return o=R(t.payload,e),babelHelpers.extends({},e,{clientDerivedData:babelHelpers.extends({},N.clientDerivedData,{ajaxStatus:o===i.displayModes.FLEX_DATE_PREDICTIONS?n.ajaxRequestStatus.START_REQUEST:n.ajaxRequestStatus.NO_REQUEST}),data:(0,s.buildPlaceholderPollData)(r,l,p(d,e),p(u,e),o),ui:babelHelpers.extends({},N.ui,{displayMode:o,hasBanner:!!e.config.flexForAllEnabled&&i.displayModes.FLEX_FOR_ALL_BANNER===o,hasNonstopToggle:!1,nonstopOnly:!1})});case O.POLL_RESPONSE:case O.END_POLLING:var T=t.payload.flexForAllInsightsBanner,C=T?T.location===n.bannerLocations.FLEX_MATRIX&&!n.advantageTypeGroups.NO_ADVANTAGE.includes(T.advantageType):e.ui.hasBanner;return void 0===C&&(C=N.ui.hasBanner),o=t.payload.type===O.END_POLLING?S(t.payload,e,C):g(t.payload,e,C),t.payload.flexMatrix&&t.payload.flexMatrix.matrixEntries?(c=t.payload.flexMatrix,e.config.flexDatePredictionsEnabled&&(f=y(e.clientDerivedData.ajaxMatrixEntries,c.matrixEntries,e))&&(c=babelHelpers.extends({},c,{matrixEntries:f}))):c=e.data,v=b(c),D=x(c),P=t.payload.resultsChanged&&e.config.flexDatePredictionsEnabled&&c.matrixEntries?Object.values(c.matrixEntries).filter(function(e){return e.prediction}).length:e.ui.predictionCellCount,babelHelpers.extends({},e,{data:babelHelpers.extends({},c,{departLabels:v,returnLabels:D}),ui:babelHelpers.extends({},N.ui,e.ui,{accordionOpen:i.displayModes.FLEX_FOR_ALL_BANNER===o&&T&&n.bannerTypes.USE_PREVIOUS!==T.type?e.ui.accordionOpen&&(!C||!!T&&n.advantageTypes.LOADING!==T.advantageType):e.ui.accordionOpen,displayMode:o,defaultDatesSelected:c.matrixEntries&&Object.values(c.matrixEntries).every(function(e){return e.selected===e.queryDate}),enabledDepartLabelCount:v.filter(function(e){return!e.disabled}).length,enabledReturnLabelCount:D.filter(function(e){return!e.disabled}).length,hasBanner:C,hasNonstopToggle:C&&!c.disableNonstopToggle&&T&&n.advantageTypeGroups.NONSTOP.includes(T.advantageType),predictionCellCount:P,standardCellCount:Object.keys(c.matrixEntries).length-P})});case L.FILTER_RESET_PENDING:case L.UPDATE_FILTER_DATA:v=E(e.data.departLabels,t.payload.data.flexdepart,e.ui.displayMode),D=E(e.data.returnLabels,t.payload.data.flexreturn,e.ui.displayMode);var M=_(e,v,D),F=Object.values(M).filter(function(e){return e.selected});return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,{departLabels:v,matrixEntries:M,returnLabels:D,selectedDateCount:F.length}),ui:babelHelpers.extends({},e.ui,{defaultDatesSelected:1===F.length&&F[0].queryDate})});case A.CHANGE_ACCORDION_STATE:return babelHelpers.extends({},e,{ui:babelHelpers.extends({},e.ui,{accordionOpen:t.payload.accordionOpen})});case A.UPDATE_NONSTOP_ONLY:return babelHelpers.extends({},e,{ui:babelHelpers.extends({},e.ui,{nonstopOnly:t.payload,undoStopsFilterState:null})});case A.SET_UNDO_STOPS_FILTER_STATE:return babelHelpers.extends({},e,{ui:babelHelpers.extends({},e.ui,{undoStopsFilterState:t.payload.filterState})});case A.UPDATE_HOVERED_CELL:case A.UPDATE_HOVERED_AXIS_LABEL:return babelHelpers.extends({},e,{ui:babelHelpers.extends({},e.ui,{hoveredDepartCell:t.payload.departId,hoveredReturnCell:t.payload.returnId})});case h.RECEIVE_FLEX_PREDICTIONS_SUCCESS:return f=y(t.payload.clientMatrixEntries,e.data.matrixEntries,e),c=f?babelHelpers.extends({},e.data,{matrixEntries:f}):e.data,v=b(c),D=x(c),P=c.matrixEntries&&Object.values(c.matrixEntries).filter(function(e){return e.prediction}).length,babelHelpers.extends({},e,{clientDerivedData:{ajaxStatus:n.ajaxRequestStatus.RESPONSE_RECEIVED,ajaxMatrixEntries:t.payload.clientMatrixEntries},data:babelHelpers.extends({},c,{departLabels:v,returnLabels:D}),ui:babelHelpers.extends({},e.ui,{enabledDepartLabelCount:v.filter(function(e){return!e.disabled}).length,enabledReturnLabelCount:D.filter(function(e){return!e.disabled}).length,predictionCellCount:P,standardCellCount:Object.keys(c.matrixEntries).length-P})});case h.RECEIVE_FLEX_PREDICTIONS_ERROR:return babelHelpers.extends({},e,{clientDerivedData:{ajaxStatus:n.ajaxRequestStatus.RESPONSE_ERROR}});default:return babelHelpers.extends({},N,e,{data:babelHelpers.extends({},N.data,e.data&&e.data.matrixEntries?e.data:{}),ui:babelHelpers.extends({},N.ui,e.ui,{hasBanner:e.config&&e.ui&&e.config.flexForAllEnabled&&i.displayModes.FLEX_FOR_ALL_BANNER===e.ui.displayMode})})}};var A=babelHelpers.interopRequireWildcard(t),L=babelHelpers.interopRequireWildcard(a),O=babelHelpers.interopRequireWildcard(r),h=babelHelpers.interopRequireWildcard(l),N=e.initialState={clientDerivedData:{ajaxStatus:n.ajaxRequestStatus.NO_REQUEST,ajaxMatrixEntries:null},config:{smallDisplayPrice:!1,flexForAllEnabled:!1,flexDatePredictionsEnabled:!1,priceCategoryConfig:{badPricePercentAboveAvg:70,calculateBestPrice:!0,calculateGoodPrice:!1,calculateBadPrice:!1,calculateWorstPrice:!0,goodPricePercentBelowAvg:30,maxCellsPerCategory:21,medianMaxAverageToBoundsRatio:3,minUniquePrices:3,minPriceRange:15}},data:(0,s.buildPlaceholderPollData)(),ui:{accordionOpen:void 0,defaultDatesSelected:!0,displayMode:i.displayModes.NONE,enabledDepartLabelCount:0,enabledReturnLabelCount:0,hasBanner:!1,hasNonstopToggle:!1,hoveredDepartCell:"",hoveredReturnCell:"",hoveredDepartAxis:"",hoveredReturnAxis:"",nonstopOnly:!1,predictionCellCount:0,standardCellCount:NaN,undoStopsFilterState:null}}});define("default/flights/results/react/reducers/NearbyAirportInsightsBannerReducer",["exports","flights/results/react/actions/NearbyAirportInsightsBannerActions","common/results/react/actions/SearchPollActions","flights/results/react/constants/InsightsBannerConstants"],function(e,t,a,n){"use strict";function r(e,t){var a=e.nearbyAirportInsightsBanner;return t.ui.nearbyRecommendationApplied?t.data:a&&n.bannerTypes.USE_PREVIOUS!==a.type?babelHelpers.extends({},d.data,a):t.data||d.data}function i(e,t){return void 0!==e?e:t}Object.defineProperty(e,"__esModule",{value:!0}),e.initialState=void 0,e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case s.SET_NEARBY_RECOMMENDATION_APPLIED:return babelHelpers.extends({},e,{ui:babelHelpers.extends({},e.ui,{nearbyRecommendationApplied:i(t.payload.nearbyRecommendationApplied,e.ui.nearbyRecommendationApplied),undoFilterState:i(t.payload.undoFilterState,e.ui.undoFilterState)})});case o.CLEAR_SEARCH:case o.INIT_POLLING:case o.UPDATE_START_SEARCH_PARAMS:return babelHelpers.extends({},e,d);case o.POLL_RESPONSE:case o.END_POLLING:return babelHelpers.extends({},e,{data:r(t.payload,e)});default:return babelHelpers.extends({},d,e)}};var s=babelHelpers.interopRequireWildcard(t),o=babelHelpers.interopRequireWildcard(a),d=e.initialState={data:{type:n.bannerTypes.DEFAULT,advantageType:n.advantageTypes.LOADING,recommendationType:n.genericRecommendationTypes.NONE,location:n.bannerLocations.RESULTS_TOP,destinationCode:"",lowestPrice:"",originCode:"",savings:""},ui:{nearbyRecommendationApplied:!1,undoFilterState:{}}}});define("default/flights/results/react/actions/FlexMatrixActions",["exports"],function(t){"use strict";function e(t){return{type:S,payload:{filterState:t}}}function a(t){return{type:_,payload:{accordionOpen:t}}}function r(){return{type:E,payload:{}}}function n(t,e){return{type:O,payload:{departId:t,returnId:e}}}function i(t,e){return{type:T,payload:{departId:t,returnId:e}}}function o(t){return{type:d,payload:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.setUndoStopsFilterState=e,t.updateAccordionState=a,t.dismissNotification=r,t.updateCellHoverState=n,t.updateAxisHoverState=i,t.updateNonstopOnlyState=o;var _=t.CHANGE_ACCORDION_STATE="FlexMatrix.CHANGE_ACCORDION_STATE",E=t.DISMISS_NOTIFICATION="FlexMatrix.DISMISS_NOTIFICATION",S=t.SET_UNDO_STOPS_FILTER_STATE="FlexMatrix.SET_UNDO_STOPS_FILTER_STATE",T=t.UPDATE_HOVERED_AXIS_LABEL="FlexMatrix.UPDATE_HOVERED_AXIS_LABEL",O=t.UPDATE_HOVERED_CELL="FlexMatrix.UPDATE_HOVERED_CELL",d=t.UPDATE_NONSTOP_ONLY="FlexMatrix.UPDATE_NONSTOP_ONLY"});define("default/common/utils/react/question",["exports","common/utils/react/events","common/utils/react/logger"],function(e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=babelHelpers.interopRequireDefault(n),o=babelHelpers.interopRequireDefault(r);e.default=function(){if("undefined"!=typeof R9&&R9.question)return R9.question;var e=new o.default("framework/question"),n={},r=function(e){return e.replace(/\./g,"_")};return{answer:function(t,o){var i=r(t);void 0!==n[i]&&e.error("Duplicate question name "+i+" is being overwritten."),"function"!=typeof o?e.error("Handler for answer is not a function"):n[i]=o},ask:function(o,i){var u=r(o);if(u||e.error("Missing question name - may cause weird stuff to happen"),"function"==typeof n[u])try{return n[u].call({questionName:u},i)}catch(n){e.error("Error in question.ask ("+u+")",n,{questionName:u})}return void 0!==t.default._debug&&e.warn('Missing question answer: "%s".  No component is registered to answer this question'.format(u)),null},forget:function(e){var t=r(e);return void 0!==n[t]&&(delete n[t],!0)}}}()});define("default/common/utils/react/events",["exports"],function(e){"use strict";function n(e){e&&e.preventDefault()}function t(e){e&&e.stopPropagation()}function o(e){e&&(e.stopPropagation(),e.preventDefault())}Object.defineProperty(e,"__esModule",{value:!0}),e.preventDefault=n,e.stopPropagation=t,e.cancelEvent=o,e.default=function(){if("undefined"!=typeof R9&&R9.events)return R9.events;var e=function(){};return{publish:e,subscribe:function(){var e=function(){return console.warn("subscription events not supported when R9 is not available")};return e.priority=null,e},unsubscribe:e,when:e,ready:e,unready:e}}()});define("default/flights/results/react/reducers/FlexForAllInsightsBannerReducer",["exports","common/results/react/actions/SearchPollActions","common/results/filters/react/reducers/FilterStateReducer","flights/results/react/actions/FlexMatrixActions","flights/results/react/constants/InsightsBannerConstants","flights/results/react/constants/FlexForAllInsightsContants"],function(e,t,a,l,s,r){"use strict";function i(e,t){return e.depart_date_flex?t.config.flexForAllBannerEnabled&&"exact"===e.depart_date_flex&&!e.isMulticity:t.ui.shouldDisplay}function n(e,t){return e.flex_category?t.config.flexForAllBannerEnabled&&"exact"===e.flex_category&&!e.isMulticity:t.ui.shouldDisplay}function o(e,t){return e.flexForAllInsightsBanner&&s.bannerTypes.USE_PREVIOUS!==e.flexForAllInsightsBanner.type?!e.flexForAllInsightsBanner.queryDatesSelected&&Object.keys(e.filtersData).filter(function(e){return!["flexdepart","flexreturn"].includes(e)}).every(function(a){return t.private.filtersData[a]&&!e.filtersData[a].isUserManipulated&&!t.private.filtersData[a].isUserManipulated})?t.data:babelHelpers.extends({},f.data,e.flexForAllInsightsBanner):t.data||f.data}function d(e,t){return!!t.ui.shouldDisplay&&(e&&e.resultsChanged&&e.flexForAllInsightsBanner?e.filteredCount>0&&e.resultsChanged&&e.flexForAllInsightsBanner.recommendationType!==r.flexRecommendationTypes.NONE&&c.anyFilterAppliedFromFiltersData(e.filtersData):t.ui.hasNotification)}Object.defineProperty(e,"__esModule",{value:!0}),e.initialState=void 0,e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.DISMISS_NOTIFICATION:return babelHelpers.extends({},e,{ui:babelHelpers.extends({},e.ui,{hasNotification:!1})});case u.CLEAR_SEARCH:case u.INIT_POLLING:case u.UPDATE_START_SEARCH_PARAMS:return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,f.data),private:{filtersData:{},isFlex:t.payload.isFlex},ui:babelHelpers.extends({},e.ui,{hasNotification:!1,shouldDisplay:i(t.payload,e)})});case u.POLL_RESPONSE:case u.END_POLLING:return babelHelpers.extends({},e,{data:o(t.payload,e),private:babelHelpers.extends({},e.private,{filtersData:t.payload.filtersData||e.private.filtersData}),ui:babelHelpers.extends({},e.ui,{hasNotification:d(t.payload,e),shouldDisplay:n(t.payload,e)})});default:return babelHelpers.extends({},f,e)}};var u=babelHelpers.interopRequireWildcard(t),c=babelHelpers.interopRequireWildcard(a),p=babelHelpers.interopRequireWildcard(l),f=e.initialState={config:{flexForAllBannerEnabled:!1},data:{type:s.bannerTypes.FLEX_FOR_ALL,advantageType:s.advantageTypes.LOADING,recommendationType:r.flexRecommendationTypes.NONE,location:s.bannerLocations.FLEX_MATRIX,disableNonstopToggle:!1,departFilterValue:"",returnFilterValue:"",subheadingDateRange:"",departDaysAway:0,returnDaysAway:0,queryDatesSelected:!0,savingsMissedThreshold:!1},private:{filtersData:{},isFlex:!1},ui:{hasNotification:!1,shouldDisplay:!1}}});define("default/common/results/react/reducers/SearchPollListenerReducer",["exports","common/utils/react/ImmutableObjectUtils","common/results/react/constants/SearchPollConstants","common/results/react/actions/SearchPollActions"],function(e,t,s,a){"use strict";function l(e){return e.error?e.searchExpired?s.searchPollStatus.SEARCH_EXPIRED:s.searchPollStatus.SEARCH_ERROR:e.completed?0===e.filteredCount?s.searchPollStatus.NO_RESULTS:s.searchPollStatus.SEARCH_FINISHED:e.searchStartedThisPoll?s.searchPollStatus.FIRST_PHASE:e.isFirstPhaseCompleted?s.searchPollStatus.SECOND_PHASE:s.searchPollStatus.FIRST_PHASE}Object.defineProperty(e,"__esModule",{value:!0}),e.initialState=void 0,e.getPollStatus=l,e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=void 0;switch(a.type){case r.CLEAR_SEARCH:return o;case r.INIT_POLLING:return babelHelpers.extends({},o,(0,t.omit)(a.payload,n),{noResults:!1,status:s.searchPollStatus.SEARCH_STARTED});case r.UPDATE_START_SEARCH_PARAMS:return babelHelpers.extends({},e,(0,t.omit)(a.payload,n));case r.POLL_RESPONSE:return i=l(a.payload),babelHelpers.extends({},e,(0,t.omit)(a.payload,n),{noResults:[s.searchPollStatus.NO_RESULTS,s.searchPollStatus.SEARCH_ERROR].includes(i),status:i});case r.END_POLLING:return i=l(a.payload),babelHelpers.extends({},o,e,(0,t.omit)(a.payload,n),{noResults:[s.searchPollStatus.NO_RESULTS,s.searchPollStatus.SEARCH_ERROR].includes(i),status:l(a.payload)});default:return babelHelpers.extends({},e,{resultsChanged:e===o})}};var r=babelHelpers.interopRequireWildcard(a),o=e.initialState={activeCabin:"e",completed:!1,depart_date_canon:"",destination:"",destinationId:"",firstPhaseCompleted:!1,flexCategory:"",isFlex:!1,isMulticity:!1,isOneWay:!1,isRoundTrip:!0,noResults:!1,origin:"",originId:"",pageNumber:1,resultsChanged:!0,return_date_canon:"",status:s.searchPollStatus.NO_SEARCH},n=["averagePriceInsightsBanner","insightsBanner","filtersData","flexForAllInsightsBanner","flexMatrix"]});define("default/common/results/react/constants/ResultsPageConstants",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.RP_QUESTION_FILTER_DATA="resultspage_filterData_get",e.RP_QUESTION_FILTER_STATE="resultspage_filterState_is"});define("default/moment",["exports","module","context"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{get:function(){return!0},set:function(){}}),t.exports=moment});define("default/flights/results/react/utils/FlexMatrixClientPredictionUtils",["exports","moment","flights/results/react/constants/FlexMatrixConstants","common/react/constants/globals"],function(e,r,t,a){"use strict";function n(e,r){var t=e.reduce(function(e,r){return e+r},0)/e.length;if(t){var a=e[0],n=e[e.length-1];return{max:n,mean:t,min:a,midPrice:t-a>(n-t)*r.medianMaxAverageToBoundsRatio||n-t>(t-a)*r.medianMaxAverageToBoundsRatio?e[Math.floor(e.length/2)]:t}}return null}function i(e,r,t){var a=r.minPriceRange,n=r.minUniquePrices;if(!e)return null;var i=Object.values(e).map(function(e){return e[t].price}).filter(function(e){return e>0});if(!i.length)return null;var o=new Set(null);if(i.forEach(function(e){return o.add(e)}),o.size<n)return null;var c=[].concat(babelHelpers.toConsumableArray(i)).sort();return c[c.length-1]-c[0]<a?null:c}function o(e,r,t){var a,o=i(e,r,t);if(!o)return null;var c=(a={},babelHelpers.defineProperty(a,y,NaN),babelHelpers.defineProperty(a,_,NaN),babelHelpers.defineProperty(a,E,NaN),babelHelpers.defineProperty(a,R,NaN),a),l=r.badPricePercentAboveAvg,u=r.calculateBestPrice,s=r.calculateGoodPrice,f=r.calculateBadPrice,m=r.calculateWorstPrice,A=r.goodPricePercentBelowAvg,d=r.maxCellsPerCategory,p=NaN,v=NaN,g=0,D=0;if(s||f){var S=n(o,r);S&&(s&&(p=S.midPrice-(S.midPrice-S.min)*(A/100)),f&&(v=S.midPrice-(S.midPrice-S.min)*(l/100)))}return o.forEach(function(e,r,t){m&&0===r?c[R]=e:u&&r===t.length-1?c[y]=e:s&&e<=p?(c[_]=e,g+=1):f&&e>=v&&(c[E]=c[E]||e,D+=1)}),s&&g>d&&(c[_]=NaN),f&&D>d&&(c[E]=NaN),c}function c(e,r){return e<=r[y]?y:e<=r[_]?_:e>=r[E]?E:e>=r[R]?R:v}function l(e,r){var t=r.priceCategoryConfig,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"allFlights",n=o(e,t,a);if(!n)return e;var i={};return Object.keys(e).forEach(function(r){i[r]=babelHelpers.extends({},e[r],babelHelpers.defineProperty({},a,babelHelpers.extends({},e[r][a],{priceCategory:c(e[r].price,n)})))}),i}function u(e,r){var t={queryDate:{key:null,price:null},cheapestFlexDate:{key:null,price:null}};return Object.keys(e).forEach(function(a){var n=e[a][r];n&&n.price>0&&(e[a].queryDate?t.queryDate={key:a,price:n.price}:(!t.cheapestFlexDate.price||n.price<t.cheapestFlexDate.price)&&(t.cheapestFlexDate={key:a,price:n.price}))}),t}function s(e,r){var t=e-r;return R9&&R9.Common?R9.Common.Utils.formatPrice(t):t}function f(e,r,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"allFlights";if(!e)return"";var i=u(e,n),o=i.cheapestFlexDate,c=i.queryDate;if(!(o.key&&o.price&&c.key&&c.price))return"";var l=e[o.key],f=1-o.price/c.price;if(f<=0){if(-1*f>g(0,r)){var m=s(l[n].price,c.price);return a[t.recommendationStringKeys.TAB_ALREADY_CHEAPEST_DATES].value(m)}return a[t.recommendationStringKeys.TAB_ALL_SIMILAR_DATES].value()}var A=Math.abs(l.departDaysAway),d=Math.abs(l.returnDaysAway),y=Math.max(A,d),_=c.price-o.price,E=r[t.recommendationConfigKeys.MIN_SAVINGS_ABSOLUTE_USD](5)*(p.default.currencyConversionRates.fromUSD||1);if(f>g(y,r)&&_>E){var R=s(c.price,l[n].price);if(0!==l.departDaysAway&&0!==l.returnDaysAway)return a[t.recommendationStringKeys.TAB_CHEAPER_DEPART_RETURN].value(R);if(0!==l.departDaysAway)return l.departDaysAway<0?a[t.recommendationStringKeys.TAB_CHEAPER_DEPART_AFTER].value(A,R):a[t.recommendationStringKeys.TAB_CHEAPER_DEPART_BEFORE].value(A,R);if(0!==l.returnDaysAway)return l.returnDaysAway<0?a[t.recommendationStringKeys.TAB_CHEAPER_RETURN_AFTER].value(d,R):a[t.recommendationStringKeys.TAB_CHEAPER_RETURN_BEFORE].value(d,R)}else{var v=D(y,r);if(v&&f>v)return a[t.recommendationStringKeys.TAB_CHEAPER_LIMITED_SAVINGS].value()}return a[t.recommendationStringKeys.TAB_ALL_SIMILAR_DATES].value()}function m(e){if(!e)return"";var r=e,a=(0,d.default)(e,t.flexFilterDateFormat);return p.default.dateFormats.dayOfWeek&&(r=a.format(p.default.dateFormats.dayOfWeek)),'<span style="white-space: nowrap">'+r+"</span>"}function A(e,r,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"allFlights";if(!e)return"";var i=u(e,n),o=i.cheapestFlexDate,c=i.queryDate;if(!(o.key&&o.price&&c.key&&c.price))return"";var l=1-o.price/c.price;if(l<=0)return"";var s=e[o.key],f=Math.max(Math.abs(s.departDaysAway),Math.abs(s.returnDaysAway));if(l>g(f,r)){var A=m(s.departFilterValue),d=m(s.returnFilterValue),p=s[n].price,y=R9&&R9.Common&&R9.Common.Utils?R9.Common.Utils.formatPrice(p):p;return d&&A!==d?a[t.recommendationStringKeys.TAB_FLEX_SEARCH_RECOMMENDED_RT].value(A,d,y):a[t.recommendationStringKeys.TAB_FLEX_SEARCH_RECOMMENDED_OW].value(A,y)}return""}Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixEntryPriceCategories=l,e.findPredictedExactDateRecommendation=f,e.findPredictedFlexDateRecommendation=A;var d=babelHelpers.interopRequireDefault(r),p=babelHelpers.interopRequireDefault(a),y=t.priceCategories.BEST_PRICE,_=t.priceCategories.GOOD_PRICE,E=t.priceCategories.BAD_PRICE,R=t.priceCategories.WORST_PRICE,v=t.priceCategories.DEFAULT,g=function(e,r){switch(e){case 1:return r[t.recommendationConfigKeys.MIN_SAVINGS_ONE_DAY_AWAY](.05);case 2:return r[t.recommendationConfigKeys.MIN_SAVINGS_TWO_DAYS_AWAY](.1);case 3:return r[t.recommendationConfigKeys.MIN_SAVINGS_THREE_DAYS_AWAY](.15);case 0:default:return r[t.recommendationConfigKeys.MIN_SAVINGS_QUERY_DATES](.05)}},D=function(e,r){switch(e){case 2:return r[t.recommendationConfigKeys.MIN_SAVINGS_MINOR_TWO_DAYS_AWAY](.05);case 3:return r[t.recommendationConfigKeys.MIN_SAVINGS_MINOR_THREE_DAYS_AWAY](.05);default:return NaN}}});define("default/common/results/react/reducers/WatchlistReducer",["exports","common/results/react/actions/WatchlistActions"],function(e,t){"use strict";function r(e,t){var r=babelHelpers.extends({},e);return r[t.vertical]=[].concat(t.watchList),r}function n(e,t){var r=t.vertical,n=t.item,s=babelHelpers.extends({},e);return s[r]=[].concat(s[r]),s[r].filter(function(e){return e.resultId===n.resultId}).length||s[r].push(n),s}function s(e,t){var r=t.vertical,n=t.resultId,s=t.isPaused,a=t.alertId,c=babelHelpers.extends({},e);return c[r]=[].concat(c[r]),c[r].forEach(function(e,t){n===e.resultId&&(c[r][t]=babelHelpers.extends({},e,{isPaused:s,alertId:a}))}),c}function a(e,t){var r=t.vertical,n=t.resultId,s=babelHelpers.extends({},e);return s[r]=[].concat(s[r]).filter(function(e){return e.resultId!==n}),s}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=l.type,i=l.payload;switch(u){case t.UPDATE_WATCHLIST:return r(e,i);case t.ADD_TO_WATCHLIST:return n(e,i);case t.TOGGLE_ITEM_STATE:return s(e,i);case t.REMOVE_FROM_WATCHLIST:return a(e,i);default:return e}};var c={hotels:[],flights:[],cars:[],packages:[],trains:[],rentals:[]}});define("default/flights/results/react/constants/FlexForAllInsightsContants",["exports","prop-types","flights/results/react/constants/InsightsBannerConstants"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.flexInsightsBannerShape=e.flexRecommendationTypes=void 0;var s=babelHelpers.interopRequireDefault(t),a=e.flexRecommendationTypes=babelHelpers.extends({},n.genericRecommendationTypes,{DEPART_BEFORE:"DEPART_BEFORE",DEPART_AFTER:"DEPART_AFTER",RETURN_BEFORE:"RETURN_BEFORE",RETURN_AFTER:"RETURN_AFTER",BOTH:"BOTH"});e.flexInsightsBannerShape={data:s.default.shape(babelHelpers.extends({},n.genericInsightsBannerDataShape,{departDaysAway:s.default.number,displaySavings:s.default.string,recommendationType:s.default.oneOf(Object.values(a)).isRequired,recommendedDates:s.default.string,returnDaysAway:s.default.number})),ui:s.default.shape(n.genericInsightsBannerUiShape)}});define("default/prop-types", ["exports","module","context"], function (exports, module, context) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    get: function() { return true; },
    set: function() {}
});



!function(e,r){for(var t in r)e[t]=r[t]}(exports,function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var t={};return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=0)}([function(e,r,t){"use strict";e.exports=t(1)()},function(e,r,t){"use strict";function n(){}function o(){}var c=t(2);o.resetWarningCache=n,e.exports=function(){function e(e,r,t,n,o,a){if(a!==c){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function r(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:o,resetWarningCache:n};return t.PropTypes=t,t}},function(e,r,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}]));
});
define("default/flights/results/react/reducers/AveragePriceInsightsBannerReducer",["exports","common/results/react/actions/SearchPollActions","flights/results/react/actions/SearchPredictionsAjaxActions","flights/results/react/constants/AveragePriceInsightsConstants","flights/results/react/constants/InsightsBannerConstants","flights/results/react/utils/AveragePriceInsightsBannerUtils"],function(e,a,t,r,i,n){"use strict";function s(e,a){return e.averagePriceInsightsBanner&&i.bannerTypes.USE_PREVIOUS!==e.averagePriceInsightsBanner.type?babelHelpers.extends({},d.data,e.averagePriceInsightsBanner):a.data||d.data}Object.defineProperty(e,"__esModule",{value:!0}),e.initialState=void 0,e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case l.REQUEST_MONTH_PRICES:return babelHelpers.extends({},e,{clientDerivedData:babelHelpers.extends({},e.clientDerivedData,{ajaxStatus:i.ajaxRequestStatus.REQUEST_PENDING})});case l.RECEIVE_MONTH_PRICE:var t=(0,n.getAbsolutePricePercentDifference)(e.data.cheapestSearchPrice,a.payload.price);return babelHelpers.extends({},e,{clientDerivedData:babelHelpers.extends({},e.clientDerivedData,{advantageType:(0,n.getClientDerivedAdvantageType)(e,e.data.cheapestSearchPrice,a.payload.price),ajaxStatus:i.ajaxRequestStatus.RESPONSE_RECEIVED,averagePrice:a.payload.price,averagePriceDisplay:a.payload.displayPrice,averagePriceMonths:a.payload.displayMonths,pricePercentDifference:t,recommendationType:(0,n.getClientDerivedRecommendationType)(e.data.cheapestSearchPrice,a.payload.price,t,e.config.averagePricePercentThreshold)})});case l.RECEIVE_NO_MONTH_PRICES:return babelHelpers.extends({},e,{clientDerivedData:babelHelpers.extends({},e.clientDerivedData,{advantageType:r.averagePriceAdvantageTypes.NONE,ajaxStatus:i.ajaxRequestStatus.RESPONSE_RECEIVED,averagePrice:a.payload.price,averagePriceDisplay:"",averagePriceMonths:[],pricePercentDifference:NaN,recommendationType:r.averagePriceRecommendationTypes.NONE}),ui:{shouldDisplay:!1}});case l.RECEIVE_MONTH_PRICE_ERROR:return babelHelpers.extends({},e,{clientDerivedData:babelHelpers.extends({},e.clientDerivedData,{advantageType:r.averagePriceAdvantageTypes.ERROR,ajaxStatus:i.ajaxRequestStatus.RESPONSE_ERROR,averagePrice:a.payload.price,averagePriceDisplay:"",averagePriceMonths:[],pricePercentDifference:NaN,recommendationType:r.averagePriceRecommendationTypes.NONE}),ui:{shouldDisplay:!1}});case c.CLEAR_SEARCH:case c.INIT_POLLING:case c.UPDATE_START_SEARCH_PARAMS:return babelHelpers.extends({},e,{clientDerivedData:babelHelpers.extends({},d.clientDerivedData,{ajaxStatus:e.clientDerivedData.ajaxStatus!==i.ajaxRequestStatus.REQUEST_PENDING?i.ajaxRequestStatus.START_REQUEST:e.clientDerivedData.ajaxStatus,recommendationType:r.averagePriceRecommendationTypes.NONE}),data:babelHelpers.extends({},e.data,d.data,{type:e.config.averagePriceBannerEnabled?i.bannerTypes.AVERAGE_PRICE:i.bannerTypes.DEFAULT}),private:{isFlex:a.payload.isFlex},ui:{shouldDisplay:e.config.averagePriceBannerEnabled&&!a.payload.isMulticity}});case c.POLL_RESPONSE:case c.END_POLLING:var p=a.payload.averagePriceInsightsBanner||e.data,o=(0,n.getAbsolutePricePercentDifference)(p.cheapestSearchPrice,e.clientDerivedData.averagePrice),v=(0,n.getClientDerivedAdvantageType)(e,p.cheapestSearchPrice,e.clientDerivedData.averagePrice,a.payload.completed);return babelHelpers.extends({},e,{clientDerivedData:babelHelpers.extends({},e.clientDerivedData,{advantageType:v,pricePercentDifference:o,recommendationType:(0,n.getClientDerivedRecommendationType)(p.cheapestSearchPrice,e.clientDerivedData.averagePrice,o,e.config.averagePricePercentThreshold)}),data:s(a.payload,e),private:{isFlex:a.payload.isFlex},ui:{shouldDisplay:e.ui.shouldDisplay&&!i.advantageTypeGroups.NO_DATA.includes(v)}});default:return babelHelpers.extends({},d,e)}};var c=babelHelpers.interopRequireWildcard(a),l=babelHelpers.interopRequireWildcard(t),d=e.initialState={clientDerivedData:{advantageType:r.averagePriceAdvantageTypes.LOADING,ajaxStatus:i.ajaxRequestStatus.NO_REQUEST,averagePrice:void 0,averagePriceDisplay:"",averagePriceMonths:[],pricePercentDifference:NaN,recommendationType:r.averagePriceRecommendationTypes.NONE},config:{averagePriceBannerEnabled:!1,averagePricePercentThreshold:NaN},data:{type:i.bannerTypes.DEFAULT,advantageType:r.averagePriceAdvantageTypes.LOADING,cheapestSearchPrice:null,recommendationType:r.averagePriceRecommendationTypes.NONE,location:i.bannerLocations.RESULTS_TOP},private:{isFlex:!1},ui:{shouldDisplay:!1}}});define("default/flights/results/react/constants/InsightsBannerConstants",["exports","prop-types"],function(e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.genericInsightsBannerUiShape=e.genericInsightsBannerDataShape=e.ajaxRequestStatus=e.genericRecommendationTypes=e.advantageTypeGroups=e.advantageTypes=e.bannerTypes=e.bannerLocations=void 0;var R=babelHelpers.interopRequireDefault(E),S=e.bannerLocations={RESULTS_TOP:"RESULTS_TOP",FLEX_MATRIX:"FLEX_MATRIX"},a=(e.bannerTypes={DEFAULT:"DEFAULT",FLEX_FOR_ALL:"FLEX_FOR_ALL",NEARBY_AIRPORTS:"NEARBY_AIRPORTS",AVERAGE_PRICE:"AVERAGE_PRICE",USE_PREVIOUS:"USE_PREVIOUS"},e.advantageTypes={ALREADY_BEST:"ALREADY_BEST",ALL_SAME:"ALL_SAME",SAVINGS:"SAVINGS",NONSTOP:"NONSTOP",NONSTOP_SAVINGS:"NONSTOP_SAVINGS",LOADING:"LOADING",ERROR:"ERROR",NONE:"NONE",DEFAULT:"DEFAULT"});e.advantageTypeGroups={NO_DATA:[a.LOADING,a.NONE,a.ERROR],NO_ADVANTAGE:[a.NONE,a.ERROR],NONSTOP:[a.NONSTOP,a.NONSTOP_SAVINGS],WITH_RECOMMENDATIONS:[a.SAVINGS,a.NONSTOP,a.NONSTOP_SAVINGS,a.ALREADY_BEST,a.ALL_SAME]},e.genericRecommendationTypes={NONE:"NONE"},e.ajaxRequestStatus={NO_REQUEST:"NO_REQUEST",START_REQUEST:"START_REQUEST",REQUEST_PENDING:"REQUEST_PENDING",RESPONSE_RECEIVED:"RESPONSE_RECEIVED",RESPONSE_ERROR:"RESPONSE_ERROR"},e.genericInsightsBannerDataShape={advantageType:R.default.oneOf(Object.values(a)).isRequired,location:R.default.oneOf(Object.values(S)).isRequired,type:R.default.string.isRequired},e.genericInsightsBannerUiShape={nearbyRecommendationApplied:R.default.bool.isRequired,undoFilterState:R.default.object.isRequired}});define("default/common/react/constants/globals",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={DOWN:40,END:35,ESC:27,HOME:36,LEFT:37,MOUSE_LEFT:1,MOUSE_MIDDLE:2,MOUSE_RIGHT:3,PAGE_DOWN:34,PAGE_UP:33,RETURN:13,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38},o={keyCodeSets:{SELECT:[t.MOUSE_LEFT,t.ENTER],SCROLL:[t.HOME,t.PAGE_UP,t.PAGE_DOWN,t.END],ARROW_KEYS:[t.UP,t.RIGHT,t.DOWN,t.LEFT],MOUSE_BUTTONS:[t.MOUSE_LEFT,t.MOUSE_MIDDLE,t.MOUSE_RIGHT]}},E=function(){return"undefined"!=typeof R9?babelHelpers.extends({},R9.globals,o):(console.warn("globals not available without R9 context. Global objects and arrays have been mocked to prevent exceptions"),babelHelpers.extends({analytics:{},browserCapabilities:{},currencyConversionRates:{},dateFormats:{isoDate:"YYYY-MM-DD"},features:[],keyCodes:t,breakPoints:{xs:320,s:568,m:768,l:1024,xl:1280},locale:{},optimizeExperiments:[],uiconfig:{}},o))}();e.default=E});define("default/common/results/react/constants/SearchPollConstants",["exports"],function(E){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var S=E.searchPollStatus={NO_SEARCH:"NO_SEARCH",SEARCH_STARTED:"SEARCH_STARTED",FIRST_PHASE:"FIRST_PHASE",SECOND_PHASE:"SECOND_PHASE",SEARCH_FINISHED:"SEARCH_FINISHED",NO_RESULTS:"NO_RESULTS",SEARCH_EXPIRED:"SEARCH_EXPIRED",SEARCH_ERROR:"SEARCH_ERROR"};E.inProgressStatuses=[S.SEARCH_STARTED,S.FIRST_PHASE,S.SECOND_PHASE],E.noResultStatuses=[S.NO_RESULTS,S.SEARCH_EXPIRED,S.SEARCH_ERROR],E.searchStartRequiredParams=["origin","destination","depart_date_canon"],E.endSearchReasons={COMPLETED:"completed",SECOND_PHASE_TIMEOUT:"2ftimeout",ERROR:"error"}});define("default/flights/results/react/constants/AveragePriceInsightsConstants",["exports","prop-types","flights/results/react/constants/InsightsBannerConstants"],function(e,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.averagePriceInsightsBannerShape=e.averagePriceRecommendationTypes=e.averagePriceAdvantageTypeGroups=e.averagePriceAdvantageTypes=void 0;var s=babelHelpers.interopRequireDefault(a),E=e.averagePriceAdvantageTypes=babelHelpers.extends({},t.advantageTypes,{FLEX_SEARCH_LET_THE_USER_DECIDE:"FLEX_SEARCH_LET_THE_USER_DECIDE",LOADING_AVERAGE_PRICE:"LOADING_AVERAGE_PRICE",LOADING_SEARCH_PRICE:"LOADING_SEARCH_PRICE"}),r=(e.averagePriceAdvantageTypeGroups={ANY_LOADING:[t.advantageTypes.LOADING,E.LOADING_AVERAGE_PRICE,E.LOADING_SEARCH_PRICE],HIDE_IF_AJAX_FINISHED:[].concat(babelHelpers.toConsumableArray(t.advantageTypeGroups.NO_ADVANTAGE),[E.LOADING,E.LOADING_AVERAGE_PRICE])},e.averagePriceRecommendationTypes=babelHelpers.extends({},t.genericRecommendationTypes,{ABOVE_AVERAGE_PRICE:"ABOVE_AVERAGE_PRICE",AVERAGE_PRICE:"AVERAGE_PRICE",BELOW_AVERAGE_PRICE:"BELOW_AVERAGE_PRICE",DEFER_CLIENT_SIDE:"DEFER_CLIENT_SIDE"}));e.averagePriceInsightsBannerShape={clientDerivedData:s.default.shape({advantageType:s.default.oneOf(Object.values(E)).isRequired,ajaxStatus:s.default.oneOf(Object.values(t.ajaxRequestStatus)).isRequired,averagePrice:s.default.number.isRequired,recommendationType:s.default.oneOf(Object.values(r)).isRequired}),data:s.default.shape(babelHelpers.extends({},t.genericInsightsBannerDataShape,{cheapestSearchPrice:s.default.number.isRequired})),ui:s.default.shape(t.genericInsightsBannerUiShape)}});define("default/common/react/reducers/PageGlobals",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,e};var t=[]});define("default/flights/results/react/actions/SearchPredictionsAjaxActions",["exports","moment","property!ui.horizon.api.origin.override","property!horizon.flights.results.insightsBanner.monthAverage.api.url","common/react/constants/globals","common/utils/react/logger","common/utils/react/events","flights/results/react/utils/FlexMatrixClientBuilder"],function(e,r,t,n,i,o,a,u){"use strict";function c(){return{type:F,payload:{}}}function s(e){return{type:x,payload:e}}function E(){return{type:V,payload:{price:-1}}}function l(){return{type:A,payload:{price:-1}}}function f(){return{type:F,payload:{}}}function R(e){return{type:j,payload:{clientMatrixEntries:e}}}function _(){return{type:q,payload:{price:-1}}}function d(){if(!w){var e=(0,t.getString)()||window.location.origin;w=e+"/"+(0,n.getString)()}return w}function p(e){var r=e.depart_date_canon,t=e.return_date_canon,n=(0,T.default)(r,b.default.dateFormats.isoDate).get("month")+1,i=[n];if(t){var o=(0,T.default)(t,b.default.dateFormats.isoDate).get("month")+1;n!==o&&i.push(o)}return i}function I(e,r,t){var n=function(e){return e.month===r},i=void 0;if(0===t)i=e.monthAverage.find(n);else{var o=e.monthAverage.filter(n);i=o[t]||o[0]}return i&&"number"==typeof i.average&&i.average>0?i.average:-1}function C(e,r){var t=p(r.SearchPoll),n=Math.round(t.map(function(r,t){return I(e,r,t)}).reduce(function(e,r){return e+(r>0?r:0)},0)/t.length);if(n>0){var i=t.map(function(e){return(0,T.default)(e,"M").format("MMMM")});return{displayPrice:R9&&R9.Common?R9.Common.Utils.formatPrice(n):""+n,displayMonths:i,price:n}}return null}function h(e,r,t){var n=e.insights,i=void 0;n&&Object.keys(n).length&&(i=C(n,t)),r(i?s(i):E())}function S(e,r,t){var n=e.insights,i=n.flexDayPredictions;r(R(i?D.buildPredictedMatrixEntries(i,t):null))}function g(e,r){new y.default("flights/results/SearchPredictionsAjaxActions").error("Error in Search Insights average month prices request: "+e),r.reject()}function P(e){var r=e.SearchPoll,t=r.origin,n=r.destination,i=r.depart_date_canon,o=r.return_date_canon,a=r.isOneWay,u=$.Deferred();if(!t||!n||!i)return u.reject();var c=t+"_"+n+"_"+i+"_"+o;if(U[c])return u.resolve(U[c]);var s={origin:t,destination:n,startDate:i};return a||(s.endDate=o),$.getJSON(d(),s).then(function(e){e.success?(U[c]=e,u.resolve(e)):g(e.error,u),"object"===babelHelpers.typeof(e.warnings)&&e.warnings.length&&new y.default("flights/results/SearchPredictionsAjaxActions").warn("Average price request returned warnings:\n"+e.warnings.join("\n"))}).catch(function(){return g("JSON Request from "+d()+" failed.",u)}),u}function v(){return function(e,r){e(c()),P(r()).then(function(t){return h(t,e,r())}).catch(function(){return e(l())})}}function O(e,r,t){e.error?_():S(e,r,t())}function m(){return function(e,r){function t(n){O(n,e,r),M.default.unsubscribe(L,t)}if(e(f()),X){X=!1;var n=void 0,i=function(e){n=e};if(M.default.when(L,i),M.default.unsubscribe(L,i),n)return void O(n,e,r)}M.default.subscribe(L,t)}}function N(){return function(e,r){e(f()),P(r()).then(function(t){return S(t,e,r())}).catch(function(){return e(_())})}}Object.defineProperty(e,"__esModule",{value:!0}),e.RECEIVE_FLEX_PREDICTIONS_ERROR=e.RECEIVE_FLEX_PREDICTIONS_SUCCESS=e.REQUEST_FLEX_PREDICTIONS=e.RECEIVE_MONTH_PRICE_ERROR=e.RECEIVE_NO_MONTH_PRICES=e.RECEIVE_MONTH_PRICE=e.REQUEST_MONTH_PRICES=void 0,e.requestPrice=c,e.receiveResponse=s,e.receiveNoPrediction=E,e.receiveMonthPriceError=l,e.requestFlexDates=f,e.receiveFlexPredictionSuccess=R,e.receiveFlexPredictionError=_,e.fetchAveragePrice=v,e.listenFlexDatePredictions=m,e.fetchFlexDatePredictions=N;var T=babelHelpers.interopRequireDefault(r),b=babelHelpers.interopRequireDefault(i),y=babelHelpers.interopRequireDefault(o),M=babelHelpers.interopRequireDefault(a),D=babelHelpers.interopRequireWildcard(u),H="SearchPredictionsAjaxActions.",F=e.REQUEST_MONTH_PRICES=H+"REQUEST_MONTH_PRICES",x=e.RECEIVE_MONTH_PRICE=H+"RECEIVE_MONTH_PRICE",V=e.RECEIVE_NO_MONTH_PRICES=H+"RECEIVE_NO_MONTH_PRICES",A=e.RECEIVE_MONTH_PRICE_ERROR=H+"RECEIVE_MONTH_PRICE_ERROR",j=(e.REQUEST_FLEX_PREDICTIONS=H+"REQUEST_FLEX_PREDICTIONS",e.RECEIVE_FLEX_PREDICTIONS_SUCCESS=H+"RECEIVE_FLEX_PREDICTIONS_SUCCESS"),q=e.RECEIVE_FLEX_PREDICTIONS_ERROR=H+"RECEIVE_FLEX_PREDICTIONS_ERROR",w=void 0,U={},L="flights.results.insights.predictions.response",X=!0});define("default/common/results/filters/react/reducers/FilterStateReducer",["exports","common/results/filters/react/actions/FilterStateActions","common/results/react/actions/SearchPollActions"],function(e,t,a){"use strict";function l(e){return Object.keys(e).some(function(t){return e[t]&&e[t].isUserManipulated&&!p.includes(t)})}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],a=arguments[2];return{anyFilterApplied:l(e),filtersChanged:!a||void 0!==a.filteredCount&&a.filteredCount!==t.data.filteredCount,flexFilterApplied:e.flexdepart&&e.flexdepart.isDirty||e.flexreturn&&e.flexreturn.isDirty,pendingFilterData:e&&Object.keys(e).length?{}:t.ui.pendingFilterData}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{anyFilterApplied:Object.keys(e).some(function(t){return e[t]&&e[t].isUserManipulated&&!p.includes(t)}),filtersChanged:Object.keys(e).some(function(e){return e&&!p.includes(e)&&(!t[e]||e.isUserManupulated!==t[e].isUserManupulated)}),flexFilterApplied:e.flexdepart&&e.flexdepart.isDirty||e.flexreturn&&e.flexreturn.isDirty,pendingFilterData:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.initialState=void 0,e.anyFilterAppliedFromFiltersData=l,e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=void 0;switch(t.type){case n.CLEAR_SEARCH:case n.INIT_POLLING:return babelHelpers.extends({},t.payload.preserveFilters&&e.data?e:s,{ui:babelHelpers.extends({},s.ui,t.payload.preserveFilters&&e.ui?e.ui:{},{pendingFilterData:{}})});case n.POLL_RESPONSE:return a=babelHelpers.extends({},e.data,t.payload.filtersData||t.payload.data,{filteredCount:t.payload.filteredCount||e.data.filteredCount}),babelHelpers.extends({},e,{data:a,ui:r(a,e,t.payload)});case d.UPDATE_FILTER_DATA:return a=babelHelpers.extends({},e.data,t.payload.data),babelHelpers.extends({},e,{data:a,ui:i(a,e.data)});case d.ANY_FILTERS_CHANGED:return babelHelpers.extends({},e,{ui:babelHelpers.extends({},e.ui,{filtersChanged:!t.payload.data.reset&&!p.includes(t.payload.data.name)&&!!t.payload.data.changeData})});case d.FILTER_RESET_PENDING:return babelHelpers.extends({},e,{data:babelHelpers.extends({},e.data,t.payload.data),ui:{anyFilterApplied:!1,filtersChanged:!1,flexFiltersApplied:e.ui.flexFiltersApplied,pendingFilterData:t.payload.data}});default:return babelHelpers.extends({},s,e)}};var d=babelHelpers.interopRequireWildcard(t),n=babelHelpers.interopRequireWildcard(a),s=e.initialState={data:{filteredCount:0,flexdepart:{valueMap:{}},flexreturn:{valueMap:{}}},ui:{anyFilterApplied:!1,filtersChanged:!1,flexFilterApplied:!1,pendingFilterData:{}}},p=["flexdepart","flexreturn","baditin","bfc","cfc","pfc"]});define("default/common/results/react/actions/WatchlistActions",["exports"],function(t){"use strict";function e(t,e){return{type:l,payload:{vertical:t,watchList:e}}}function a(t,e){return{type:o,payload:{vertical:t,item:e}}}function r(t,e,a,r){return{type:c,payload:{vertical:t,resultId:e,isPaused:a,alertId:r}}}function i(t,e){return{type:s,payload:{vertical:t,resultId:e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateWatchlist=e,t.addToWatchlist=a,t.toggleItemState=r,t.removeFromWatchlist=i;var l=t.UPDATE_WATCHLIST="updateWatchlist",o=t.ADD_TO_WATCHLIST="addToWatchlist",c=t.TOGGLE_ITEM_STATE="toggleItemState",s=t.REMOVE_FROM_WATCHLIST="removeFromWatchlist"});define("default/flights/results/react/constants/FlexMatrixConstants",["exports"],function(_){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var E;_.displayModes={NONE:"NONE",PLUS_MINUS_THREE:"PLUS_MINUS_THREE",FLEX_FOR_ALL_BANNER:"FLEX_FOR_ALL_BANNER",FLEX_DATE_PREDICTIONS:"FLEX_DATE_PREDICTIONS"},_.presentationKeys={DEFAULT:"DEFAULT",V2:"V2"},_.priceCategories={BEST_PRICE:"BEST_PRICE",GOOD_PRICE:"GOOD_PRICE",DEFAULT:"DEFAULT",BAD_PRICE:"BAD_PRICE",WORST_PRICE:"WORST_PRICE"},_.flexFilterDateFormat="YYYYMMDD",_.flexDateNumericalRanges=(E={exact:[0,0],minusone:[-1,0],plusone:[0,1],plusminusone:[-1,1],plusminustwo:[-2,2],plusminusthree:[-3,3]},babelHelpers.defineProperty(E,void 0,[-3,3]),babelHelpers.defineProperty(E,null,[-3,3]),E),_.recommendationConfigKeys={MIN_SAVINGS_ABSOLUTE_USD:"MIN_SAVINGS_ABSOLUTE_USD",MIN_SAVINGS_QUERY_DATES:"MIN_SAVINGS_QUERY_DATES",MIN_SAVINGS_ONE_DAY_AWAY:"MIN_SAVINGS_ONE_DAY_AWAY",MIN_SAVINGS_TWO_DAYS_AWAY:"MIN_SAVINGS_TWO_DAYS_AWAY",MIN_SAVINGS_THREE_DAYS_AWAY:"MIN_SAVINGS_THREE_DAYS_AWAY",MIN_SAVINGS_MINOR_TWO_DAYS_AWAY:"MIN_SAVINGS_MINOR_TWO_DAYS_AWAY",MIN_SAVINGS_MINOR_THREE_DAYS_AWAY:"MIN_SAVINGS_MINOR_THREE_DAYS_AWAY"},_.recommendationStringKeys={TAB_ALL_SIMILAR_DATES:"TAB_ALL_SIMILAR_DATES",TAB_ALREADY_CHEAPEST_DATES:"TAB_ALREADY_CHEAPEST_DATES",TAB_CHEAPER_DEPART_BEFORE:"TAB_CHEAPER_DEPART_BEFORE",TAB_CHEAPER_DEPART_AFTER:"TAB_CHEAPER_DEPART_AFTER",TAB_CHEAPER_RETURN_BEFORE:"TAB_CHEAPER_RETURN_BEFORE",TAB_CHEAPER_RETURN_AFTER:"TAB_CHEAPER_RETURN_AFTER",TAB_CHEAPER_DEPART_RETURN:"TAB_CHEAPER_DEPART_RETURN",TAB_CHEAPER_LIMITED_SAVINGS:"TAB_CHEAPER_LIMITED_SAVINGS",TAB_FLEX_SEARCH_RECOMMENDED_RT:"TAB_FLEX_SEARCH_RECOMMENDED_RT",TAB_FLEX_SEARCH_RECOMMENDED_OW:"TAB_FLEX_SEARCH_RECOMMENDED_OW"}});define("default/flights/results/react/utils/AveragePriceInsightsBannerUtils",["exports","flights/results/react/constants/AveragePriceInsightsConstants"],function(e,r){"use strict";function a(e,a,n,t){var i=e.private.isFlex,s=!i&&(null===a||void 0===a),c=null===n||void 0===n,o=!a||a<=0,v=!n||n<=0;return s&&c?e.data.advantageType:!c||!s&&o?i?r.averagePriceAdvantageTypes.FLEX_SEARCH_LET_THE_USER_DECIDE:s&&!v&&!0!==t?r.averagePriceAdvantageTypes.LOADING_SEARCH_PRICE:o||v?r.averagePriceAdvantageTypes.NONE:r.averagePriceAdvantageTypes.SAVINGS:r.averagePriceAdvantageTypes.LOADING_AVERAGE_PRICE}function n(e,r){if(!e||!r||e<=0||r<=0)return NaN;var a=e>r,n=a?e/r:r/e;return Math.round(100*n)-100}function t(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n(e,a),i=arguments[3];if(!t&&0!==t)return r.averagePriceRecommendationTypes.NONE;if(!i&&0!==i)throw new Error("AveragePriceInsightsBanner#getClientDerivedRecommendationType:            Invalid argument for recommendationPercentThreshold: "+i);return t>=i?e>a?r.averagePriceRecommendationTypes.ABOVE_AVERAGE_PRICE:r.averagePriceRecommendationTypes.BELOW_AVERAGE_PRICE:r.averagePriceRecommendationTypes.AVERAGE_PRICE}Object.defineProperty(e,"__esModule",{value:!0}),e.getClientDerivedAdvantageType=a,e.getAbsolutePricePercentDifference=n,e.getClientDerivedRecommendationType=t});define("default/flights/results/react/reducers/FlightResultsPage",["exports","common/react/reducers/PageGlobals","flights/results/react/reducers/FlexMatrixReducer","flights/results/react/reducers/AveragePriceInsightsBannerReducer","flights/results/react/reducers/FlexForAllInsightsBannerReducer","flights/results/react/reducers/NearbyAirportInsightsBannerReducer","common/results/react/reducers/SearchPollListenerReducer","common/results/filters/react/reducers/FilterStateReducer","common/results/react/reducers/WatchlistReducer"],function(e,r,t,l,s,a,u,i,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=babelHelpers.interopRequireDefault(r),d=babelHelpers.interopRequireDefault(t),o=babelHelpers.interopRequireDefault(l),f=babelHelpers.interopRequireDefault(s),b=babelHelpers.interopRequireDefault(a),p=babelHelpers.interopRequireDefault(u),R=babelHelpers.interopRequireDefault(i),g=babelHelpers.interopRequireDefault(c);e.default=Redux.combineReducers({PageGlobals:n.default,FlexMatrix:d.default,AveragePriceInsightsBanner:o.default,FlexForAllInsightsBanner:f.default,NearbyAirportInsightsBanner:b.default,SearchPoll:p.default,FilterState:R.default,WatchListReducer:g.default})});define("default/common/results/filters/react/actions/FilterStateActions",["exports","common/results/react/constants/ResultsPageConstants","common/utils/react/question"],function(e,t,a){"use strict";function n(e,t){var a={};return Object.keys(e).forEach(function(n){a[n]=babelHelpers.extends({},t.valueMap[n]||{},{selected:e[n]})}),a}function r(e){var a=i.default.ask(t.RP_QUESTION_FILTER_DATA)||{},r={};return Object.keys(e).forEach(function(t){var l=a[t]||{valueMap:{}};r[t]=babelHelpers.extends({},l,{valueMap:n(e[t],l)})}),r}function l(e){return{type:d,payload:{data:r(e)}}}function u(e){return{type:d,payload:{data:e}}}function o(e){return{type:c,payload:{data:e}}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:E,payload:{filterNames:e,data:t}}}Object.defineProperty(e,"__esModule",{value:!0}),e.UPDATE_FILTER_DATA=e.ANY_FILTERS_CHANGED=e.FILTER_RESET_PENDING=void 0,e.updateValueSetFilterData=l,e.updateFilterData=u,e.handleAnyFiltersChanged=o,e.setFilterResetPending=s;var i=babelHelpers.interopRequireDefault(a),E=e.FILTER_RESET_PENDING="FilterState.FILTER_RESET_PENDING",c=e.ANY_FILTERS_CHANGED="FilterState.ANY_FILTERS_CHANGED",d=e.UPDATE_FILTER_DATA="FilterState.UPDATE_FILTER_DATA"});define("default/flights/results/react/actions/NearbyAirportInsightsBannerActions",["exports"],function(e){"use strict";function t(e,t){return{type:n,payload:{nearbyRecommendationApplied:e,undoFilterState:t}}}Object.defineProperty(e,"__esModule",{value:!0}),e.setNearbyRecommendationApplied=t;var n=e.SET_NEARBY_RECOMMENDATION_APPLIED="NearbyAirportInsightsBanner.SET_NEARBY_RECOMMENDATION_APPLIED"});define("default/common/utils/react/ImmutableObjectUtils",["exports"],function(e){"use strict";function t(e,t){var n={};return Object.keys(e).filter(function(e){return!t.includes(e)}).forEach(function(t){n[t]=e[t]}),n}Object.defineProperty(e,"__esModule",{value:!0}),e.omit=t,e.default=t});